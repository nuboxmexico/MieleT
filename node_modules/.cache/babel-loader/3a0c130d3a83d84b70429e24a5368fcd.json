{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/services/visits/StartVisitBtn.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { flash_alert } from 'components/App';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from \"react-i18next\";\nimport Tooltip from '@material-ui/core/Tooltip';\n\nfunction StartVisitBtn(props) {\n  var _useTranslation = useTranslation('translation', {\n    keyPrefix: 'services.visits'\n  }),\n      t = _useTranslation.t;\n\n  var _useState = useState(\"Iniciar visita\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      start_finish_text = _useState2[0],\n      setStartFinishText = _useState2[1];\n\n  var _useState3 = useState(\"play_arrow\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      start_finish_icon = _useState4[0],\n      setStartFinishIcon = _useState4[1];\n\n  var _useState5 = useState(\"Avisar llegada al domicilio\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      arrival_text = _useState6[0],\n      setArrivalText = _useState6[1];\n\n  var _useState7 = useState(\"home_work\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      arrival_icon = _useState8[0],\n      setArrivalIcon = _useState8[1];\n\n  function toggleStartFinish(visit_id) {\n    if (start_finish_icon == \"play_arrow\") {\n      setStartFinishText(\"Terminar Visita\");\n      setStartFinishIcon(\"stop\");\n      props.startVisit(visit_id);\n    } else {\n      setStartFinishText(\"Iniciar Visita\");\n      setStartFinishIcon(\"play_arrow\");\n      props.finishVisit(visit_id);\n    }\n  }\n\n  function toggleArrival(visit_id) {\n    if (arrival_icon == \"home_work\") {\n      setArrivalText(\"Reiniciar Tiempo\");\n      setArrivalIcon(\"restart_alt\");\n      props.arrivalVisit(visit_id);\n    } else {\n      setArrivalText(\"Avisar llegada al domicilio\");\n      setArrivalIcon(\"home_work\");\n      flash_alert(\"Reinicio\", t('flashAlert.startTheCounterAgain'), \"success\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: props.classes.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: props.btn_classname + \"customers-start-finish-visit-link\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return toggleArrival(props.visit_id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"service-tooltip\",\n      dangerouslySetInnerHTML: {\n        __html: arrival_text || \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    })),\n    arrow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 27\n    }\n  }, arrival_icon)))), /*#__PURE__*/React.createElement(Typography, {\n    className: props.classes.heading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: props.btn_classname + \"customers-start-finish-visit-link\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return toggleStartFinish(props.visit_id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"service-tooltip\",\n      dangerouslySetInnerHTML: {\n        __html: start_finish_text || \"\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    })),\n    arrow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 27\n    }\n  }, start_finish_icon)))));\n}\n\nvar structuredSelector = createStructuredSelector({});\nvar mapDispatchToProps = {};\nexport default connect(structuredSelector, mapDispatchToProps)(StartVisitBtn);","map":{"version":3,"sources":["/usr/src/app/javascript/components/services/visits/StartVisitBtn.jsx"],"names":["React","useState","useEffect","axios","connect","createStructuredSelector","flash_alert","Button","Typography","useTranslation","Tooltip","StartVisitBtn","props","keyPrefix","t","start_finish_text","setStartFinishText","start_finish_icon","setStartFinishIcon","arrival_text","setArrivalText","arrival_icon","setArrivalIcon","toggleStartFinish","visit_id","startVisit","finishVisit","toggleArrival","arrivalVisit","classes","heading","btn_classname","__html","structuredSelector","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\"\nimport { createStructuredSelector } from \"reselect\";\nimport { flash_alert } from 'components/App';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {useTranslation} from \"react-i18next\"\n\nimport Tooltip from '@material-ui/core/Tooltip';\n\nfunction StartVisitBtn(props){\n    const { t } = useTranslation('translation', { keyPrefix: 'services.visits' });\n\n\n    const [start_finish_text, setStartFinishText] = useState(\"Iniciar visita\");\n    const [start_finish_icon, setStartFinishIcon] = useState(\"play_arrow\");\n    \n    const [arrival_text, setArrivalText] = useState(\"Avisar llegada al domicilio\");\n    const [arrival_icon, setArrivalIcon] = useState(\"home_work\");\n\n\n    function toggleStartFinish(visit_id){\n        \n        if(start_finish_icon == \"play_arrow\"){\n            setStartFinishText(\"Terminar Visita\")\n            setStartFinishIcon(\"stop\")\n            props.startVisit(visit_id)\n        }else{\n            setStartFinishText(\"Iniciar Visita\")\n            setStartFinishIcon(\"play_arrow\")\n            props.finishVisit(visit_id)\n        }\n    }\n\n    function toggleArrival(visit_id){\n        \n        if(arrival_icon == \"home_work\"){\n            setArrivalText(\"Reiniciar Tiempo\")\n            setArrivalIcon(\"restart_alt\")\n            props.arrivalVisit(visit_id)\n        }else{\n            setArrivalText(\"Avisar llegada al domicilio\")\n            setArrivalIcon(\"home_work\")\n            flash_alert(\"Reinicio\", t('flashAlert.startTheCounterAgain'), \"success\")\n        }\n    }\n\n    \n    \n    \n\treturn (\n\t\t<React.Fragment>\n            <Typography className={props.classes.heading}>\n                <Button className={props.btn_classname + \"customers-start-finish-visit-link\"} color=\"primary\" onClick={() => toggleArrival(props.visit_id) }>\n                    <Tooltip title={\n                        <React.Fragment>\n                            <div className=\"service-tooltip\" dangerouslySetInnerHTML={{__html: (arrival_text|| \"\")}} /> \n                        </React.Fragment>} arrow>\n                        { <i className=\"material-icons\">{arrival_icon}</i> }\n                    </Tooltip>\n                </Button>\n            </Typography>\n            <Typography className={props.classes.heading}>\n                <Button className={props.btn_classname + \"customers-start-finish-visit-link\"} color=\"primary\" onClick={() => toggleStartFinish(props.visit_id) }>\n                    <Tooltip title={\n                        <React.Fragment>\n                            <div className=\"service-tooltip\" dangerouslySetInnerHTML={{__html: (start_finish_text|| \"\")}} /> \n                        </React.Fragment>} arrow>\n                        { <i className=\"material-icons\">{start_finish_icon}</i> }\n                    </Tooltip>\n                </Button>\n            </Typography>\n\t\t</React.Fragment>\n\t);\n  \n}\n\nconst structuredSelector = createStructuredSelector({\n});\nconst mapDispatchToProps = {};\n\nexport default connect(structuredSelector, mapDispatchToProps)(StartVisitBtn)\n\n"]},"metadata":{},"sourceType":"module"}