{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/site/SiteBreadCrumbs.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Collapse from '@material-ui/core/Collapse';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link, useHistory } from 'react-router-dom';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport { TranslatorProvider, useTranslate } from \"react-translate\";\nimport { useTranslation } from 'react-i18next';\nvar breadcrumbNameMap_es = {\n  '/users': 'Usuarios',\n  '/users/new': 'Nuevo',\n  '/users/:id/edit': 'Editar',\n  '/technicians': 'Técnicos',\n  '/technicians/new': 'Nuevo',\n  '/technicians/:id/edit': 'Editar',\n  '/customers': 'Clientes',\n  '/customers/new': 'Nuevo',\n  '/customers/:id/edit': 'Editar',\n  '/customers/:id/show': 'Detalle Cliente',\n  '/customers/show': 'Detalle Cliente',\n  '/customers/:id/additional': 'Adicional Cliente',\n  '/customers/:id/additional_address': 'Dirección Adicional',\n  '/customers/:id/new_service': 'Nuevo Servicio',\n  '/customers/:id/edit_service': 'Servicio Agendado',\n  '/customers/:id/services/new_visit': 'Nueva Visita',\n  '/customers/:id/new_policy': 'Nueva Póliza',\n  '/customers/:id/edit_policy': 'Editar Póliza',\n  '/customers/:id/projects/:project_id/show': 'Detalle proyecto',\n  '/services': 'Servicios',\n  '/finance': 'Finanzas',\n  '/calendar': 'Calendario general',\n  '/surveys': 'Encuestas',\n  '/notifications': 'Notificaciones'\n};\nvar breadcrumbNameMap_pt = {\n  '/users': 'Usuários',\n  '/users/new': 'Novo',\n  '/users/:id/edit': 'Editar',\n  '/technicians': 'Técnicos',\n  '/technicians/new': 'Novo',\n  '/technicians/:id/edit': 'Editar',\n  '/customers': 'Clientes',\n  '/customers/new': 'Novo',\n  '/customers/:id/edit': 'Editar',\n  '/customers/:id/show': 'Detalhes do cliente',\n  '/customers/show': 'Detalhes do cliente',\n  '/customers/:id/additional': 'Cliente Adicional',\n  '/customers/:id/additional_address': 'Endereço adicional',\n  '/customers/:id/new_service': 'Novo serviço',\n  '/customers/:id/edit_service': 'Serviço agendado',\n  '/customers/:id/services/new_visit': 'Nova visita',\n  '/customers/:id/new_policy': 'Nova Política',\n  '/customers/:id/edit_policy': 'Editar política',\n  '/customers/:id/projects/:project_id/show': 'Detalhes do projeto',\n  '/services': 'Serviços',\n  '/finance': 'Finanças',\n  '/calendar': 'Calendário geral',\n  '/surveys': 'Pesquisas',\n  '/notifications': 'Notificações'\n};\nvar translations_es = {\n  locale: \"es\",\n  BreadCrumb: {\n    \"edit\": \"Editar\",\n    \"show\": \"Detalles\",\n    \"additional\": \"Adicional\",\n    \"additional_address\": \"Dirección Adicional\",\n    \"new_service\": \"Nuevo Servicio\",\n    \"edit_service\": \"Servicio Agendado\",\n    \"new_policy\": \"Nueva Póliza\",\n    \"edit_policy\": \"Editar Póliza\",\n    \"new_visit\": \"Nueva Visita\"\n  }\n};\nvar translations_pt = {\n  locale: \"pt\",\n  BreadCrumb: {\n    \"edit\": \"Editar\",\n    \"show\": \"Detalhes\",\n    \"additional\": \"Adicional\",\n    \"additional_address\": \"Endereço Adicional\",\n    \"new_service\": \"Novo serviço\",\n    \"edit_service\": \"Serviço agendado\",\n    \"new_policy\": \"Nova Política\",\n    \"edit_policy\": \"Editar Política\",\n    \"new_visit\": \"Nova visita\"\n  }\n};\n\nfunction BreadCrumbT(text) {\n  var t = useTranslate(\"BreadCrumb\");\n  return t(text.text);\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: \"auto\"\n    },\n    lists: {\n      backgroundColor: theme.palette.background.paper,\n      marginTop: theme.spacing(1)\n    },\n    nested: {\n      paddingLeft: theme.spacing(4)\n    }\n  };\n});\n\nfunction SiteBreadCrumbs(props) {\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      breadcrumbs = _useState2[0],\n      setBreadcrumbs = _useState2[1];\n\n  var history = useHistory();\n\n  var _useTranslation = useTranslation(),\n      i18n = _useTranslation.i18n;\n\n  useEffect(function () {\n    fetchData();\n    history.listen(function (location, action) {\n      fetchData();\n    });\n  }, [history.location.pathname]);\n\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n\n  function _fetchData() {\n    _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var breadcrumbNameMap, newBreadcrumbs, pathnames, last_path;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              breadcrumbNameMap = i18n.language === 'es' ? breadcrumbNameMap_es : breadcrumbNameMap_pt;\n              newBreadcrumbs = [];\n\n              if (breadcrumbNameMap) {\n                pathnames = location.pathname.split('/').filter(function (x) {\n                  return x;\n                });\n                last_path = null;\n                {\n                  pathnames.map(function (value, index) {\n                    var last = index === pathnames.length - 1;\n                    var to = \"/\".concat(pathnames.slice(0, index + 1).join('/'));\n\n                    if (last && pathnames.length > 2) {\n                      newBreadcrumbs.push( /*#__PURE__*/React.createElement(Typography, {\n                        className: \"mdl-navigation__link capitalize\",\n                        key: to,\n                        __self: _this,\n                        __source: {\n                          fileName: _jsxFileName,\n                          lineNumber: 148,\n                          columnNumber: 17\n                        }\n                      }, /*#__PURE__*/React.createElement(BreadCrumbT, {\n                        text: pathnames[pathnames.length - 1],\n                        __self: _this,\n                        __source: {\n                          fileName: _jsxFileName,\n                          lineNumber: 149,\n                          columnNumber: 21\n                        }\n                      })));\n                    } else {\n                      if (breadcrumbNameMap[to]) {\n                        newBreadcrumbs.push( /*#__PURE__*/React.createElement(Link, {\n                          className: \"mdl-navigation__link\",\n                          to: to,\n                          key: to,\n                          __self: _this,\n                          __source: {\n                            fileName: _jsxFileName,\n                            lineNumber: 155,\n                            columnNumber: 17\n                          }\n                        }, breadcrumbNameMap[to]));\n                      } else {\n                        var to_t = \"/\".concat(pathnames[0], \"/show\");\n\n                        if (last_path != breadcrumbNameMap[to_t]) {\n                          if (breadcrumbNameMap[to_t]) {\n                            console.log(to_t);\n                            newBreadcrumbs.push( /*#__PURE__*/React.createElement(Link, {\n                              className: \"mdl-navigation__link\",\n                              to: to + \"/show\",\n                              key: to + \"/show\",\n                              __self: _this,\n                              __source: {\n                                fileName: _jsxFileName,\n                                lineNumber: 165,\n                                columnNumber: 19\n                              }\n                            }, breadcrumbNameMap[to_t]));\n                          }\n                        }\n\n                        last_path = breadcrumbNameMap[to_t];\n                      }\n                    }\n                  });\n                }\n              }\n\n              setBreadcrumbs(newBreadcrumbs);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchData.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TranslatorProvider, {\n    translations: i18n.language === 'es' ? translations_es : translations_pt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n    separator: /*#__PURE__*/React.createElement(NavigateNextIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 35\n      }\n    }),\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"mdl-navigation__link\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, \"Inicio\"), breadcrumbs)));\n}\n\nvar structuredSelector = createStructuredSelector({});\nvar mapDispatchToProps = {};\nexport default connect(structuredSelector, mapDispatchToProps)(SiteBreadCrumbs);","map":{"version":3,"sources":["/usr/src/app/javascript/components/site/SiteBreadCrumbs.js"],"names":["React","useState","useEffect","PropTypes","connect","createStructuredSelector","makeStyles","List","ListItem","Collapse","ListItemText","Typography","ExpandLess","ExpandMore","Breadcrumbs","Link","useHistory","NavigateNextIcon","TranslatorProvider","useTranslate","useTranslation","breadcrumbNameMap_es","breadcrumbNameMap_pt","translations_es","locale","BreadCrumb","translations_pt","BreadCrumbT","text","t","useStyles","theme","root","display","flexDirection","width","lists","backgroundColor","palette","background","paper","marginTop","spacing","nested","paddingLeft","SiteBreadCrumbs","props","classes","breadcrumbs","setBreadcrumbs","history","i18n","fetchData","listen","location","action","pathname","breadcrumbNameMap","language","newBreadcrumbs","pathnames","split","filter","x","last_path","map","value","index","last","length","to","slice","join","push","to_t","console","log","structuredSelector","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\"\nimport { createStructuredSelector } from \"reselect\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Collapse from '@material-ui/core/Collapse';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Link, useHistory } from 'react-router-dom';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport { TranslatorProvider, useTranslate } from \"react-translate\"\nimport { useTranslation } from 'react-i18next';\n\nconst breadcrumbNameMap_es = {\n  '/users': 'Usuarios',\n  '/users/new': 'Nuevo',\n  '/users/:id/edit': 'Editar',\n  '/technicians': 'Técnicos',\n  '/technicians/new': 'Nuevo',\n  '/technicians/:id/edit': 'Editar',\n  '/customers': 'Clientes',\n  '/customers/new': 'Nuevo',\n  '/customers/:id/edit': 'Editar',\n  '/customers/:id/show': 'Detalle Cliente',\n  '/customers/show': 'Detalle Cliente',\n  '/customers/:id/additional': 'Adicional Cliente',\n  '/customers/:id/additional_address': 'Dirección Adicional',\n  '/customers/:id/new_service': 'Nuevo Servicio',\n  '/customers/:id/edit_service': 'Servicio Agendado',\n  '/customers/:id/services/new_visit': 'Nueva Visita',\n  '/customers/:id/new_policy': 'Nueva Póliza',\n  '/customers/:id/edit_policy': 'Editar Póliza',\n  '/customers/:id/projects/:project_id/show': 'Detalle proyecto',\n  '/services': 'Servicios',\n  '/finance': 'Finanzas',\n  '/calendar': 'Calendario general',\n  '/surveys': 'Encuestas',\n  '/notifications': 'Notificaciones',\n};\n\nconst breadcrumbNameMap_pt = {\n  '/users': 'Usuários',\n  '/users/new': 'Novo',\n  '/users/:id/edit': 'Editar',\n  '/technicians': 'Técnicos',\n  '/technicians/new': 'Novo',\n  '/technicians/:id/edit': 'Editar',\n  '/customers': 'Clientes',\n  '/customers/new': 'Novo',\n  '/customers/:id/edit': 'Editar',\n  '/customers/:id/show': 'Detalhes do cliente',\n  '/customers/show': 'Detalhes do cliente',\n  '/customers/:id/additional': 'Cliente Adicional',\n  '/customers/:id/additional_address': 'Endereço adicional',\n  '/customers/:id/new_service': 'Novo serviço',\n  '/customers/:id/edit_service': 'Serviço agendado',\n  '/customers/:id/services/new_visit': 'Nova visita',\n  '/customers/:id/new_policy': 'Nova Política',\n  '/customers/:id/edit_policy': 'Editar política',\n  '/customers/:id/projects/:project_id/show': 'Detalhes do projeto',\n  '/services': 'Serviços',\n  '/finance': 'Finanças',\n  '/calendar': 'Calendário geral',\n  '/surveys': 'Pesquisas',\n  '/notifications': 'Notificações',\n};\n\nlet translations_es = {\n  locale: \"es\",\n  BreadCrumb: {\n    \"edit\": \"Editar\",\n    \"show\": \"Detalles\",\n    \"additional\": \"Adicional\",\n    \"additional_address\": \"Dirección Adicional\",\n    \"new_service\": \"Nuevo Servicio\",\n    \"edit_service\": \"Servicio Agendado\",\n    \"new_policy\": \"Nueva Póliza\",\n    \"edit_policy\": \"Editar Póliza\",\n    \"new_visit\": \"Nueva Visita\"\n  }\n};\n\nlet translations_pt = {\n  locale: \"pt\",\n  BreadCrumb: {\n    \"edit\": \"Editar\",\n    \"show\": \"Detalhes\",\n    \"additional\": \"Adicional\",\n    \"additional_address\": \"Endereço Adicional\",\n    \"new_service\": \"Novo serviço\",\n    \"edit_service\": \"Serviço agendado\",\n    \"new_policy\": \"Nova Política\",\n    \"edit_policy\": \"Editar Política\",\n    \"new_visit\": \"Nova visita\"\n  }\n};\n \nfunction BreadCrumbT(text) {\n  let t = useTranslate(\"BreadCrumb\");\n  return t(text.text)\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: \"auto\",\n  },\n  lists: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1),\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n}));\n\n\nfunction SiteBreadCrumbs(props){\n  const classes = useStyles();\n  const [breadcrumbs, setBreadcrumbs] = useState([]);\n  const history = useHistory();\n  const {i18n} = useTranslation();\n  useEffect(() => {\n    fetchData();\n    history.listen((location, action) => {\n      fetchData();\n    });\n  },[history.location.pathname]);\n\n  async function fetchData() {\n    const breadcrumbNameMap = (i18n.language === 'es'? breadcrumbNameMap_es : breadcrumbNameMap_pt) \n    let newBreadcrumbs = []\n      if (breadcrumbNameMap){\n        const pathnames = location.pathname.split('/').filter((x) => x);\n        let last_path = null;\n        {pathnames.map((value, index) => {\n          const last = index === pathnames.length - 1;\n          const to = `/${pathnames.slice(0, index + 1).join('/')}`;\n         \n          if(last && pathnames.length > 2){\n            newBreadcrumbs.push(\n                <Typography className=\"mdl-navigation__link capitalize\" key={to}>\n                    <BreadCrumbT text={pathnames[pathnames.length - 1]}/>\n                </Typography>\n            );\n          }else{\n            if(breadcrumbNameMap[to]){\n              newBreadcrumbs.push(\n                <Link className=\"mdl-navigation__link\" to={to} key={to}>\n                  {breadcrumbNameMap[to]}\n                </Link>\n              );\n            }else{\n              var to_t = `/${pathnames[0]}/show`;\n              if (last_path != breadcrumbNameMap[to_t]){\n                if(breadcrumbNameMap[to_t]){\n                  console.log(to_t)\n                  newBreadcrumbs.push(\n                  <Link className=\"mdl-navigation__link\" to={to+\"/show\"} key={to+\"/show\"}>\n                      {breadcrumbNameMap[to_t]}\n                  </Link>\n                  );\n                }\n              }\n              last_path = breadcrumbNameMap[to_t]   \n            }\n          }\n          \n        })}\n      }\n      setBreadcrumbs(newBreadcrumbs);\n  }\n\n  return (\n      <div className={classes.root}>\n        <TranslatorProvider translations={i18n.language === 'es'? translations_es : translations_pt}>\n          <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\n            <Link className=\"mdl-navigation__link\" to=\"/\">\n                Inicio\n            </Link>\n            {breadcrumbs}  \n          \n          </Breadcrumbs>\n        </TranslatorProvider>\n      </div>\n  );\n}\n\nconst structuredSelector = createStructuredSelector({});\nconst mapDispatchToProps = {};\nexport default (connect(structuredSelector, mapDispatchToProps)(SiteBreadCrumbs));\n"]},"metadata":{},"sourceType":"module"}