{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/technicians/EditTechnician.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from \"prop-types\";\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { flash_alert } from 'components/App';\nimport Technicians from \"components/technicians/Technicians\";\nimport TechnicianForm from \"components/technicians/TechnicianForm\";\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%',\n      maxWidth: '36ch',\n      backgroundColor: theme.palette.background.paper\n    },\n    inline: {\n      display: 'inline'\n    }\n  };\n});\n\nfunction EditTechnician(props) {\n  var _React$createElement;\n\n  var classes = useStyles();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      technicianID = _useState2[0],\n      setTechnicianID = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userdata = _useState6[0],\n      setUserdata = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      photo = _useState8[0],\n      setPhoto = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      photoURL = _useState10[0],\n      setPhotoURL = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      store = _useState12[0],\n      setStore = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      vehicleInfo = _useState14[0],\n      setVehicleInfo = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      vehicleLicense = _useState16[0],\n      setVehicleLicense = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      roleName = _useState18[0],\n      setRoleName = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      redirect = _useState20[0],\n      setRedirect = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      enterprise = _useState22[0],\n      setEnterprise = _useState22[1];\n\n  var _useState23 = useState({\n    value: \"\",\n    label: \"\"\n  }),\n      _useState24 = _slicedToArray(_useState23, 2),\n      selectedOption = _useState24[0],\n      setSelectedOption = _useState24[1];\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      options = _React$useState2[0],\n      setOptions = _React$useState2[1];\n\n  var _useState25 = useState([]),\n      _useState26 = _slicedToArray(_useState25, 2),\n      checkedinstallation = _useState26[0],\n      setCheckedinstallation = _useState26[1];\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      checkedmaintenance = _useState28[0],\n      setCheckedmaintenance = _useState28[1];\n\n  var _useState29 = useState([]),\n      _useState30 = _slicedToArray(_useState29, 2),\n      checkedrepair = _useState30[0],\n      setCheckedrepair = _useState30[1];\n\n  var _useState31 = useState([]),\n      _useState32 = _slicedToArray(_useState31, 2),\n      checkeddiagnosis = _useState32[0],\n      setCheckeddiagnosis = _useState32[1];\n\n  var _useState33 = useState([]),\n      _useState34 = _slicedToArray(_useState33, 2),\n      checkedhome_program = _useState34[0],\n      setCheckedHomeProgram = _useState34[1];\n\n  var _useState35 = useState([]),\n      _useState36 = _slicedToArray(_useState35, 2),\n      checkeddelivery = _useState36[0],\n      setCheckedDelivery = _useState36[1];\n\n  var _useState37 = useState([]),\n      _useState38 = _slicedToArray(_useState37, 2),\n      zoneFile = _useState38[0],\n      setZoneFile = _useState38[1]; // Technician events\n\n\n  var _useState39 = useState([]),\n      _useState40 = _slicedToArray(_useState39, 2),\n      newEvents = _useState40[0],\n      setNewEvents = _useState40[1]; // Button loading\n\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      loading = _React$useState4[0],\n      setLoading = _React$useState4[1];\n\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var userId;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userId = props.match.params.id;\n                return _context.abrupt(\"return\", fetch(\"/api/v1/technicians/\".concat(userId)).then(function (response) {\n                  return response.json();\n                }).then(function (json) {\n                  setTechnicianID(json.data.id);\n                  setUser(json.data.user.id);\n                  setUserdata(json.data.user);\n                  setStore(json.data.n_store);\n                  setVehicleInfo(json.data.vehicle_info);\n                  setVehicleLicense(json.data.vehicle_license);\n                  setPhotoURL(json.data.photo);\n                  setRoleName(json.data.activities.map(function (activity) {\n                    return activity.name;\n                  }));\n                  setEnterprise(json.data.enterprise);\n\n                  if (\"installation\" in json.data.technician_taxons_grouped) {\n                    setCheckedinstallation(json.data.technician_taxons_grouped.installation.map(function (taxon) {\n                      return taxon.taxon_id;\n                    }));\n                  }\n\n                  if (\"maintenance\" in json.data.technician_taxons_grouped) {\n                    setCheckedmaintenance(json.data.technician_taxons_grouped.maintenance.map(function (taxon) {\n                      return taxon.taxon_id;\n                    }));\n                  }\n\n                  if (\"repair\" in json.data.technician_taxons_grouped) {\n                    setCheckedrepair(json.data.technician_taxons_grouped.repair.map(function (taxon) {\n                      return taxon.taxon_id;\n                    }));\n                  }\n\n                  if (\"diagnosis\" in json.data.technician_taxons_grouped) {\n                    setCheckeddiagnosis(json.data.technician_taxons_grouped.diagnosis.map(function (taxon) {\n                      return taxon.taxon_id;\n                    }));\n                  }\n\n                  if (\"home_program\" in json.data.technician_taxons_grouped) {\n                    setCheckedHomeProgram(json.data.technician_taxons_grouped.home_program.map(function (taxon) {\n                      return taxon.taxon_id;\n                    }));\n                  }\n\n                  if (\"delivery\" in json.data.technician_taxons_grouped) {\n                    setCheckedDelivery(json.data.technician_taxons_grouped.delivery.map(function (taxon) {\n                      return taxon.taxon_id;\n                    }));\n                  }\n                })[\"catch\"](function (error) {\n                  return console.log(error);\n                }));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n\n    function fetchOptions() {\n      return _fetchOptions.apply(this, arguments);\n    }\n\n    function _fetchOptions() {\n      _fetchOptions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var response, users;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"/api/v1/get_technicians\");\n\n              case 2:\n                response = _context2.sent;\n                _context2.next = 5;\n                return response.json();\n\n              case 5:\n                users = _context2.sent;\n                _context2.next = 8;\n                return setOptions(users);\n\n              case 8:\n                users.find(function (e) {\n                  if (e.value == props.user) {\n                    console.log(e);\n                    setSelectedOption(e);\n                  }\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _fetchOptions.apply(this, arguments);\n    }\n\n    fetchOptions();\n  }, []);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    var body = new FormData();\n    body.set('user_id', user);\n    body.set('n_store', store);\n    body.set('vehicle_info', vehicleInfo);\n    body.set('vehicle_license', vehicleLicense);\n    body.set('activities', roleName);\n    body.set('checkedinstallation', checkedinstallation);\n    body.set('checkedmaintenance', checkedmaintenance);\n    body.set('checkedrepair', checkedrepair);\n    body.set('checkeddiagnosis', checkeddiagnosis);\n    body.set('checkedhome_program', checkedhome_program);\n    body.set('checkeddelivery', checkeddelivery);\n    body.set('technicians_events', JSON.stringify(newEvents));\n    body.set('enterprise', enterprise);\n    body.append(\"file\", photo);\n    body.append(\"zoneFile\", zoneFile);\n    return axios.patch(\"/api/v1/technicians/\".concat(props.match.params.id), body, {\n      headers: props.headers\n    }).then(function (response) {\n      flash_alert(\"Actualizado!\", \"El técnico se ha actualizado correctamente\", \"success\");\n      setRedirect(true);\n    })[\"catch\"](function (e) {\n      console.log(e.response.data);\n      setLoading(false);\n\n      if (e.response.data) {\n        for (var key in e.response.data) {\n          flash_alert(\"Error\", e.response.data[key], \"danger\");\n        }\n      }\n    });\n  }\n\n  var redirect_check = [];\n\n  if (redirect) {\n    redirect_check.push( /*#__PURE__*/React.createElement(Redirect, {\n      key: \"redirect-to-technicians\",\n      to: \"/technicians\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Technicians, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 63\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 3\n    }\n  }, redirect_check, /*#__PURE__*/React.createElement(Paper, {\n    className: \"custom-paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }, \"Editar t\\xE9cnico\"), /*#__PURE__*/React.createElement(List, {\n    dense: true,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: \"technician-avatar\",\n    alt: userdata.firstname,\n    src: photoURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: userdata.firstname + \" \" + userdata.lastname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(TechnicianForm, (_React$createElement = {\n    handleSubmit: handleSubmit,\n    technicianID: technicianID,\n    user: user,\n    userdata: userdata,\n    selectedOption: selectedOption,\n    options: options,\n    setUser: setUser,\n    setUserdata: setUserdata,\n    setSelectedOption: setSelectedOption,\n    setOptions: setOptions,\n    setRedirect: setRedirect,\n    store: store,\n    setStore: setStore,\n    vehicleInfo: vehicleInfo,\n    setVehicleInfo: setVehicleInfo,\n    vehicleLicense: vehicleLicense,\n    setVehicleLicense: setVehicleLicense,\n    roleName: roleName,\n    setRoleName: setRoleName,\n    redirect: redirect\n  }, _defineProperty(_React$createElement, \"setRedirect\", setRedirect), _defineProperty(_React$createElement, \"roleName\", roleName), _defineProperty(_React$createElement, \"setRoleName\", setRoleName), _defineProperty(_React$createElement, \"photo\", photo), _defineProperty(_React$createElement, \"setPhoto\", setPhoto), _defineProperty(_React$createElement, \"checkedinstallation\", checkedinstallation), _defineProperty(_React$createElement, \"checkedmaintenance\", checkedmaintenance), _defineProperty(_React$createElement, \"checkedrepair\", checkedrepair), _defineProperty(_React$createElement, \"checkeddiagnosis\", checkeddiagnosis), _defineProperty(_React$createElement, \"checkedhome_program\", checkedhome_program), _defineProperty(_React$createElement, \"checkeddelivery\", checkeddelivery), _defineProperty(_React$createElement, \"setCheckedinstallation\", setCheckedinstallation), _defineProperty(_React$createElement, \"setCheckedmaintenance\", setCheckedmaintenance), _defineProperty(_React$createElement, \"setCheckedrepair\", setCheckedrepair), _defineProperty(_React$createElement, \"setCheckeddiagnosis\", setCheckeddiagnosis), _defineProperty(_React$createElement, \"setCheckedHomeProgram\", setCheckedHomeProgram), _defineProperty(_React$createElement, \"setCheckedDelivery\", setCheckedDelivery), _defineProperty(_React$createElement, \"newEvents\", newEvents), _defineProperty(_React$createElement, \"setNewEvents\", setNewEvents), _defineProperty(_React$createElement, \"zoneFile\", zoneFile), _defineProperty(_React$createElement, \"setZoneFile\", setZoneFile), _defineProperty(_React$createElement, \"loading\", loading), _defineProperty(_React$createElement, \"setLoading\", setLoading), _defineProperty(_React$createElement, \"enterprise\", enterprise), _defineProperty(_React$createElement, \"setEnterprise\", setEnterprise), _defineProperty(_React$createElement, \"__self\", this), _defineProperty(_React$createElement, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }), _React$createElement))));\n}\n\nvar structuredSelector = createStructuredSelector({\n  user: function user(state) {\n    return state.user;\n  }\n});\nvar mapDispatchToProps = {};\nexport default connect(structuredSelector, mapDispatchToProps)(EditTechnician);","map":{"version":3,"sources":["/usr/src/app/javascript/components/technicians/EditTechnician.jsx"],"names":["React","useState","useEffect","ReactDOM","PropTypes","axios","Redirect","connect","createStructuredSelector","flash_alert","Technicians","TechnicianForm","Container","Paper","makeStyles","List","ListItem","ListItemText","ListItemAvatar","Avatar","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","inline","display","EditTechnician","props","classes","technicianID","setTechnicianID","user","setUser","userdata","setUserdata","photo","setPhoto","photoURL","setPhotoURL","store","setStore","vehicleInfo","setVehicleInfo","vehicleLicense","setVehicleLicense","roleName","setRoleName","redirect","setRedirect","enterprise","setEnterprise","value","label","selectedOption","setSelectedOption","options","setOptions","checkedinstallation","setCheckedinstallation","checkedmaintenance","setCheckedmaintenance","checkedrepair","setCheckedrepair","checkeddiagnosis","setCheckeddiagnosis","checkedhome_program","setCheckedHomeProgram","checkeddelivery","setCheckedDelivery","zoneFile","setZoneFile","newEvents","setNewEvents","loading","setLoading","fetchData","userId","match","params","id","fetch","then","response","json","data","n_store","vehicle_info","vehicle_license","activities","map","activity","name","technician_taxons_grouped","installation","taxon","taxon_id","maintenance","repair","diagnosis","home_program","delivery","error","console","log","fetchOptions","users","find","e","handleSubmit","event","preventDefault","body","FormData","set","JSON","stringify","append","patch","headers","key","redirect_check","push","firstname","lastname","structuredSelector","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom'\nimport PropTypes from \"prop-types\"\nimport axios from 'axios';\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\"\nimport { createStructuredSelector } from \"reselect\"\nimport { flash_alert } from 'components/App';\nimport Technicians from \"components/technicians/Technicians\"\nimport TechnicianForm from \"components/technicians/TechnicianForm\"\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t  width: '100%',\n\t  maxWidth: '36ch',\n\t  backgroundColor: theme.palette.background.paper,\n\t},\n\tinline: {\n\t  display: 'inline',\n\t},\n}));\n\nfunction EditTechnician(props) {\n\t\tconst classes = useStyles();\n\t\tconst [technicianID, setTechnicianID] = useState(\"\");\n\t\tconst [user, setUser] = useState({});\n\t\tconst [userdata, setUserdata] = useState({});\n\t\t\n\t\tconst [photo, setPhoto] = useState({});\n\t\tconst [photoURL, setPhotoURL] = useState(\"\");\n\t\tconst [store, setStore] = useState(\"\");\n\t\tconst [vehicleInfo, setVehicleInfo] = useState(\"\");\n\t\tconst [vehicleLicense, setVehicleLicense] = useState(\"\");\n\t\tconst [roleName, setRoleName] = useState([]);\n\t\tconst [redirect, setRedirect] = useState(false);\n\t\tconst [enterprise, setEnterprise] = useState(\"\");\n\t\tconst [selectedOption, setSelectedOption] = useState({value: \"\", label: \"\"});\n\t\tconst [options, setOptions] = React.useState([]);\n\n\t\tconst [checkedinstallation, setCheckedinstallation] = useState([]);\n\t\tconst [checkedmaintenance, setCheckedmaintenance] = useState([]);\n\t\tconst [checkedrepair, setCheckedrepair] = useState([]);\n\t\tconst [checkeddiagnosis, setCheckeddiagnosis] =  useState([]);\n\t\tconst [checkedhome_program, setCheckedHomeProgram] = useState([]);\n\t\tconst [checkeddelivery, setCheckedDelivery] = useState([]);\n\n\t\tconst [zoneFile, setZoneFile] = useState([]);\n\t\t// Technician events\n\t\tconst [newEvents, setNewEvents] = useState([]);\n\n\t\t// Button loading\n\t\tconst [loading, setLoading] = React.useState(false);\n\t\tuseEffect(() => {\n\t\t\tasync function fetchData() {\n\t\t\t\tlet userId = props.match.params.id;\n\t\t\t\treturn fetch(`/api/v1/technicians/${userId}`)\n\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t.then(json => {\n\t\t\t\t\t\tsetTechnicianID(json.data.id)\n\t\t\t\t\t\tsetUser(json.data.user.id)\n\t\t\t\t\t\tsetUserdata(json.data.user)\n\t\t\t\t\t\tsetStore(json.data.n_store)\n\t\t\t\t\t\tsetVehicleInfo(json.data.vehicle_info)\n\t\t\t\t\t\tsetVehicleLicense(json.data.vehicle_license)\n\t\t\t\t\t\tsetPhotoURL(json.data.photo)\n\t\t\t\t\t\tsetRoleName(json.data.activities.map(activity => activity.name))\n\t\t\t\t\t\tsetEnterprise(json.data.enterprise)\n\t\t\t\t\t\tif(\"installation\" in json.data.technician_taxons_grouped){\n\t\t\t\t\t\t\tsetCheckedinstallation(json.data.technician_taxons_grouped.installation.map(taxon => taxon.taxon_id))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(\"maintenance\" in json.data.technician_taxons_grouped){\n\t\t\t\t\t\t\tsetCheckedmaintenance(json.data.technician_taxons_grouped.maintenance.map(taxon => taxon.taxon_id))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(\"repair\" in json.data.technician_taxons_grouped){\n\t\t\t\t\t\t\tsetCheckedrepair(json.data.technician_taxons_grouped.repair.map(taxon => taxon.taxon_id))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(\"diagnosis\" in json.data.technician_taxons_grouped){\n\t\t\t\t\t\t\tsetCheckeddiagnosis(json.data.technician_taxons_grouped.diagnosis.map(taxon => taxon.taxon_id))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(\"home_program\" in json.data.technician_taxons_grouped){\n\t\t\t\t\t\t\tsetCheckedHomeProgram(json.data.technician_taxons_grouped.home_program.map(taxon => taxon.taxon_id))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(\"delivery\" in json.data.technician_taxons_grouped){\n\t\t\t\t\t\t\tsetCheckedDelivery(json.data.technician_taxons_grouped.delivery.map(taxon => taxon.taxon_id))\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => console.log(error));\n\t\t\t}\n\t\t\tfetchData();\n\n\t\t\t\n\n\t\t\tasync function fetchOptions() {\n\t\t\t\tconst response = await fetch(`/api/v1/get_technicians`);\n\t\t\t\tconst users = await response.json();\n\t\t\t\tawait setOptions(users);\n\t\t\t\t\tusers.find(function(e) {\n\t\t\t\t\tif (e.value == props.user){\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\tsetSelectedOption(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tfetchOptions();\n\t\t}, []);\n\n\t\tfunction handleSubmit(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar body = new FormData();\n\t\t\tbody.set('user_id', user);\n\t\t\tbody.set('n_store', store);\n\t\t\tbody.set('vehicle_info', vehicleInfo);\n\t\t\tbody.set('vehicle_license', vehicleLicense);\n\t\t\tbody.set('activities', roleName);\n\t\t\tbody.set('checkedinstallation', checkedinstallation);\n\t\t\tbody.set('checkedmaintenance', checkedmaintenance);\n\t\t\tbody.set('checkedrepair', checkedrepair);\n\t\t\tbody.set('checkeddiagnosis', checkeddiagnosis);\n\t\t\tbody.set('checkedhome_program', checkedhome_program);\n\t\t\tbody.set('checkeddelivery', checkeddelivery);\n\t\t\t\n\t\t\tbody.set('technicians_events', JSON.stringify(newEvents));\n\t\t\tbody.set('enterprise', enterprise);\n\t\t\tbody.append(\"file\", photo);\n\t\t\tbody.append(\"zoneFile\", zoneFile);\n\t\t\treturn axios.patch(`/api/v1/technicians/${props.match.params.id}`, body, { headers: props.headers })\n\t\t\t\t.then(response => {\n\t\t\t\t\tflash_alert(\"Actualizado!\", \"El técnico se ha actualizado correctamente\", \"success\")\n\t\t\t\t\tsetRedirect(true);\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tconsole.log(e.response.data);\n\t\t\t\t\tsetLoading(false)\n\t\t\t\t\tif (e.response.data) {\n\t\t\t\t\t\tfor (var key in e.response.data) {\n\t\t\t\t\t\t\tflash_alert(\"Error\", e.response.data[key], \"danger\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\n\t\tlet redirect_check = []\n\t\tif (redirect) {\n\t\t\tredirect_check.push(\n\t\t\t\t<Redirect key=\"redirect-to-technicians\" to=\"/technicians\"><Technicians /></Redirect>\n\t\t\t);\n\t\t}\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{redirect_check}\n\t\t\t<Paper className=\"custom-paper\">\n\t\t\t\t<h1>Editar técnico</h1>\n\t\t\t\t<List  dense className={classes.root}>\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t\t\t<Avatar className=\"technician-avatar\" alt={userdata.firstname} src={photoURL} />\n\t\t\t\t\t\t</ListItemAvatar>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\tprimary={userdata.firstname + \" \" + userdata.lastname}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</List>\n\t\t\t\t<TechnicianForm\n\t\t\t\t\thandleSubmit = {handleSubmit}\n\t\t\t\t\ttechnicianID={technicianID}\n\t\t\t\t\tuser={user}\n\t\t\t\t\tuserdata={userdata}\n\t\t\t\t\tselectedOption={selectedOption}\n\t\t\t\t\toptions={options}\n\t\t\t\t\tsetUser={setUser}\n\t\t\t\t\tsetUserdata={setUserdata}\n\t\t\t\t\tsetSelectedOption={setSelectedOption}\n\t\t\t\t\tsetOptions={setOptions}\n\t\t\t\t\tsetRedirect = {setRedirect}\n\t\t\t\t\tstore={store}\n\t\t\t\t\tsetStore={setStore}\n\t\t\t\t\tvehicleInfo={vehicleInfo}\n\t\t\t\t\tsetVehicleInfo={setVehicleInfo}\n\t\t\t\t\tvehicleLicense={vehicleLicense}\n\t\t\t\t\tsetVehicleLicense={setVehicleLicense}\n\t\t\t\t\troleName={roleName}\n\t\t\t\t\tsetRoleName={setRoleName}\n\t\t\t\t\tredirect={redirect}\n\t\t\t\t\tsetRedirect={setRedirect}\n\t\t\t\t\troleName ={roleName}\n\t\t\t\t\tsetRoleName={setRoleName}\n\t\t\t\t\t/* Photo for techinician */\n\t\t\t\t\tphoto={photo}\n\t\t\t\t\tsetPhoto={setPhoto}\n\t\t\t\t\t/* Taxones for technicians */\n\t\t\t\t\tcheckedinstallation={checkedinstallation}\n\t\t\t\t\tcheckedmaintenance={checkedmaintenance}\n\t\t\t\t\tcheckedrepair={checkedrepair}\n\t\t\t\t\tcheckeddiagnosis={checkeddiagnosis}\n\t\t\t\t\tcheckedhome_program={checkedhome_program}\n\t\t\t\t\tcheckeddelivery={checkeddelivery}\n\t\t\t\t\tsetCheckedinstallation={setCheckedinstallation}\n\t\t\t\t\tsetCheckedmaintenance={setCheckedmaintenance}\n\t\t\t\t\tsetCheckedrepair={setCheckedrepair}\n\t\t\t\t\tsetCheckeddiagnosis={setCheckeddiagnosis}\n\t\t\t\t\tsetCheckedHomeProgram={setCheckedHomeProgram}\n\t\t\t\t\tsetCheckedDelivery={setCheckedDelivery}\n\t\t\t\t\t/* Technician events */\n\t\t\t\t\tnewEvents={newEvents}\n\t\t\t\t\tsetNewEvents={setNewEvents}\n\t\t\t\t\t/* Zone file */\n\t\t\t\t\tzoneFile={zoneFile}\n          \t\t\tsetZoneFile={setZoneFile}\n\t\t\t\t\t\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsetLoading={setLoading}\n\n\t\t\t\t\t // Enterprise\n\t\t\t\t\t enterprise={enterprise}\n\t\t\t\t\t setEnterprise={setEnterprise}\n\t\t\t\t\t/>\n\t\t\t</Paper>\n\t\t</React.Fragment>\n\t);\n}\n\n\nconst structuredSelector = createStructuredSelector({\n\tuser: state => state.user\n});\nconst mapDispatchToProps = {};\n\nexport default connect(structuredSelector, mapDispatchToProps)(EditTechnician)\n"]},"metadata":{},"sourceType":"module"}