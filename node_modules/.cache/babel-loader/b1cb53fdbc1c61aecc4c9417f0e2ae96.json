{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/projectCustomers/ProjectUnitRealStates.jsx\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from \"react\";\nimport MaterialTable from 'react-data-table-component';\nimport { Link as MuiLink, CircularProgress, Tooltip } from \"@material-ui/core\";\nimport { withStyles } from '@material-ui/core/styles';\nimport { KeyboardArrowUp, KeyboardArrowDown, AddCircleOutline } from '@material-ui/icons';\nimport UnitRealStateTabs from 'components/projectCustomers/UnitRealStateTabs';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport AssignCustomer from 'components/customers/AssignCustomer';\nimport { useTranslation } from 'react-i18next';\n\nfunction ProjectUnitRealStates(props) {\n  var _this = this;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _props$unitRealStates = props.unitRealStates,\n      unitRealStates = _props$unitRealStates === void 0 ? [] : _props$unitRealStates;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    setLoading(false);\n  }, [unitRealStates]);\n  var HtmlTooltip = withStyles(function (theme) {\n    return {\n      tooltip: {\n        backgroundColor: '#f5f5f9',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(12),\n        border: '1px solid #dadde9',\n        \"& a\": {\n          color: theme.palette.primary.main\n        }\n      }\n    };\n  })(Tooltip);\n\n  function AssignCustomerTitle() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: \"6px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, t('customer.projectCustomer.assignClient')), /*#__PURE__*/React.createElement(HtmlTooltip, {\n      placement: \"right\",\n      interactive: true,\n      title: /*#__PURE__*/React.createElement(React.Fragment, null, t('customer.newService.flashAlert.projectCustomerRequired'), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"force-underline\",\n        target: \"_blank\",\n        href: \"/customers/new\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }\n      }, \" \", t('customer.projectCustomer.here'))),\n      \"aria-label\": \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  var columns = [{\n    name: t('globalTables.realEstateUnitColumns.unitType'),\n    selector: \"unit_type\"\n  }, {\n    name: t('globalTables.realEstateUnitColumns.unitNumber'),\n    selector: \"unit_number\"\n  }, {\n    name: t('globalTables.realEstateUnitColumns.productQuantity'),\n    cell: function cell(row) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 20\n        }\n      }, row.customer_products.length);\n    }\n  }, {\n    name: t('globalTables.realEstateUnitColumns.deliveredProducts'),\n    selector: \"customer_product_statuses.entregado\"\n  }, {\n    name: t('globalTables.realEstateUnitColumns.installedProducts'),\n    selector: \"customer_product_statuses.instalado\"\n  }, {\n    name: t('globalTables.realEstateUnitColumns.pendingProducts'),\n    selector: \"customer_product_statuses.inicial\"\n  }, {\n    name: /*#__PURE__*/React.createElement(AssignCustomerTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }),\n    center: true,\n    width: \"320px\",\n    cell: function cell(row) {\n      return /*#__PURE__*/React.createElement(AssignCustomer, {\n        unitRealState: row,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      });\n    }\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"panel-custom-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, t('customer.projectCustomer.title')), /*#__PURE__*/React.createElement(MaterialTable, {\n    noHeader: true,\n    expandableRows: true,\n    columns: columns,\n    data: unitRealStates,\n    expandOnRowClicked: true,\n    expandableIcon: {\n      expanded: /*#__PURE__*/React.createElement(KeyboardArrowUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 36\n        }\n      }),\n      collapsed: /*#__PURE__*/React.createElement(KeyboardArrowDown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 68\n        }\n      })\n    },\n    expandableRowsComponent: /*#__PURE__*/React.createElement(UnitRealStateTabs, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 34\n      }\n    }),\n    noDataComponent: i18next.t('globalText.NoDataComponent'),\n    progressComponent: /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 28\n      }\n    }),\n    progressPending: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ProjectUnitRealStates;","map":{"version":3,"sources":["/usr/src/app/javascript/components/projectCustomers/ProjectUnitRealStates.jsx"],"names":["React","useState","useEffect","MaterialTable","Link","MuiLink","CircularProgress","Tooltip","withStyles","KeyboardArrowUp","KeyboardArrowDown","AddCircleOutline","UnitRealStateTabs","ErrorOutlineIcon","AssignCustomer","useTranslation","ProjectUnitRealStates","props","t","unitRealStates","loading","setLoading","HtmlTooltip","theme","tooltip","backgroundColor","color","maxWidth","fontSize","typography","pxToRem","border","palette","primary","main","AssignCustomerTitle","marginRight","columns","name","selector","cell","row","customer_products","length","center","width","expanded","collapsed","i18next"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport MaterialTable from 'react-data-table-component';\nimport {Link as MuiLink, CircularProgress, Tooltip} from \"@material-ui/core\";\nimport {withStyles} from '@material-ui/core/styles';\nimport {KeyboardArrowUp, KeyboardArrowDown, AddCircleOutline} from '@material-ui/icons';\nimport UnitRealStateTabs from 'components/projectCustomers/UnitRealStateTabs'\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport AssignCustomer from 'components/customers/AssignCustomer'\nimport { useTranslation } from 'react-i18next';\n\nfunction ProjectUnitRealStates(props) {\n  const {t} = useTranslation();\n  const {unitRealStates = []} = props\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    setLoading(false)\n  }, [unitRealStates])\n\n  const HtmlTooltip = withStyles((theme) => ({\n    tooltip: {\n      backgroundColor: '#f5f5f9',\n      color: 'rgba(0, 0, 0, 0.87)',\n      maxWidth: 220,\n      fontSize: theme.typography.pxToRem(12),\n      border: '1px solid #dadde9',\n      \"& a\": {\n        color: theme.palette.primary.main,\n      }\n    },\n  }))(Tooltip);\n\n  function AssignCustomerTitle() {\n    return (\n      <div>\n        <span style={{marginRight: \"6px\"}}>{t('customer.projectCustomer.assignClient')}</span>\n        <HtmlTooltip placement=\"right\" interactive title={\n          <>\n            {t('customer.newService.flashAlert.projectCustomerRequired')}\n            <a className=\"force-underline\" target=\"_blank\" href=\"/customers/new\"> {t('customer.projectCustomer.here')}</a>\n          </>\n        } aria-label=\"add\">\n          <ErrorOutlineIcon fontSize=\"small\" />\n        </HtmlTooltip>\n      </div>\n    )\n\n  }\n\n  const columns = [\n    {\n      name: t('globalTables.realEstateUnitColumns.unitType'),\n      selector: \"unit_type\",\n    },\n    {\n      name: t('globalTables.realEstateUnitColumns.unitNumber'),\n      selector: \"unit_number\"\n    },\n    {\n      name: t('globalTables.realEstateUnitColumns.productQuantity'),\n      cell: row => <span>{row.customer_products.length}</span>\n    },\n    {\n      name: t('globalTables.realEstateUnitColumns.deliveredProducts'),\n      selector: \"customer_product_statuses.entregado\"\n    },\n    {\n      name: t('globalTables.realEstateUnitColumns.installedProducts'),\n      selector: \"customer_product_statuses.instalado\"\n    },\n    {\n      name: t('globalTables.realEstateUnitColumns.pendingProducts'),\n      selector: \"customer_product_statuses.inicial\"\n    },\n    {\n      name: <AssignCustomerTitle />,\n      center: true,\n      width: \"320px\",\n      cell: (row) => (\n        <AssignCustomer unitRealState={row} />\n      ),\n    }\n\n  ]\n  return (\n    <div>\n      <h1 className=\"panel-custom-title\">{t('customer.projectCustomer.title')}</h1>\n      <MaterialTable\n        noHeader\n        expandableRows\n        columns={columns}\n        data={unitRealStates}\n        expandOnRowClicked\n        expandableIcon={{expanded: <KeyboardArrowUp />, collapsed: <KeyboardArrowDown />}}\n        expandableRowsComponent={<UnitRealStateTabs />}\n        noDataComponent={i18next.t('globalText.NoDataComponent')}\n        progressComponent={<CircularProgress size={50} />}\n        progressPending={loading}\n      />\n    </div>\n  )\n}\n\nexport default ProjectUnitRealStates\n\n"]},"metadata":{},"sourceType":"module"}