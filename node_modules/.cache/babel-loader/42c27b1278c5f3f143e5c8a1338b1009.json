{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createStore, applyMiddleware } from \"redux\";\nimport { initCanCan } from 'redux-cancan';\nimport thunk from \"redux-thunk\";\nvar initialSelectedOptions = {\n  invoiced: [],\n  completed: '',\n  requested: [],\n  payment: []\n};\nvar initialState = {\n  users: [],\n  technicians: [],\n  others_technicians: [],\n  customers: [],\n  user: {},\n  technician: {},\n  customer: {},\n  page: 1,\n  per_page: 10,\n  current_user: {},\n  products: [],\n  spare_parts: [],\n  selected_spare_parts: [],\n  reintegrated_spare_parts: [],\n  used_spare_parts: [],\n  requested_spare_parts: [],\n  total: 1,\n  calendar_events: [],\n  services: [],\n  services_page: 1,\n  services_per_page: 5,\n  services_total: 1,\n  survey_questions: [],\n  notifications_page: 1,\n  notifications_per_page: 10,\n  notifications_total: 1,\n  notifications: [],\n  unread_notifications: [],\n  downloads: [],\n  finance_selected_options: initialSelectedOptions\n};\n\nfunction rootReducer(state, action) {\n  switch (action.type) {\n    case '@FINANCE/SELECTED_OPTIONS':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        finance_selected_options: action.payload\n      });\n\n    case \"GET_CURRENT_USER\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        current_user: action.json\n      });\n\n    case \"GET_USERS_SUCCESS\":\n      return {\n        users: action.json.data,\n        page: action.json.page,\n        per_page: action.json.per_page,\n        total: action.json.total,\n        current_user: state.current_user\n      };\n\n    case \"GET_TECHNICIANS_SUCCESS\":\n      return {\n        technicians: action.json.data,\n        page: action.json.page,\n        per_page: action.json.per_page,\n        total: action.json.total,\n        calendar_events: state.calendar_events,\n        current_user: state.current_user\n      };\n\n    case \"GET_TECHNICIANS_TAXONS_SUCCESS\":\n      return {\n        technicians: action.json.data,\n        calendar_events: state.calendar_events,\n        others_technicians: action.json.others,\n        current_user: state.current_user\n      };\n\n    case \"GET_CUSTOMERS_SUCCESS\":\n      return {\n        customers: action.json.data,\n        page: action.json.page,\n        per_page: action.json.per_page,\n        total: action.json.total,\n        current_user: state.current_user\n      };\n\n    case \"GET_USER_SUCCESS\":\n      return {\n        user: action.json.data,\n        current_user: state.current_user\n      };\n\n    case \"GET_TECHNICIAN_SUCCESS\":\n      return {\n        technician: action.json.data,\n        current_user: state.current_user\n      };\n\n    case \"GET_CUSTOMER_SUCCESS\":\n      return {\n        customer: action.json.data,\n        current_user: state.current_user\n      };\n\n    case \"GET_PRODUCTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        page: action.json.page,\n        per_page: action.json.per_page,\n        total: action.json.total,\n        products: action.json.data,\n        customer_products: state.customer_products\n      });\n\n    case \"GET_SPARE_PARTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        spare_parts: action.json.data\n      });\n\n    case \"GET_REQUESTED_SPARE_PARTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        requested_spare_parts: action.json.data\n      });\n\n    case \"GET_SELECTED_SPARE_PARTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected_spare_parts: action.json.data\n      });\n\n    case \"GET_REINTEGRATED_SPARE_PARTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        reintegrated_spare_parts: action.json.data\n      });\n\n    case \"GET_USED_SPARE_PARTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        used_spare_parts: action.json\n      });\n\n    case \"EDITED_SPARE_PART\":\n      var service_spare_part_id_edit = action.response.data.id;\n      var spare_parts_t = [];\n      var request_spare_parts_t = [];\n\n      if (state.spare_parts) {\n        spare_parts_t = state.spare_parts.map(function (item) {\n          return item.id == service_spare_part_id_edit ? action.response.data : item;\n        });\n      }\n\n      if (state.requested_spare_parts) {\n        request_spare_parts_t = state.requested_spare_parts.map(function (item) {\n          return item.id == service_spare_part_id_edit ? action.response.data : item;\n        });\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        spare_parts: spare_parts_t,\n        requested_spare_parts: request_spare_parts_t\n      });\n\n    case \"DELETED_SPARE_PART\":\n      var service_spare_part_id = action.response.data.service_spare_part_id;\n      var spare_parts = state.spare_parts.filter(function (spare_part) {\n        return spare_part.id !== service_spare_part_id;\n      });\n      var requested_spare_parts = state.requested_spare_parts.filter(function (spare_part) {\n        return spare_part.id !== service_spare_part_id;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        spare_parts: spare_parts,\n        requested_spare_parts: requested_spare_parts\n      });\n\n    case \"DELETED_REQUESTED_SPARE_PART\":\n      var service_requested_spare_part_id = action.response.data.id;\n      var requested_spare_parts_delete = state.requested_spare_parts.filter(function (spare_part) {\n        return spare_part.id !== service_requested_spare_part_id;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        requested_spare_parts: requested_spare_parts_delete\n      });\n\n    case \"DELETED_REINTEGRATED_SPARE_PART\":\n      var service_reintegraed_spare_part_id = action.response.data.service_spare_part_id;\n      var reintegrated_spare_parts_delete = state.reintegrated_spare_parts.filter(function (spare_part) {\n        return spare_part.id !== service_reintegraed_spare_part_id;\n      });\n      console.log(reintegrated_spare_parts_delete);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        reintegrated_spare_parts: reintegrated_spare_parts_delete\n      });\n\n    case \"GET_SERVICES_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        finance_selected_options: state.finance_selected_options || initialSelectedOptions,\n        services_page: action.json.page,\n        services_per_page: action.json.per_page,\n        services_total: action.json.total,\n        services: action.json.data\n      });\n\n    case \"GET_USER_PRODUCTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        products: state.products,\n        customer_products: action.json.data\n      });\n\n    case \"REDIRECT\":\n      return {\n        redirectTo: action.payload\n      };\n\n    case 'DELETED_USER':\n      var user_id = action.response.data.user_id;\n      var users = state.users.filter(function (user) {\n        return user.id !== user_id;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        users: users\n      });\n\n    case 'DELETED_TECHNICIAN':\n      var technician_id = action.response.data.technician_id;\n      var technicians = state.technicians.filter(function (technician) {\n        return technician.id !== technician_id;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        technicians: technicians\n      });\n\n    case 'DELETED_CUSTOMER':\n      var customer_id = action.response.data.customer_id;\n      var customers = state.customers.filter(function (customer) {\n        return customer.id !== customer_id;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        customers: customers\n      });\n\n    case \"GET_CALENDAR_EVENTS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        calendar_events: action.json.data\n      });\n\n    case \"DELETED_CUSTOMER_PRODUCT\":\n      var customer_product_id = action.response.data.customer_product_id;\n      var customer_products = state.customer_products.filter(function (customers_product) {\n        return customers_product.id !== customer_product_id;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        customer_products: customer_products\n      });\n\n    case \"EDITED_CUSTOMER_PRODUCT\":\n      var customer_product_id_edit = action.response.data.id;\n      var customer_products_t = state.customer_products.map(function (item) {\n        return item.id == customer_product_id_edit ? action.response.data : item;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        customer_products: customer_products_t\n      });\n\n    case \"GET_SURVEY_QUESTIONS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        survey_questions: action.json.data\n      });\n\n    case \"GET_NOTIFICATIONS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        notifications_page: action.json.page,\n        notifications_per_page: action.json.per_page,\n        notifications_total: action.json.total,\n        notifications: action.json.data\n      });\n\n    case \"READ_NOTIFICATIONS_SUCCESS\":\n      var notification_t = action.json;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        notifications: state.notifications.map(function (notification) {\n          if (notification.id === notification_t.id) {\n            return _objectSpread({}, notification_t);\n          }\n\n          return notification;\n        })\n      });\n\n    case \"GET_UNREAD_NOTIFICATIONS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        unread_notifications: action.json.data\n      });\n\n    case \"GET_DOWNLOADS_SUCCESS\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        page: action.json.page,\n        per_page: action.json.per_page,\n        total: action.json.total,\n        downloads: action.json.data\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default function configureStore(current_user) {\n  initialState.current_user = current_user;\n  var store = createStore(rootReducer, initialState, applyMiddleware(thunk));\n  initCanCan(store, require('./ability'));\n  return store;\n}","map":{"version":3,"sources":["/usr/src/app/javascript/stores/configureStore.js"],"names":["createStore","applyMiddleware","initCanCan","thunk","initialSelectedOptions","invoiced","completed","requested","payment","initialState","users","technicians","others_technicians","customers","user","technician","customer","page","per_page","current_user","products","spare_parts","selected_spare_parts","reintegrated_spare_parts","used_spare_parts","requested_spare_parts","total","calendar_events","services","services_page","services_per_page","services_total","survey_questions","notifications_page","notifications_per_page","notifications_total","notifications","unread_notifications","downloads","finance_selected_options","rootReducer","state","action","type","payload","json","data","others","customer_products","service_spare_part_id_edit","response","id","spare_parts_t","request_spare_parts_t","map","item","service_spare_part_id","filter","spare_part","service_requested_spare_part_id","requested_spare_parts_delete","service_reintegraed_spare_part_id","reintegrated_spare_parts_delete","console","log","redirectTo","user_id","technician_id","customer_id","customer_product_id","customers_product","customer_product_id_edit","customer_products_t","notification_t","notification","configureStore","store","require"],"mappings":"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","sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\nimport { initCanCan } from 'redux-cancan';\nimport thunk from \"redux-thunk\";\nconst initialSelectedOptions = {invoiced:[], completed: '', requested: [], payment: []}\nconst initialState = {\n\tusers: [],\n\ttechnicians: [],\n\tothers_technicians: [],\n\tcustomers: [],\n\tuser: {},\n\ttechnician: {},\n\tcustomer: {},\n\tpage: 1,\n\tper_page: 10,\n\tcurrent_user: {},\n\tproducts: [],\n\tspare_parts: [],\n\tselected_spare_parts: [],\n\treintegrated_spare_parts: [],\n\tused_spare_parts: [],\n\trequested_spare_parts: [],\n\ttotal: 1,\n\tcalendar_events: [],\n\tservices: [],\n\tservices_page: 1,\n\tservices_per_page: 5,\n\tservices_total: 1,\n\tsurvey_questions: [],\n\tnotifications_page: 1,\n\tnotifications_per_page: 10,\n\tnotifications_total: 1,\n\tnotifications: [],\n\tunread_notifications: [],\n\tdownloads: [],\n  finance_selected_options: initialSelectedOptions\n};\n\nfunction rootReducer(state, action) {\n\tswitch (action.type){\n    case '@FINANCE/SELECTED_OPTIONS':\n      return {...state, finance_selected_options: action.payload}\n\t\tcase \"GET_CURRENT_USER\":\n\t\t\treturn {\n        ...state, current_user: action.json\n\t\t\t}\n\t\tcase \"GET_USERS_SUCCESS\":\n\t\t\treturn { users: action.json.data,\n\t\t\t\t\t page: action.json.page,\n\t\t\t\t\t per_page: action.json.per_page,\n\t\t\t\t\t total: action.json.total,\n\t\t\t\t\t current_user: state.current_user\n\t\t\t}\n\t\tcase \"GET_TECHNICIANS_SUCCESS\":\n\t\t\t\treturn { \n\t\t\t\t\t\t\n\t\t\t\t\t\t technicians: action.json.data,\n\t\t\t\t\t\t page: action.json.page,\n\t\t\t\t\t\t per_page: action.json.per_page,\n\t\t\t\t\t\t total: action.json.total,\n\t\t\t\t\t\t calendar_events: state.calendar_events,\n\t\t\t\t\t\t current_user: state.current_user\n\t\t\t\t}\n\t\tcase \"GET_TECHNICIANS_TAXONS_SUCCESS\":\n\t\t\treturn { technicians: action.json.data,\n\t\t\t\t\t calendar_events: state.calendar_events,\n\t\t\t\t\t others_technicians: action.json.others,\n\t\t\t\t\t current_user: state.current_user\n\t\t}\n\t\tcase \"GET_CUSTOMERS_SUCCESS\":\n\t\t\t\treturn { customers: action.json.data,\n\t\t\t\t\t\tpage: action.json.page,\n\t\t\t\t\t\tper_page: action.json.per_page,\n\t\t\t\t\t\ttotal: action.json.total,\n\t\t\t\t\t\tcurrent_user: state.current_user\n\t\t\t}\n\t\tcase \"GET_USER_SUCCESS\":\n\t\t\treturn { user: action.json.data,\n\t\t\t\tcurrent_user: state.current_user}\n\t\tcase \"GET_TECHNICIAN_SUCCESS\":\n\t\t\treturn { technician: action.json.data,\n\t\t\t\tcurrent_user: state.current_user}\n\t\tcase \"GET_CUSTOMER_SUCCESS\":\n\t\t\t\treturn { customer: action.json.data,\n\t\t\t\t\tcurrent_user: state.current_user}\n\t\tcase \"GET_PRODUCTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tpage: action.json.page,\n\t\t\t\tper_page: action.json.per_page,\n\t\t\t\ttotal: action.json.total,\n\t\t\t\tproducts: action.json.data,\n\t\t\t\tcustomer_products: state.customer_products\n\t\t\t}\n\t\tcase \"GET_SPARE_PARTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tspare_parts: action.json.data\n\t\t\t}\n\t\tcase \"GET_REQUESTED_SPARE_PARTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\trequested_spare_parts: action.json.data\n\t\t\t}\n\t\tcase \"GET_SELECTED_SPARE_PARTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tselected_spare_parts: action.json.data\n\t\t\t}\n\t\tcase \"GET_REINTEGRATED_SPARE_PARTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\treintegrated_spare_parts: action.json.data\n\t\t\t}\n\t\t\n\t\tcase \"GET_USED_SPARE_PARTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tused_spare_parts: action.json\n\t\t\t}\n\t\t\t\n\t\tcase \"EDITED_SPARE_PART\":\n\t\t\tconst service_spare_part_id_edit = action.response.data.id;\n\t\t\tlet spare_parts_t = []\n\t\t\tlet request_spare_parts_t = []\n\t\t\tif(state.spare_parts){\n\t\t\t\tspare_parts_t = state.spare_parts.map(function(item) { return item.id == service_spare_part_id_edit ? action.response.data : item; });\n\t\t\t}\n\t\t\tif(state.requested_spare_parts){\n\t\t\t\trequest_spare_parts_t = state.requested_spare_parts.map(function(item) { return item.id == service_spare_part_id_edit ? action.response.data : item; });\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tspare_parts: spare_parts_t,\n\t\t\t\trequested_spare_parts: request_spare_parts_t,\n\t\t\t};\n\t\tcase \"DELETED_SPARE_PART\":\n\t\t\tconst service_spare_part_id = action.response.data.service_spare_part_id;\n\t\t\tlet spare_parts = state.spare_parts.filter(spare_part => spare_part.id !== service_spare_part_id);\n\t\t\tlet requested_spare_parts = state.requested_spare_parts.filter(spare_part => spare_part.id !== service_spare_part_id);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tspare_parts,\n\t\t\t\trequested_spare_parts\n\t\t\t};\n\t\tcase \"DELETED_REQUESTED_SPARE_PART\":\n\t\t\tconst service_requested_spare_part_id = action.response.data.id;\n\t\t\tlet requested_spare_parts_delete = state.requested_spare_parts.filter(spare_part => spare_part.id !== service_requested_spare_part_id);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trequested_spare_parts: requested_spare_parts_delete,\n\t\t\t};\n\t\tcase \"DELETED_REINTEGRATED_SPARE_PART\":\n\t\t\tconst service_reintegraed_spare_part_id = action.response.data.service_spare_part_id;\n\t\t\tlet reintegrated_spare_parts_delete = state.reintegrated_spare_parts.filter(spare_part => spare_part.id !== service_reintegraed_spare_part_id);\n\t\t\tconsole.log(reintegrated_spare_parts_delete)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\treintegrated_spare_parts: reintegrated_spare_parts_delete,\n\t\t\t};\n\t\tcase \"GET_SERVICES_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n        finance_selected_options: state.finance_selected_options || initialSelectedOptions,\n\t\t\t\tservices_page: action.json.page,\n\t\t\t\tservices_per_page: action.json.per_page,\n\t\t\t\tservices_total: action.json.total,\n\t\t\t\tservices: action.json.data\n\t\t\t}\n\t\tcase \"GET_USER_PRODUCTS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tproducts: state.products,\n\t\t\t\tcustomer_products: action.json.data\n\t\t\t}\n\t\tcase \"REDIRECT\":\n\t\t\treturn { redirectTo: action.payload };\n\t\tcase 'DELETED_USER':\n\t\t  \tconst user_id = action.response.data.user_id;\n\t\t  \tlet users = state.users.filter(user => user.id !== user_id);\n\t\t  \treturn {\n\t\t        ...state, \n\t\t        users\n\t\t\t};\n\t\tcase 'DELETED_TECHNICIAN':\n\t\t\t\tconst technician_id = action.response.data.technician_id;\n\t\t\t\tlet technicians = state.technicians.filter(technician => technician.id !== technician_id);\n\t\t\t\treturn {\n\t\t\t\t  ...state, \n\t\t\t\t  technicians\n\t\t\t  };\n\t\tcase 'DELETED_CUSTOMER':\n\t\t\t\tconst customer_id = action.response.data.customer_id;\n\t\t\t\tlet customers = state.customers.filter(customer => customer.id !== customer_id);\n\t\t\t\treturn {\n\t\t\t\t  ...state, \n\t\t\t\t  customers\n\t\t\t  };\n\t\tcase \"GET_CALENDAR_EVENTS_SUCCESS\":\n\t\t\t\treturn { \n\t\t\t\t\t...state,\n\t\t\t\t\tcalendar_events: action.json.data,\n\t\t\t\t};\n\t\tcase \"DELETED_CUSTOMER_PRODUCT\":\n\t\t\t\tconst customer_product_id = action.response.data.customer_product_id;\n\t\t\t\tlet customer_products = state.customer_products.filter(customers_product => customers_product.id !== customer_product_id);\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tcustomer_products\n\t\t\t\t};\n\t\tcase \"EDITED_CUSTOMER_PRODUCT\":\n\t\t\t\tconst customer_product_id_edit = action.response.data.id;\n\t\t\t\tlet customer_products_t = state.customer_products.map(function(item) { return item.id == customer_product_id_edit ? action.response.data : item; });\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tcustomer_products: customer_products_t\n\t\t\t\t};\n\n\t\tcase \"GET_SURVEY_QUESTIONS_SUCCESS\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsurvey_questions: action.json.data\n\t\t\t};\n\t\tcase \"GET_NOTIFICATIONS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tnotifications_page: action.json.page,\n\t\t\t\tnotifications_per_page: action.json.per_page,\n\t\t\t\tnotifications_total: action.json.total,\n\t\t\t\tnotifications: action.json.data\n\t\t\t}\n\t\tcase \"READ_NOTIFICATIONS_SUCCESS\":\n\t\t\tconst notification_t = action.json\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tnotifications: state.notifications.map(notification => {\n\t\t\t\t\tif (notification.id === notification_t.id) {\n\t\t\t\t\t  return {\n\t\t\t\t\t\t...notification_t\n\t\t\t\t\t  };\n\t\t\t\t\t}\n\t\t\t\t\treturn notification;\n\t\t\t\t  })\n\t\t\t}\n\t\tcase \"GET_UNREAD_NOTIFICATIONS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tunread_notifications: action.json.data\n\t\t\t}\n\t\tcase \"GET_DOWNLOADS_SUCCESS\":\n\t\t\treturn { \n\t\t\t\t...state,\n\t\t\t\tpage: action.json.page,\n\t\t\t\tper_page: action.json.per_page,\n\t\t\t\ttotal: action.json.total,\n\t\t\t\tdownloads: action.json.data,\n\t\t\t}\t\t\n\t\t\t\n\t\tdefault: \n\t\t\treturn state\n\t}\n}\n\nexport default function configureStore(current_user){\n\tinitialState.current_user = current_user\n\tconst store = createStore(rootReducer, initialState, applyMiddleware(thunk));\n\tinitCanCan(store, require('./ability'));\n\treturn store;\n}\n"]},"metadata":{},"sourceType":"module"}