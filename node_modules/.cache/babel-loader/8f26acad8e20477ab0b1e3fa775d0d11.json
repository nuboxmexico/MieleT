{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/services/ServiceInfo.jsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { flash_alert } from 'components/App';\nimport CircularProgress from '@material-ui/core/CircularProgress'; //Accordeon \n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useTranslation } from \"react-i18next\";\n\nfunction ServiceInfo(props) {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      policy = _useState2[0],\n      setPolicy = _useState2[1];\n\n  useEffect(function () {\n    if (props.policy_id && props.customer_id) {\n      fetchPolicyData(props.policy_id, props.customer_id);\n    }\n  }, [props.policy_id, props.customer_id]);\n\n  function fetchPolicyData(_x, _x2) {\n    return _fetchPolicyData.apply(this, arguments);\n  }\n\n  function _fetchPolicyData() {\n    _fetchPolicyData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(policy_id, customer_id) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", fetch(\"/api/v1/customers/\".concat(customer_id, \"/policies/\").concat(policy_id)).then(function (response) {\n                return response.json();\n              }).then(function (json) {\n                console.log(json.data);\n                setPolicy(json.data);\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchPolicyData.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Accordion, {\n    defaultExpanded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }),\n    \"aria-controls\": \"panel2a-content\",\n    id: \"paneladditional-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"panel-custom-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, t('services.info.title'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, t('services.info.type')), !props.service_id && /*#__PURE__*/React.createElement(Skeleton, {\n    height: 21,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }) || /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-value service-type-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 31\n    }\n  }, props.service_type)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, props.policy_id && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 33\n    }\n  }, t('services.info.associatedPolicy')), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-value service-type-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"mdl-navigation__link\",\n    id: \"customers-policy\",\n    href: \"/customers/\".concat(props.customer_id, \"/policies/\").concat(props.policy_id, \"/edit_policy\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 37\n    }\n  }, \"N\\xB0 \", props.customer_id, \"-\", policy.id))) || /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }, t('services.info.subCategory')), !props.service_id && /*#__PURE__*/React.createElement(Skeleton, {\n    height: 21,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }) || /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-value service-type-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 33\n    }\n  }, props.subcategory))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, t('services.info.requestedBy')), !props.service_id && /*#__PURE__*/React.createElement(Skeleton, {\n    height: 21,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }) || /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-value service-type-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 37\n    }\n  }, props.requested), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-value service-type-value \" + props.distributorCheck,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  }, props.distributorName, \" \", props.distributorEmail ? \"(\".concat(props.distributorName, \")\") : ''))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, t('services.info.requestChannel')), !props.service_id && /*#__PURE__*/React.createElement(Skeleton, {\n    height: 21,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }) || /*#__PURE__*/React.createElement(\"span\", {\n    className: \"service-price-table-value service-type-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 31\n    }\n  }, props.requestChannel)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    type: \"text\",\n    label: t('services.info.ibsNumber'),\n    name: \"ibs_number\",\n    value: props.ibs_number,\n    onChange: function onChange(e) {\n      return props.setIBSNumber(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"service-save\",\n    disabled: props.loading || !props.service_id,\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: props.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, t('services.info.saveChanges')), props.loading && /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 24,\n    className: props.classes.buttonProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 51\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"mdl-navigation__link brand-primary-link customers-edit-link\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: \"/api/v1/services/\".concat(props.service_id, \"/status_changes\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 29\n    }\n  }, t('services.info.stateChanges')))))));\n}\n\nvar structuredSelector = createStructuredSelector({});\nvar mapDispatchToProps = {};\nexport default connect(structuredSelector, mapDispatchToProps)(ServiceInfo);","map":{"version":3,"sources":["/usr/src/app/javascript/components/services/ServiceInfo.jsx"],"names":["React","useState","useEffect","axios","connect","createStructuredSelector","TextField","Grid","FormControl","Button","Link","Checkbox","FormControlLabel","Skeleton","flash_alert","CircularProgress","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","useTranslation","ServiceInfo","props","t","policy","setPolicy","policy_id","customer_id","fetchPolicyData","fetch","then","response","json","console","log","data","service_id","service_type","id","subcategory","requested","distributorCheck","distributorName","distributorEmail","requestChannel","ibs_number","e","setIBSNumber","target","value","loading","handleSubmit","classes","buttonProgress","structuredSelector","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\"\nimport { createStructuredSelector } from \"reselect\"\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { flash_alert } from 'components/App';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n//Accordeon \nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {useTranslation} from \"react-i18next\"\n\nfunction ServiceInfo(props){\n    const {t} = useTranslation();\n    const [policy, setPolicy] = useState({});\n\n\n    useEffect(() => {\n        if(props.policy_id && props.customer_id){\n            fetchPolicyData(props.policy_id, props.customer_id)\n        }\n\n        \n    }, [props.policy_id, props.customer_id]);\n    \n\n    async function fetchPolicyData(policy_id, customer_id) {\n        return fetch(`/api/v1/customers/${customer_id}/policies/${policy_id}`)\n        .then(response => response.json())\n        .then(json => {\n            console.log(json.data)\n            setPolicy(json.data)\n            \n        })\n\n    }\n\treturn (\n\t\t<React.Fragment>\n\n            <Accordion defaultExpanded>\n                <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel2a-content\"\n                id=\"paneladditional-header\"\n                >\n                <h1 className=\"panel-custom-title\">{t('services.info.title')}</h1>\n                </AccordionSummary>\n                <AccordionDetails>\n                    <Grid container spacing={3}>\n                        <Grid item xs={12} sm={3}>\n                            <span className=\"service-price-table-label\">{t('services.info.type')}</span>\n                            { (!props.service_id)  && \n                                <Skeleton height={21}/>\n                              ||  \n                              <span className=\"service-price-table-value service-type-value\">{props.service_type}</span>\n                            }    \n                        </Grid>\n                        <Grid item xs={12} sm={3}>\n                            {props.policy_id &&\n                                <>\n                                <span className=\"service-price-table-label\">{t('services.info.associatedPolicy')}</span>\n                                <span className=\"service-price-table-value service-type-value\">\n                                    <a className=\"mdl-navigation__link\"  id=\"customers-policy\" href={`/customers/${props.customer_id}/policies/${props.policy_id}/edit_policy`}>\n                                        N° {props.customer_id}-{policy.id}\n                                    </a>\n                                </span>\n                                </>\n                            ||\n                                <>\n                                <span className=\"service-price-table-label\">{t('services.info.subCategory')}</span>\n                                { (!props.service_id)  && \n                                <Skeleton height={21}/>\n                                ||  \n                                <span className=\"service-price-table-value service-type-value\">{props.subcategory}</span>\n                                }\n                                </>\n                            }\n                        </Grid>\n                        <Grid item xs={12} sm={3}>\n                            <span className=\"service-price-table-label\">{t('services.info.requestedBy')}</span>\n                            { (!props.service_id)  && \n                                <Skeleton height={21}/>\n                              ||  \n                                <>\n                                    <span className=\"service-price-table-value service-type-value\">{props.requested}</span>\n                                    <span className={\"service-price-table-value service-type-value \"+props.distributorCheck}>{props.distributorName} {props.distributorEmail ? `(${props.distributorName})` : ''}</span>\n                                </>\n                            }\n                            \n                        </Grid>\n                        <Grid item xs={12} sm={3}>\n                            <span className=\"service-price-table-label\">{t('services.info.requestChannel')}</span>\n                            { (!props.service_id)  && \n                                <Skeleton height={21}/>\n                              ||\n                              <span className=\"service-price-table-value service-type-value\">{props.requestChannel}</span>\n                            }\n                            \n                        </Grid>\n                        <Grid item xs={12}>\n                                <TextField variant=\"outlined\" type=\"text\"  label={t('services.info.ibsNumber')} name=\"ibs_number\" value={props.ibs_number} onChange={(e) => props.setIBSNumber(e.target.value)}/>\n                        </Grid>\n                            \n                        <Grid item xs={12}>\n                                <Button id=\"service-save\" disabled={props.loading || !props.service_id} type=\"submit\" variant=\"contained\" color=\"primary\" onClick={props.handleSubmit}>\n                                    {t('services.info.saveChanges')}\n                                </Button>\n                                {props.loading && <CircularProgress size={24} className={props.classes.buttonProgress} />}\n                        </Grid>\n                        <Grid item xs={12}>\n                            <a className=\"mdl-navigation__link brand-primary-link customers-edit-link\"  target=\"_blank\" rel=\"noopener noreferrer\" href={`/api/v1/services/${props.service_id}/status_changes`}>\n                                {t('services.info.stateChanges')}\n                            </a>\n                        </Grid>\n                    </Grid>\n                </AccordionDetails>\n            </Accordion>\n                \n\n\t\t    \n\t\t</React.Fragment>\n\t);\n  \n}\n\nconst structuredSelector = createStructuredSelector({\n});\nconst mapDispatchToProps = {};\n\nexport default connect(structuredSelector, mapDispatchToProps)(ServiceInfo)\n"]},"metadata":{},"sourceType":"module"}