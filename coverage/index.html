<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <title>Code coverage for Miele-tickets</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src='./assets/0.12.3/application.js' type='text/javascript'></script>
    <link href='./assets/0.12.3/application.css' media='screen, projection, print' rel='stylesheet' type='text/css' />
    <link rel="shortcut icon" type="image/png" href="./assets/0.12.3/favicon_yellow.png" />
    <link rel="icon" type="image/png" href="./assets/0.12.3/favicon.png" />
  </head>

  <body>
    <div id="loading">
      <img src="./assets/0.12.3/loading.gif" alt="loading"/>
    </div>
    <div id="wrapper" class="hide">
      <div class="timestamp">Generated <abbr class="timeago" title="2021-11-03T15:59:49-03:00">2021-11-03T15:59:49-03:00</abbr></div>
      <ul class="group_tabs"></ul>

      <div id="content">
        <div class="file_list_container" id="AllFiles">
  <h2>
    <span class="group_name">All Files</span>
    (<span class="covered_percent">
      <span class="yellow">
  89.41%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         8.34
       </span>
    </span> hits/line
    )
  </h2>

  <a name="AllFiles"></a>

  <div>
    <b>67</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>3530</b> relevant lines,
    <span class="green"><b>3156</b> lines covered</span> and
    <span class="red"><b>374</b> lines missed. </span>
    (<span class="yellow">
  89.41%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#22f5197b8d55ff243bd05f9f1d2f0443f337844e" class="src_link" title="app/controllers/api/v1/abilities_controller.rb">app/controllers/api/v1/abilities_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">48</td>
            <td class="cell--number">20</td>
            <td class="cell--number">20</td>
            <td class="cell--number">0</td>
            <td class="cell--number">91.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#7c2431f997fd84f24f2b4dabdbbf9834678b408c" class="src_link" title="app/controllers/api/v1/administrative_demarcations_controller.rb">app/controllers/api/v1/administrative_demarcations_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">47</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">6.31</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#58fe1ad6c075f0f3441a5d741b99fc98f7e9e199" class="src_link" title="app/controllers/api/v1/calendar_events_controller.rb">app/controllers/api/v1/calendar_events_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">96.97 %</td>
            <td class="cell--number">101</td>
            <td class="cell--number">33</td>
            <td class="cell--number">32</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1.97</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f92bcc258ebab67a40085987041d31a5f049e9ce" class="src_link" title="app/controllers/api/v1/checklists_controller.rb">app/controllers/api/v1/checklists_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">227</td>
            <td class="cell--number">42</td>
            <td class="cell--number">42</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.02</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#31586899e9526a88fe1895fedd329d745c35b997" class="src_link" title="app/controllers/api/v1/consumables_controller.rb">app/controllers/api/v1/consumables_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">68</td>
            <td class="cell--number">11</td>
            <td class="cell--number">11</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.27</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#555b22b99954f211d9507ee3cf74af77d82f0099" class="src_link" title="app/controllers/api/v1/customers_controller.rb">app/controllers/api/v1/customers_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">87.54 %</td>
            <td class="cell--number">1468</td>
            <td class="cell--number">570</td>
            <td class="cell--number">499</td>
            <td class="cell--number">71</td>
            <td class="cell--number">1.61</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#338a458b1446fa6b5e4c7a58c722ee71b4353c10" class="src_link" title="app/controllers/api/v1/labor_prices_controller.rb">app/controllers/api/v1/labor_prices_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">38</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.23</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#336eb63c7df8c2bf31cbe5d45eb4d44d531012cd" class="src_link" title="app/controllers/api/v1/payment_methods_controller.rb">app/controllers/api/v1/payment_methods_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">43</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8650ff3c72a4bfdd347b71d093ed843cf34ac77e" class="src_link" title="app/controllers/api/v1/payments_controller.rb">app/controllers/api/v1/payments_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">96.67 %</td>
            <td class="cell--number">94</td>
            <td class="cell--number">30</td>
            <td class="cell--number">29</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1.43</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#085935d62fcbafcff47821f7752db3c6dca95dd1" class="src_link" title="app/controllers/api/v1/products_controller.rb">app/controllers/api/v1/products_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.89 %</td>
            <td class="cell--number">97</td>
            <td class="cell--number">27</td>
            <td class="cell--number">24</td>
            <td class="cell--number">3</td>
            <td class="cell--number">4.44</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d3c102f945019a03a96214c88e01b003bdc61c4e" class="src_link" title="app/controllers/api/v1/services_controller.rb">app/controllers/api/v1/services_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.79 %</td>
            <td class="cell--number">853</td>
            <td class="cell--number">232</td>
            <td class="cell--number">206</td>
            <td class="cell--number">26</td>
            <td class="cell--number">1.51</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#71e96368cefd24d81774a475bf19fd6f99b8ceee" class="src_link" title="app/controllers/api/v1/taxons_controller.rb">app/controllers/api/v1/taxons_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">84.62 %</td>
            <td class="cell--number">107</td>
            <td class="cell--number">26</td>
            <td class="cell--number">22</td>
            <td class="cell--number">4</td>
            <td class="cell--number">16.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#dc6e80d7cf2ad1703df006d6d7dcdf741964cdf2" class="src_link" title="app/controllers/api/v1/technicians_controller.rb">app/controllers/api/v1/technicians_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.57 %</td>
            <td class="cell--number">543</td>
            <td class="cell--number">194</td>
            <td class="cell--number">166</td>
            <td class="cell--number">28</td>
            <td class="cell--number">2.04</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e299a2aa73bef97f1ee0c9d9a4ff063f16ec6649" class="src_link" title="app/controllers/api/v1/users_controller.rb">app/controllers/api/v1/users_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">84.97 %</td>
            <td class="cell--number">522</td>
            <td class="cell--number">153</td>
            <td class="cell--number">130</td>
            <td class="cell--number">23</td>
            <td class="cell--number">8.38</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6e0cdb920085db2d0643e4fca91ca04eabae3038" class="src_link" title="app/controllers/api/v1/visits_controller.rb">app/controllers/api/v1/visits_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">341</td>
            <td class="cell--number">102</td>
            <td class="cell--number">102</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.10</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5aed16e5837c37dd9b15c2660e7653fd7e882d9d" class="src_link" title="app/controllers/application_controller.rb">app/controllers/application_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">92.86 %</td>
            <td class="cell--number">54</td>
            <td class="cell--number">28</td>
            <td class="cell--number">26</td>
            <td class="cell--number">2</td>
            <td class="cell--number">79.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a115c80620e20b48e2109b4da1cf3ef77e60af4a" class="src_link" title="app/controllers/home_controller.rb">app/controllers/home_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">9</td>
            <td class="cell--number">4</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8bdbb856608e180a0933485049ef02eb1efc4578" class="src_link" title="app/controllers/users/passwords_controller.rb">app/controllers/users/passwords_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.19 %</td>
            <td class="cell--number">68</td>
            <td class="cell--number">27</td>
            <td class="cell--number">23</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1.26</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fb9b67f87aecd7e052c0d5facf7cee90e841c997" class="src_link" title="app/jobs/application_job.rb">app/jobs/application_job.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b19110c43e314575816f72fffe859f070684469e" class="src_link" title="app/mailers/application_mailer.rb">app/mailers/application_mailer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">10</td>
            <td class="cell--number">7</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#70387a858c2c34cf21cb5005f714b26fb270446e" class="src_link" title="app/mailers/devise_mailer.rb">app/mailers/devise_mailer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">28</td>
            <td class="cell--number">16</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">26.69</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#eb451949ae148c20974ac6661d7d1e52f73f1335" class="src_link" title="app/mailers/notification_mailer.rb">app/mailers/notification_mailer.rb</a></td>
            <td class="red strong cell--number t-file__coverage">58.00 %</td>
            <td class="cell--number">82</td>
            <td class="cell--number">50</td>
            <td class="cell--number">29</td>
            <td class="cell--number">21</td>
            <td class="cell--number">0.72</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d7a71c34ee1bbe3ac61b095546e9094c24c31b42" class="src_link" title="app/models/Calendar.rb">app/models/Calendar.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#208e84086aa67d169a80d1a4413b86a5ad0971ce" class="src_link" title="app/models/Customer.rb">app/models/Customer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#077653ed6c2c3c0cd39d683c1edb01a1a7858e1f" class="src_link" title="app/models/Survey.rb">app/models/Survey.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b53c0c01551dc11d2c730cd7ae2f7d0eec9a0501" class="src_link" title="app/models/ability.rb">app/models/ability.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">30</td>
            <td class="cell--number">25</td>
            <td class="cell--number">25</td>
            <td class="cell--number">0</td>
            <td class="cell--number">96.32</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#93ee4ab70ba4c88e2790dcb112af704d0a6e7919" class="src_link" title="app/models/activity.rb">app/models/activity.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#74227b1dad03316d581a0703847aea0723e4ac5b" class="src_link" title="app/models/api_singleton.rb">app/models/api_singleton.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.94 %</td>
            <td class="cell--number">1981</td>
            <td class="cell--number">1302</td>
            <td class="cell--number">1158</td>
            <td class="cell--number">144</td>
            <td class="cell--number">3.57</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c9fc1308c5d57b96c85b9f98173480a1ce66c1b6" class="src_link" title="app/models/application_record.rb">app/models/application_record.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">13</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">665.75</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5f9889f9b105e1c81df7e3ea4458ba0619b21417" class="src_link" title="app/models/country.rb">app/models/country.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5d8de9f6e8692cbb23397ff4fbf2aa1013e08cd5" class="src_link" title="app/models/gateway/webpay_gateway.rb">app/models/gateway/webpay_gateway.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.94 %</td>
            <td class="cell--number">118</td>
            <td class="cell--number">64</td>
            <td class="cell--number">55</td>
            <td class="cell--number">9</td>
            <td class="cell--number">1.17</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a4f3467c2a81ae3b5a1b9ff72b305ca70bf0eb9d" class="src_link" title="app/models/home.rb">app/models/home.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#093b9f3eb5b750c8cb2be66707aa1df5157238a9" class="src_link" title="app/models/notification.rb">app/models/notification.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">21</td>
            <td class="cell--number">12</td>
            <td class="cell--number">12</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.08</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#adef7d52a4edcf3fc027bc6dc17b3267ce8af0c4" class="src_link" title="app/models/payment.rb">app/models/payment.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">37</td>
            <td class="cell--number">20</td>
            <td class="cell--number">20</td>
            <td class="cell--number">0</td>
            <td class="cell--number">2.65</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a55dee87d97edcb5fda1e8f21a6c52d8ab89478a" class="src_link" title="app/models/payment_method.rb">app/models/payment_method.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1db04a352f599a885de5b8a2243a79231a6badb5" class="src_link" title="app/models/role.rb">app/models/role.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#29f3652c6226bfdcb3e2d41837e3b4beeb5e75b4" class="src_link" title="app/models/service.rb">app/models/service.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1f6f5265e19af326b1793b8cea59ae7b6afc4dc4" class="src_link" title="app/models/technician.rb">app/models/technician.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">80.77 %</td>
            <td class="cell--number">133</td>
            <td class="cell--number">78</td>
            <td class="cell--number">63</td>
            <td class="cell--number">15</td>
            <td class="cell--number">2.59</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d4fda2e3f22e09b105a899b45362703fdca7c9c0" class="src_link" title="app/models/technician_activity.rb">app/models/technician_activity.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#37447268a280a6e3b8f23a54822033bf44bc9f54" class="src_link" title="app/models/technician_taxon.rb">app/models/technician_taxon.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d882ad7826cd7139fcbeeed94f571f93ca487d6b" class="src_link" title="app/models/technician_zipcode.rb">app/models/technician_zipcode.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1634bd318b9aaeef8a52b6944c293445bae08789" class="src_link" title="app/models/user.rb">app/models/user.rb</a></td>
            <td class="green strong cell--number t-file__coverage">93.42 %</td>
            <td class="cell--number">147</td>
            <td class="cell--number">76</td>
            <td class="cell--number">71</td>
            <td class="cell--number">5</td>
            <td class="cell--number">104.36</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4bcd727b3a2cf0f78605e11b301e5c8a04b60d65" class="src_link" title="app/models/user_country.rb">app/models/user_country.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8e4705e73bb1979708560725f8cd1f6f32d986b3" class="src_link" title="app/models/user_role.rb">app/models/user_role.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a7ba92a3a6fd045d45bb73ca6ee552d8e2276088" class="src_link" title="app/models/zipcode.rb">app/models/zipcode.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#15c8c293a166deaee3827f56a59711060e62a99a" class="src_link" title="app/notifications/user_notification.rb">app/notifications/user_notification.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">89.74 %</td>
            <td class="cell--number">133</td>
            <td class="cell--number">39</td>
            <td class="cell--number">35</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1.15</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6b872d6db24b441d69930f8b5eab9c89e8e05c6a" class="src_link" title="config/application.rb">config/application.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">57</td>
            <td class="cell--number">26</td>
            <td class="cell--number">26</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d08fccc68083b029149da4ced2c62802787efdca" class="src_link" title="config/boot.rb">config/boot.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#66a5b566890d975656e157edfcd9af51ac7754da" class="src_link" title="config/environment.rb">config/environment.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#732a8da13881daded5a6ca9ebfeda3bdf1cca6b9" class="src_link" title="config/environments/test.rb">config/environments/test.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">56</td>
            <td class="cell--number">22</td>
            <td class="cell--number">22</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#30afd6df43275b89045e70c4cb42f40fbc81177f" class="src_link" title="config/initializers/apipie.rb">config/initializers/apipie.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">10</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f041566d86c4cb9ccb3b68a97327b5b33a4d7834" class="src_link" title="config/initializers/application_controller_renderer.rb">config/initializers/application_controller_renderer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#7243638b7c4798ca522c6a650b2787d5c7c0c446" class="src_link" title="config/initializers/asset_sync.rb">config/initializers/asset_sync.rb</a></td>
            <td class="red strong cell--number t-file__coverage">7.14 %</td>
            <td class="cell--number">70</td>
            <td class="cell--number">14</td>
            <td class="cell--number">1</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0.07</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#af88668c16ca0933b5746b038b4a6c4dd4fb47f3" class="src_link" title="config/initializers/assets.rb">config/initializers/assets.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#23084b230a35fed1e2e7ba63dde55ba3bb0da05f" class="src_link" title="config/initializers/backtrace_silencers.rb">config/initializers/backtrace_silencers.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#bc3d4ed5af87190087f447572ef86fff193b0260" class="src_link" title="config/initializers/content_security_policy.rb">config/initializers/content_security_policy.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">30</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d6ed8e99d18a9c55b121e0d90912a2837d9ebef4" class="src_link" title="config/initializers/cookies_serializer.rb">config/initializers/cookies_serializer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a2c95fdf69e77b81a520a9f64678e71265e67705" class="src_link" title="config/initializers/date_time.rb">config/initializers/date_time.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#323ecaf96189bebc0b3e433dc2f9d1a840e2cb40" class="src_link" title="config/initializers/devise.rb">config/initializers/devise.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">311</td>
            <td class="cell--number">14</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e9e15341a2058fe44b22549479935ee505683e25" class="src_link" title="config/initializers/filter_parameter_logging.rb">config/initializers/filter_parameter_logging.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4070c85b5bb4cbe653871c4acf5ceae26e6636e8" class="src_link" title="config/initializers/inflections.rb">config/initializers/inflections.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#70995a6eb10ce5e725ee22692fc93e42aa4f4114" class="src_link" title="config/initializers/mime_types.rb">config/initializers/mime_types.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9d42e23ece2bb52e1004b95cda3c1a2d1feba46a" class="src_link" title="config/initializers/premailer_rails.rb">config/initializers/premailer_rails.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#0b907dc98e64e110357f2eba5417b68a7a4fb7a1" class="src_link" title="config/initializers/wicked_pdf.rb">config/initializers/wicked_pdf.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">22</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f3a7bac3eb987c7dd26ccbec0ed7357fb3918f25" class="src_link" title="config/initializers/wrap_parameters.rb">config/initializers/wrap_parameters.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c0d2c18de8d9cd0936d89fd038432d91027a0794" class="src_link" title="config/routes.rb">config/routes.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">258</td>
            <td class="cell--number">154</td>
            <td class="cell--number">154</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.02</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#3ef4fa41c95d00236038d7daa53fa71235f9311d" class="src_link" title="config/spring.rb">config/spring.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">6</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>


        
          <div class="file_list_container" id="Controllers">
  <h2>
    <span class="group_name">Controllers</span>
    (<span class="covered_percent">
      <span class="yellow">
  89.4%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         5.18
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Controllers"></a>

  <div>
    <b>18</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>1538</b> relevant lines,
    <span class="green"><b>1375</b> lines covered</span> and
    <span class="red"><b>163</b> lines missed. </span>
    (<span class="yellow">
  89.4%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#22f5197b8d55ff243bd05f9f1d2f0443f337844e" class="src_link" title="app/controllers/api/v1/abilities_controller.rb">app/controllers/api/v1/abilities_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">48</td>
            <td class="cell--number">20</td>
            <td class="cell--number">20</td>
            <td class="cell--number">0</td>
            <td class="cell--number">91.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#7c2431f997fd84f24f2b4dabdbbf9834678b408c" class="src_link" title="app/controllers/api/v1/administrative_demarcations_controller.rb">app/controllers/api/v1/administrative_demarcations_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">47</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">6.31</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#58fe1ad6c075f0f3441a5d741b99fc98f7e9e199" class="src_link" title="app/controllers/api/v1/calendar_events_controller.rb">app/controllers/api/v1/calendar_events_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">96.97 %</td>
            <td class="cell--number">101</td>
            <td class="cell--number">33</td>
            <td class="cell--number">32</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1.97</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f92bcc258ebab67a40085987041d31a5f049e9ce" class="src_link" title="app/controllers/api/v1/checklists_controller.rb">app/controllers/api/v1/checklists_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">227</td>
            <td class="cell--number">42</td>
            <td class="cell--number">42</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.02</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#31586899e9526a88fe1895fedd329d745c35b997" class="src_link" title="app/controllers/api/v1/consumables_controller.rb">app/controllers/api/v1/consumables_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">68</td>
            <td class="cell--number">11</td>
            <td class="cell--number">11</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.27</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#555b22b99954f211d9507ee3cf74af77d82f0099" class="src_link" title="app/controllers/api/v1/customers_controller.rb">app/controllers/api/v1/customers_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">87.54 %</td>
            <td class="cell--number">1468</td>
            <td class="cell--number">570</td>
            <td class="cell--number">499</td>
            <td class="cell--number">71</td>
            <td class="cell--number">1.61</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#338a458b1446fa6b5e4c7a58c722ee71b4353c10" class="src_link" title="app/controllers/api/v1/labor_prices_controller.rb">app/controllers/api/v1/labor_prices_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">38</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.23</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#336eb63c7df8c2bf31cbe5d45eb4d44d531012cd" class="src_link" title="app/controllers/api/v1/payment_methods_controller.rb">app/controllers/api/v1/payment_methods_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">43</td>
            <td class="cell--number">13</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8650ff3c72a4bfdd347b71d093ed843cf34ac77e" class="src_link" title="app/controllers/api/v1/payments_controller.rb">app/controllers/api/v1/payments_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">96.67 %</td>
            <td class="cell--number">94</td>
            <td class="cell--number">30</td>
            <td class="cell--number">29</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1.43</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#085935d62fcbafcff47821f7752db3c6dca95dd1" class="src_link" title="app/controllers/api/v1/products_controller.rb">app/controllers/api/v1/products_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.89 %</td>
            <td class="cell--number">97</td>
            <td class="cell--number">27</td>
            <td class="cell--number">24</td>
            <td class="cell--number">3</td>
            <td class="cell--number">4.44</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d3c102f945019a03a96214c88e01b003bdc61c4e" class="src_link" title="app/controllers/api/v1/services_controller.rb">app/controllers/api/v1/services_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.79 %</td>
            <td class="cell--number">853</td>
            <td class="cell--number">232</td>
            <td class="cell--number">206</td>
            <td class="cell--number">26</td>
            <td class="cell--number">1.51</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#71e96368cefd24d81774a475bf19fd6f99b8ceee" class="src_link" title="app/controllers/api/v1/taxons_controller.rb">app/controllers/api/v1/taxons_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">84.62 %</td>
            <td class="cell--number">107</td>
            <td class="cell--number">26</td>
            <td class="cell--number">22</td>
            <td class="cell--number">4</td>
            <td class="cell--number">16.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#dc6e80d7cf2ad1703df006d6d7dcdf741964cdf2" class="src_link" title="app/controllers/api/v1/technicians_controller.rb">app/controllers/api/v1/technicians_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.57 %</td>
            <td class="cell--number">543</td>
            <td class="cell--number">194</td>
            <td class="cell--number">166</td>
            <td class="cell--number">28</td>
            <td class="cell--number">2.04</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e299a2aa73bef97f1ee0c9d9a4ff063f16ec6649" class="src_link" title="app/controllers/api/v1/users_controller.rb">app/controllers/api/v1/users_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">84.97 %</td>
            <td class="cell--number">522</td>
            <td class="cell--number">153</td>
            <td class="cell--number">130</td>
            <td class="cell--number">23</td>
            <td class="cell--number">8.38</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6e0cdb920085db2d0643e4fca91ca04eabae3038" class="src_link" title="app/controllers/api/v1/visits_controller.rb">app/controllers/api/v1/visits_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">341</td>
            <td class="cell--number">102</td>
            <td class="cell--number">102</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.10</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5aed16e5837c37dd9b15c2660e7653fd7e882d9d" class="src_link" title="app/controllers/application_controller.rb">app/controllers/application_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">92.86 %</td>
            <td class="cell--number">54</td>
            <td class="cell--number">28</td>
            <td class="cell--number">26</td>
            <td class="cell--number">2</td>
            <td class="cell--number">79.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a115c80620e20b48e2109b4da1cf3ef77e60af4a" class="src_link" title="app/controllers/home_controller.rb">app/controllers/home_controller.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">9</td>
            <td class="cell--number">4</td>
            <td class="cell--number">4</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8bdbb856608e180a0933485049ef02eb1efc4578" class="src_link" title="app/controllers/users/passwords_controller.rb">app/controllers/users/passwords_controller.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.19 %</td>
            <td class="cell--number">68</td>
            <td class="cell--number">27</td>
            <td class="cell--number">23</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1.26</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Models">
  <h2>
    <span class="group_name">Models</span>
    (<span class="covered_percent">
      <span class="yellow">
  89.34%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         12.76
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Models"></a>

  <div>
    <b>23</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>1623</b> relevant lines,
    <span class="green"><b>1450</b> lines covered</span> and
    <span class="red"><b>173</b> lines missed. </span>
    (<span class="yellow">
  89.34%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d7a71c34ee1bbe3ac61b095546e9094c24c31b42" class="src_link" title="app/models/Calendar.rb">app/models/Calendar.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#208e84086aa67d169a80d1a4413b86a5ad0971ce" class="src_link" title="app/models/Customer.rb">app/models/Customer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#077653ed6c2c3c0cd39d683c1edb01a1a7858e1f" class="src_link" title="app/models/Survey.rb">app/models/Survey.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b53c0c01551dc11d2c730cd7ae2f7d0eec9a0501" class="src_link" title="app/models/ability.rb">app/models/ability.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">30</td>
            <td class="cell--number">25</td>
            <td class="cell--number">25</td>
            <td class="cell--number">0</td>
            <td class="cell--number">96.32</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#93ee4ab70ba4c88e2790dcb112af704d0a6e7919" class="src_link" title="app/models/activity.rb">app/models/activity.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#74227b1dad03316d581a0703847aea0723e4ac5b" class="src_link" title="app/models/api_singleton.rb">app/models/api_singleton.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">88.94 %</td>
            <td class="cell--number">1981</td>
            <td class="cell--number">1302</td>
            <td class="cell--number">1158</td>
            <td class="cell--number">144</td>
            <td class="cell--number">3.57</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c9fc1308c5d57b96c85b9f98173480a1ce66c1b6" class="src_link" title="app/models/application_record.rb">app/models/application_record.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">13</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">665.75</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5f9889f9b105e1c81df7e3ea4458ba0619b21417" class="src_link" title="app/models/country.rb">app/models/country.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#5d8de9f6e8692cbb23397ff4fbf2aa1013e08cd5" class="src_link" title="app/models/gateway/webpay_gateway.rb">app/models/gateway/webpay_gateway.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">85.94 %</td>
            <td class="cell--number">118</td>
            <td class="cell--number">64</td>
            <td class="cell--number">55</td>
            <td class="cell--number">9</td>
            <td class="cell--number">1.17</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a4f3467c2a81ae3b5a1b9ff72b305ca70bf0eb9d" class="src_link" title="app/models/home.rb">app/models/home.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#093b9f3eb5b750c8cb2be66707aa1df5157238a9" class="src_link" title="app/models/notification.rb">app/models/notification.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">21</td>
            <td class="cell--number">12</td>
            <td class="cell--number">12</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.08</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#adef7d52a4edcf3fc027bc6dc17b3267ce8af0c4" class="src_link" title="app/models/payment.rb">app/models/payment.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">37</td>
            <td class="cell--number">20</td>
            <td class="cell--number">20</td>
            <td class="cell--number">0</td>
            <td class="cell--number">2.65</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a55dee87d97edcb5fda1e8f21a6c52d8ab89478a" class="src_link" title="app/models/payment_method.rb">app/models/payment_method.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1db04a352f599a885de5b8a2243a79231a6badb5" class="src_link" title="app/models/role.rb">app/models/role.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#29f3652c6226bfdcb3e2d41837e3b4beeb5e75b4" class="src_link" title="app/models/service.rb">app/models/service.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1f6f5265e19af326b1793b8cea59ae7b6afc4dc4" class="src_link" title="app/models/technician.rb">app/models/technician.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">80.77 %</td>
            <td class="cell--number">133</td>
            <td class="cell--number">78</td>
            <td class="cell--number">63</td>
            <td class="cell--number">15</td>
            <td class="cell--number">2.59</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d4fda2e3f22e09b105a899b45362703fdca7c9c0" class="src_link" title="app/models/technician_activity.rb">app/models/technician_activity.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#37447268a280a6e3b8f23a54822033bf44bc9f54" class="src_link" title="app/models/technician_taxon.rb">app/models/technician_taxon.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">3</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d882ad7826cd7139fcbeeed94f571f93ca487d6b" class="src_link" title="app/models/technician_zipcode.rb">app/models/technician_zipcode.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#1634bd318b9aaeef8a52b6944c293445bae08789" class="src_link" title="app/models/user.rb">app/models/user.rb</a></td>
            <td class="green strong cell--number t-file__coverage">93.42 %</td>
            <td class="cell--number">147</td>
            <td class="cell--number">76</td>
            <td class="cell--number">71</td>
            <td class="cell--number">5</td>
            <td class="cell--number">104.36</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4bcd727b3a2cf0f78605e11b301e5c8a04b60d65" class="src_link" title="app/models/user_country.rb">app/models/user_country.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#8e4705e73bb1979708560725f8cd1f6f32d986b3" class="src_link" title="app/models/user_role.rb">app/models/user_role.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a7ba92a3a6fd045d45bb73ca6ee552d8e2276088" class="src_link" title="app/models/zipcode.rb">app/models/zipcode.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">2</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Helpers">
  <h2>
    <span class="group_name">Helpers</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Helpers"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Mailers">
  <h2>
    <span class="group_name">Mailers</span>
    (<span class="covered_percent">
      <span class="red">
  71.23%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="green">
         6.47
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Mailers"></a>

  <div>
    <b>3</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>73</b> relevant lines,
    <span class="green"><b>52</b> lines covered</span> and
    <span class="red"><b>21</b> lines missed. </span>
    (<span class="red">
  71.23%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#b19110c43e314575816f72fffe859f070684469e" class="src_link" title="app/mailers/application_mailer.rb">app/mailers/application_mailer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">10</td>
            <td class="cell--number">7</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.29</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#70387a858c2c34cf21cb5005f714b26fb270446e" class="src_link" title="app/mailers/devise_mailer.rb">app/mailers/devise_mailer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">28</td>
            <td class="cell--number">16</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">26.69</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#eb451949ae148c20974ac6661d7d1e52f73f1335" class="src_link" title="app/mailers/notification_mailer.rb">app/mailers/notification_mailer.rb</a></td>
            <td class="red strong cell--number t-file__coverage">58.00 %</td>
            <td class="cell--number">82</td>
            <td class="cell--number">50</td>
            <td class="cell--number">29</td>
            <td class="cell--number">21</td>
            <td class="cell--number">0.72</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Javascript">
  <h2>
    <span class="group_name">Javascript</span>
    (<span class="covered_percent">
      <span class="green">
  100.0%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.0
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Javascript"></a>

  <div>
    <b>0</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>0</b> relevant lines,
    <span class="green"><b>0</b> lines covered</span> and
    <span class="red"><b>0</b> lines missed. </span>
    (<span class="green">
  100.0%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
      </tbody>
    </table>
  </div>
</div>

        
          <div class="file_list_container" id="Ungrouped">
  <h2>
    <span class="group_name">Ungrouped</span>
    (<span class="covered_percent">
      <span class="green">
  94.26%
</span>

     </span>
     covered at
     <span class="covered_strength">
       <span class="red">
         0.99
       </span>
    </span> hits/line
    )
  </h2>

  <a name="Ungrouped"></a>

  <div>
    <b>23</b> files in total.
  </div>

  <div class="t-line-summary">
    <b>296</b> relevant lines,
    <span class="green"><b>279</b> lines covered</span> and
    <span class="red"><b>17</b> lines missed. </span>
    (<span class="green">
  94.26%
</span>
)
  </div>

  

  <div class="file_list--responsive">
    <table class="file_list">
      <thead>
        <tr>
          <th>File</th>
          <th class="cell--number">% covered</th>
          <th class="cell--number">Lines</th>
          <th class="cell--number">Relevant Lines</th>
          <th class="cell--number">Lines covered</th>
          <th class="cell--number">Lines missed</th>
          <th class="cell--number">Avg. Hits / Line</th>
          
        </tr>
      </thead>
      <tbody>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#fb9b67f87aecd7e052c0d5facf7cee90e841c997" class="src_link" title="app/jobs/application_job.rb">app/jobs/application_job.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#15c8c293a166deaee3827f56a59711060e62a99a" class="src_link" title="app/notifications/user_notification.rb">app/notifications/user_notification.rb</a></td>
            <td class="yellow strong cell--number t-file__coverage">89.74 %</td>
            <td class="cell--number">133</td>
            <td class="cell--number">39</td>
            <td class="cell--number">35</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1.15</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#6b872d6db24b441d69930f8b5eab9c89e8e05c6a" class="src_link" title="config/application.rb">config/application.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">57</td>
            <td class="cell--number">26</td>
            <td class="cell--number">26</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d08fccc68083b029149da4ced2c62802787efdca" class="src_link" title="config/boot.rb">config/boot.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#66a5b566890d975656e157edfcd9af51ac7754da" class="src_link" title="config/environment.rb">config/environment.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#732a8da13881daded5a6ca9ebfeda3bdf1cca6b9" class="src_link" title="config/environments/test.rb">config/environments/test.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">56</td>
            <td class="cell--number">22</td>
            <td class="cell--number">22</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#30afd6df43275b89045e70c4cb42f40fbc81177f" class="src_link" title="config/initializers/apipie.rb">config/initializers/apipie.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">10</td>
            <td class="cell--number">8</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f041566d86c4cb9ccb3b68a97327b5b33a4d7834" class="src_link" title="config/initializers/application_controller_renderer.rb">config/initializers/application_controller_renderer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">8</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#7243638b7c4798ca522c6a650b2787d5c7c0c446" class="src_link" title="config/initializers/asset_sync.rb">config/initializers/asset_sync.rb</a></td>
            <td class="red strong cell--number t-file__coverage">7.14 %</td>
            <td class="cell--number">70</td>
            <td class="cell--number">14</td>
            <td class="cell--number">1</td>
            <td class="cell--number">13</td>
            <td class="cell--number">0.07</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#af88668c16ca0933b5746b038b4a6c4dd4fb47f3" class="src_link" title="config/initializers/assets.rb">config/initializers/assets.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#23084b230a35fed1e2e7ba63dde55ba3bb0da05f" class="src_link" title="config/initializers/backtrace_silencers.rb">config/initializers/backtrace_silencers.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">7</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#bc3d4ed5af87190087f447572ef86fff193b0260" class="src_link" title="config/initializers/content_security_policy.rb">config/initializers/content_security_policy.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">30</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#d6ed8e99d18a9c55b121e0d90912a2837d9ebef4" class="src_link" title="config/initializers/cookies_serializer.rb">config/initializers/cookies_serializer.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#a2c95fdf69e77b81a520a9f64678e71265e67705" class="src_link" title="config/initializers/date_time.rb">config/initializers/date_time.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">3</td>
            <td class="cell--number">3</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#323ecaf96189bebc0b3e433dc2f9d1a840e2cb40" class="src_link" title="config/initializers/devise.rb">config/initializers/devise.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">311</td>
            <td class="cell--number">14</td>
            <td class="cell--number">14</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#e9e15341a2058fe44b22549479935ee505683e25" class="src_link" title="config/initializers/filter_parameter_logging.rb">config/initializers/filter_parameter_logging.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">4</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#4070c85b5bb4cbe653871c4acf5ceae26e6636e8" class="src_link" title="config/initializers/inflections.rb">config/initializers/inflections.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">16</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0</td>
            <td class="cell--number">0.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#70995a6eb10ce5e725ee22692fc93e42aa4f4114" class="src_link" title="config/initializers/mime_types.rb">config/initializers/mime_types.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">5</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#9d42e23ece2bb52e1004b95cda3c1a2d1feba46a" class="src_link" title="config/initializers/premailer_rails.rb">config/initializers/premailer_rails.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#0b907dc98e64e110357f2eba5417b68a7a4fb7a1" class="src_link" title="config/initializers/wicked_pdf.rb">config/initializers/wicked_pdf.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">22</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#f3a7bac3eb987c7dd26ccbec0ed7357fb3918f25" class="src_link" title="config/initializers/wrap_parameters.rb">config/initializers/wrap_parameters.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">14</td>
            <td class="cell--number">2</td>
            <td class="cell--number">2</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.50</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#c0d2c18de8d9cd0936d89fd038432d91027a0794" class="src_link" title="config/routes.rb">config/routes.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">258</td>
            <td class="cell--number">154</td>
            <td class="cell--number">154</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.02</td>
            
          </tr>
        
          <tr class="t-file">
            <td class="strong t-file__name"><a href="#3ef4fa41c95d00236038d7daa53fa71235f9311d" class="src_link" title="config/spring.rb">config/spring.rb</a></td>
            <td class="green strong cell--number t-file__coverage">100.00 %</td>
            <td class="cell--number">6</td>
            <td class="cell--number">1</td>
            <td class="cell--number">1</td>
            <td class="cell--number">0</td>
            <td class="cell--number">1.00</td>
            
          </tr>
        
      </tbody>
    </table>
  </div>
</div>

        
      </div>

      <div id="footer">
        Generated by <a href="https://github.com/simplecov-ruby/simplecov">simplecov</a> v0.21.2
        and simplecov-html v0.12.3<br/>
        using RSpec
      </div>

      <div class="source_files">
      
        <div class="source_table" id="22f5197b8d55ff243bd05f9f1d2f0443f337844e">
  <div class="header">
    <h3>app/controllers/api/v1/abilities_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>20</b> relevant lines.
      <span class="green"><b>20</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::AbilitiesController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	protect_from_forgery with: :null_session, only: [:check]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:check]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:check]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/abilities/check&quot;, &quot;Verifica los permisos de un usuario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :location, String, :desc =&gt; &quot;Url que el usuario pretende verificar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del usuario que pretende verificar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/abilities/check?location=/customers/index\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">		controller: &#39;customers&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">		action: &#39;index&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">		user: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">			firstname: &#39;Admin&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">			lastname: &#39;Admin&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">			created_at: &#39;18/08/2020 16:10:48&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">			updated_at: &#39;16/11/2020 15:36:25&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">			email: &#39;admin@admin.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">			surname: &#39;Admin&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">			cellphone: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">			phone: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">			cost_center: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">			role_id: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">			worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">			photo: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">			country: &#39;MX&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">		check: &#39;can? index, Customer&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">		response: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def check</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="36">
            <span class="hits">181</span>
            

            

            <code class="ruby">		response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="37">
            <span class="hits">181</span>
            

            

            <code class="ruby">		location_path = params[:location].split(&quot;/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="38">
            <span class="hits">181</span>
            

            

            <code class="ruby">		api_controller =  (location_path[1].blank? ? &quot;Home&quot; : location_path[1])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="39">
            <span class="hits">181</span>
            

            

            <code class="ruby">		api_action = (location_path[2].blank? ? &quot;index&quot; : location_path[2])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="40">
            <span class="hits">181</span>
            

            

            <code class="ruby">	    response[&quot;controller&quot;] = api_controller</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="41">
            <span class="hits">181</span>
            

            

            <code class="ruby">	    response[&quot;action&quot;] = api_action</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="42">
            <span class="hits">181</span>
            

            

            <code class="ruby">	    response[&quot;user&quot;] = current_user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="43">
            <span class="hits">181</span>
            

            

            <code class="ruby">	    response[&quot;check&quot;] = &quot;can? #{api_action.try(:to_sym)}, #{ActiveSupport::Inflector.singularize(api_controller.try(:capitalize)).try(:constantize)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="44">
            <span class="hits">181</span>
            

            

            <code class="ruby">	    response[&quot;response&quot;] = (can? api_action.try(:to_sym), ActiveSupport::Inflector.singularize(api_controller.try(:capitalize)).try(:constantize))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="181" data-linenumber="45">
            <span class="hits">181</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="7c2431f997fd84f24f2b4dabdbbf9834678b408c">
  <div class="header">
    <h3>app/controllers/api/v1/administrative_demarcations_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>13</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::AdministrativeDemarcationsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	protect_from_forgery with: :null_session, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">	before_action :authenticate, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/administrative_demarcations&quot;, &quot;Retorna la estructura territorial de un país (estados, municipios, regiones)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :keywords, String, :desc =&gt; &quot;ISO del pais consultado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :zipcode, String, :desc =&gt; &quot;Codigo postal de la dirección (Solo clientes mexicanos)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/administrative_demarcations?keywords=CL\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">		data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">				admin_name_1: &#39;Región de Valparaíso&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">				admin_code_1: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">				admin_name_2: &#39;Provincia de Valparaíso&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">				admin_code_2: &#39;51&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">				admin_name_3: &#39;Casablanca&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">				admin_code_3: &#39;05102&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">				place_name: &#39;Casablanca&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">				zipcode: &#39;2480000&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">				country_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-16T23:05:37.539Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-16T23:05:37.539Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">				country: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">					id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">					name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">					iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">					created_at: &#39;2020-09-02T20:07:18.167Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-09-02T20:07:18.167Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">				},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">				admin3_admin1: &#39;Casablanca, Región de Valparaíso&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">				admin3_admin2_admin1: &#39;Casablanca, Provincia de Valparaíso, Región de Valparaíso&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">				country_code: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">				place_name_admin2_admin1: &#39;Casablanca, Provincia de Valparaíso Región de Valparaíso&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="43">
            <span class="hits">24</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="44">
            <span class="hits">24</span>
            

            

            <code class="ruby">	    administrative_demarcations = (params[:keywords].blank? ? ApiSingleton.administrative_demarcations_api(&quot;MX&quot;, params[:zipcode]) : ApiSingleton.administrative_demarcations_api(params[:keywords],params[:zipcode]))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="45">
            <span class="hits">24</span>
            

            

            <code class="ruby">	    render json:  administrative_demarcations.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="58fe1ad6c075f0f3441a5d741b99fc98f7e9e199">
  <div class="header">
    <h3>app/controllers/api/v1/calendar_events_controller.rb</h3>
    <h4>
      <span class="green">
  96.97%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>33</b> relevant lines.
      <span class="green"><b>32</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::CalendarEventsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index, :create, :index_technician_calendar_events, :destroy]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index, :create, :index_technician_calendar_events, :destroy]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:index, :create, :index_technician_calendar_events, :destroy]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/calendar_events&quot;, &quot;Trae todos los eventos bloqueados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country, String, :desc =&gt; &quot;PAIS del calendario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :all, String, :desc =&gt; &quot;1 para traer todos los eventos, 0 solo para traer solo los bloqueados por feriado o festivos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/calendar_events?country=CL\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">            allDay: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">            groupId: &#39;Bloqueados&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">            start: &#39;2020-10-12T11:00:00+00:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">            end: &#39;2020-10-13T19:30:00+00:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">            overlap: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">            display: &#39;background&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">            allDay: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">            start: &#39;2020-10-22&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">            end: &#39;2020-10-25&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">            overlap: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">            display: &#39;background&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">            allDay: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">            start: &#39;2020-10-27&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">            end: &#39;2020-10-30&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">            overlap: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">            display: &#39;background&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="40">
            <span class="hits">12</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="41">
            <span class="hits">12</span>
            

            

            <code class="ruby">        calendar_events = ApiSingleton.calendar_events_api(params[:country], params[:all])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="42">
            <span class="hits">12</span>
            

            

            <code class="ruby">	    render json:  calendar_events.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/technician_calendar_events&quot;, &quot;Trae todos los eventos bloqueados de un técnico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :technician_id, String, :desc =&gt; &quot;ID del tecnico a consultar sus eventos [1,2,3]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technician_calendar_events?technician_id=11\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">                allDay: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">                groupId: &#39;Blocked_Technician&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">                title: &#39;Bloqueado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">                description: &#39;Tecnico: TEST DEFINITIVO DE CREACIÓN &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">                start: &#39;2020-10-15T22:00:00+00:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">                end: &#39;2020-10-15T23:00:00+00:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">                overlap: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">                display: &#39;background&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">                allDay: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">                groupId: &#39;Blocked_Technician&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">                title: &#39;Bloqueado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">                description: &#39;Tecnico: TEST DEFINITIVO DE CREACIÓN &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">                start: &#39;2020-10-09&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">                end: &#39;2020-10-10&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">                overlap: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">                display: &#39;background&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index_technician_calendar_events</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">        calendar_events = ApiSingleton.technician_calendar_events_api(params[:technician_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  calendar_events.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/calendar_events&quot;, &quot;Crea nuevos dias bloqueados en el calendario global&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="86">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :DELETE, &quot;/v1/calendar_events/destroy_event&quot;, &quot;Elimina dias bloqueados en el calendario global&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="87">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :start_date, String, :desc =&gt; &quot;Fecha de inicio del envento en el calendario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :finish_date, String, :desc =&gt; &quot;Fecha de término del envento en el calendario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :technician_id, String, :desc =&gt; &quot;ID del técnico del envento en el calendario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">        calendar_events = ApiSingleton.destroy_technician_calendar_events(params[:start_date], params[:finish_date], params[:technician_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            <span class="hits">1</span>
            

            

            <code class="ruby">        render json: [&quot;Hecho&quot;, &quot;Se ha eliminado el evento.&quot;], status: :ok</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def calendar_event_params</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="98">
            
            

            

            <code class="ruby">            params.permit(:title, :start_date, :finish_date, :allDay, :event_type, :description)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f92bcc258ebab67a40085987041d31a5f049e9ce">
  <div class="header">
    <h3>app/controllers/api/v1/checklists_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>42</b> relevant lines.
      <span class="green"><b>42</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::ChecklistsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index, :customer_product_checklists, :get_answers, :answers]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index, :customer_product_checklists, :get_answers, :answers]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:index, :customer_product_checklists, :get_answers, :answers]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/checklists&quot;, &quot;Trae todos checklist de Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/checklists\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        id: 24,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">        question: &#39;El producto se encuentra en su empaque original y en el sitio para instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.740Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.740Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">        id: 25,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">        question: &#39;El producto ordenado es correcto para el tipo de gas en sitio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.758Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.758Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">        id: 26,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">        question: &#39;Linea electrica dedicada con fusible (break) separado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.773Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.773Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">        id: 27,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">        question: &#39;Hay una valvula de cierre de gas accesible, al lado o detrás del equipo&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.784Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.784Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        id: 28,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">        question: &#39;Hay un kit de conexión de gas, flexible, en el sitio de instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.794Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.794Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">        id: 29,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">        question: &#39;Dimensiones del nicho (Son correctas para el producto) &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.807Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.807Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    consumables = ApiSingleton.checklists_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  consumables.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customer_product_checklists&quot;, &quot;Trae todos checklists asociados producto de un cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_product_id, String, :desc =&gt; &quot;ID del producto del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_product_checklists?customer_product_id=1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        id: 24,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">        question: &#39;El producto se encuentra en su empaque original y en el sitio para instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.740Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.740Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">        id: 25,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        question: &#39;El producto ordenado es correcto para el tipo de gas en sitio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.758Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.758Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">        id: 26,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">        question: &#39;Linea electrica dedicada con fusible (break) separado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.773Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.773Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">        id: 27,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">        question: &#39;Hay una valvula de cierre de gas accesible, al lado o detrás del equipo&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.784Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.784Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">        id: 28,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">        question: &#39;Hay un kit de conexión de gas, flexible, en el sitio de instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.794Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.794Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">        id: 29,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">        question: &#39;Dimensiones del nicho (Son correctas para el producto) &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.807Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.807Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_product_checklists</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="105">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    consumables = ApiSingleton.customer_product_checklists_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  consumables.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="109">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customer_product_checklists/:customer_product_id/get_answers&quot;, &quot;Trae todas las respuestas de checklists asociados producto de un cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_product_id, String, :desc =&gt; &quot;ID del producto del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_product_checklists/1/get_answers\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">        id: 24,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">        question: &#39;El producto se encuentra en su empaque original y en el sitio para instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.740Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.740Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">        id: 25,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">        question: &#39;El producto ordenado es correcto para el tipo de gas en sitio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.758Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.758Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">        id: 26,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">        question: &#39;Linea electrica dedicada con fusible (break) separado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.773Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.773Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">        id: 27,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">        question: &#39;Hay una valvula de cierre de gas accesible, al lado o detrás del equipo&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.784Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.784Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">        id: 28,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">        question: &#39;Hay un kit de conexión de gas, flexible, en el sitio de instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.794Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.794Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">        id: 29,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">        question: &#39;Dimensiones del nicho (Son correctas para el producto) &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.807Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.807Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="154">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_answers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    checklists = ApiSingleton.customer_product_get_checklists_answers_api(customer_product_checklist_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  checklists.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customer_product_checklists/:customer_product_id/answers&quot;, &quot;Responde todos checklists asociados producto de un cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_product_id, String, :desc =&gt; &quot;ID del producto del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :preVisit, [true, false, &quot;true&quot;, &quot;false&quot;], :desc =&gt; &quot;true o false para indicar si se realiza previsita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :status, String, :desc =&gt; &quot;Estaus del producto del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :answers, Array, desc: &quot;Respuestas del checklist&quot; do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">        param :checklist_id, String, desc: &quot;ID de la pregunta del checklist contestada&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">        param :background, String, desc: &quot;Antencedentes entregados a la pregunta&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="168">
            <span class="hits">1</span>
            

            

            <code class="ruby">        param :answer, String, desc: &quot;Respuesta a la pregunta (Si/No)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="170">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :images, Array, :desc =&gt; &quot;Array de imagenes a asociar images:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}, description: {descripción de la imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_product_checklists/1/answers\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">        id: 24,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">        question: &#39;El producto se encuentra en su empaque original y en el sitio para instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.740Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.740Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">        id: 25,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">        question: &#39;El producto ordenado es correcto para el tipo de gas en sitio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.758Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.758Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">        id: 26,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">        question: &#39;Linea electrica dedicada con fusible (break) separado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.773Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.773Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">        id: 27,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">        question: &#39;Hay una valvula de cierre de gas accesible, al lado o detrás del equipo&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.784Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.784Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">        id: 28,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">        question: &#39;Hay un kit de conexión de gas, flexible, en el sitio de instalacion&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.794Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.794Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">        id: 29,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">        question: &#39;Dimensiones del nicho (Son correctas para el producto) &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">        created_at: &#39;2021-02-16T19:33:54.807Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">        updated_at: &#39;2021-02-16T19:33:54.807Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="215">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def answers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="216">
            <span class="hits">1</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="217">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    checklists = ApiSingleton.customer_product_checklists_answers_api(customer_product_checklist_params, params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="218">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  checklists.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="224">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def customer_product_checklist_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="225">
            <span class="hits">2</span>
            

            

            <code class="ruby">            params.permit(:customer_product_id, :preVisit, :status, images: [], answers: [:checklist_id, :background, :answer])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="31586899e9526a88fe1895fedd329d745c35b997">
  <div class="header">
    <h3>app/controllers/api/v1/consumables_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>11</b> relevant lines.
      <span class="green"><b>11</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::ConsumablesController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/consumables&quot;, &quot;Lista consumibles para un grupode productos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/consumables\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">		data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">				id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">				name: &#39;paño&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">				units_per_event: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">				product_id: 17,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">				events: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">				units_per_box: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">				created_at: &#39;2020-11-24T19:54:18.431Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-24T19:54:18.431Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">				taxons: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">					{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">						id: 5475,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">						name: &#39;Encimeras&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">						permalink: &#39;encimeras&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">						taxonomy_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">						created_at: &#39;2020-11-24T18:54:03.755Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">						updated_at: &#39;2020-11-24T18:54:03.755Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">						ancestry: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">						alias: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">						children_set: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">							{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">								id: 5476,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">								name: &#39;A gas&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">								permalink: &#39;encimeras/a_gas&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">								taxonomy_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">								created_at: &#39;2020-11-24T18:54:03.818Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">								updated_at: &#39;2020-11-24T18:54:03.818Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">								ancestry: &#39;5475&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">								alias: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">								children_set: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">									{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">										id: 5477,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">										name: &#39;vapor&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">										permalink: &#39;encimeras/a_gas/vapor&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">										taxonomy_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">										created_at: &#39;2020-11-24T18:54:03.854Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">										updated_at: &#39;2020-11-24T18:54:03.854Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">										ancestry: &#39;5476&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">										alias: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">										children_set: [ ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">									}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">								]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">							}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">						]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">					}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">				]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">			{...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="64">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="65">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    consumables = ApiSingleton.consumables_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="66">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    render json:  consumables.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="555b22b99954f211d9507ee3cf74af77d82f0099">
  <div class="header">
    <h3>app/controllers/api/v1/customers_controller.rb</h3>
    <h4>
      <span class="yellow">
  87.54%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>570</b> relevant lines.
      <span class="green"><b>499</b> lines covered</span> and
      <span class="red"><b>71</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::CustomersController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, except: [:mock_customer]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, except: [:mock_customer]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    after_action :send_payment_email, only: [:create_service, :update_service]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">     </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :verify_authenticity_token, only: [:mock_customer]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customers&quot;, &quot;Retorna los clientes del core filtrados por la plataforma &#39;Tickets&#39; y paginados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :page, String, :desc =&gt; &quot;Pagina consultada 1..n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :per_page, String, :desc =&gt; &quot;Resultados por paǵina esperados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country, String, :desc =&gt; &quot;Códigos de paises separados por , si es mas de uno (MX,CL)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers?page=2\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">            page: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">            per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">            data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">                {... cliente},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">                {... cliente}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">            ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">            total: 48</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="36">
            <span class="hits">26</span>
            

            

            <code class="ruby">        page = (params[:page].blank? ? 1 : params[:page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="37">
            <span class="hits">26</span>
            

            

            <code class="ruby">        per_page = (params[:per_page].blank? ? 10 : params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="38">
            <span class="hits">26</span>
            

            

            <code class="ruby">        keywords = (params[:keywords].blank? ? &quot;&quot; : params[:keywords])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="39">
            <span class="hits">26</span>
            

            

            <code class="ruby">        countries_iso = current_user.countries.pluck(:iso).join(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="40">
            <span class="hits">26</span>
            

            

            <code class="ruby">        country = (params[:country].blank? ? countries_iso : params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="41">
            <span class="hits">26</span>
            

            

            <code class="ruby">        render json:  ApiSingleton.customers_api(page, per_page, keywords, country)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customers&quot;, &quot;Crea un cliente para la plataforma &#39;Tickets&#39; en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :names, String, :desc =&gt; &quot;names del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :lastname, String, :desc =&gt; &quot;lastname del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :surname, String, :desc =&gt; &quot;surname del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email, String, :desc =&gt; &quot;email del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :zipcode, String, :desc =&gt; &quot;zipcode del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :state, String, :desc =&gt; &quot;state del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :delegation, String, :desc =&gt; &quot;delegation del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :colony, String, :desc =&gt; &quot;colony del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_type, String, :desc =&gt; &quot;street_type del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_name, String, :desc =&gt; &quot;street_name del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ext_number, String, :desc =&gt; &quot;ext_number del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :int_number, String, :desc =&gt; &quot;int_number del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :phone, String, :desc =&gt; &quot;phone del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :cellphone, String, :desc =&gt; &quot;cellphone del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :reference, String, :desc =&gt; &quot;reference del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :business_name, String, :desc =&gt; &quot;business_name del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :rfc, String, :desc =&gt; &quot;rfc del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email_fn, String, :desc =&gt; &quot;email de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :zipcode_fn, String, :desc =&gt; &quot;zipcode de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :state_fn, String, :desc =&gt; &quot;state de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :delegation_fn, String, :desc =&gt; &quot;delegation de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :colony_fn, String, :desc =&gt; &quot;colony de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_type_fn, String, :desc =&gt; &quot;street_type de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_name_fn, String, :desc =&gt; &quot;street_name de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ext_number_fn, String, :desc =&gt; &quot;ext_number de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :int_number_fn, String, :desc =&gt; &quot;int_number de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :phone_fn, String, :desc =&gt; &quot;phone de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :person_type, String, :desc =&gt; &quot;person_type del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country, String, :desc =&gt; &quot;country del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :rut, String, :desc =&gt; &quot;rut del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email2, String, :desc =&gt; &quot;email2 del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :commercial_business, String, :desc =&gt; &quot;commercial_business del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :tradename, String, :desc =&gt; &quot;tradename del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;customer_id del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">            names: &#39;Test names&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">            lastname: &#39;Test lastname&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">            surname: &#39;Test surname&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">            email: &#39;test.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">            zipcode: &#39;testzipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">            state: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">            delegation: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">            colony: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">            street_type: &#39;Av.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">            street_name: &#39;Test street name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">            ext_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">            int_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">            phone: &#39;(+56) 1234567&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">            cellphone: &#39;(+52) 12345678 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">            reference: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">            business_name: &#39;TEST enterprise&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">            rfc: &#39;TEST RFC&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">            email_fn: &#39;test.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">            zipcode_fn: &#39;testzipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">            state_fn: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">            delegation_fn: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">            colony_fn: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">            street_type_fn: &#39;Av.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">            street_name_fn: &#39;Test street name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">            ext_number_fn: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">            int_number_fn: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">            phone_fn: &#39;(+56) 12345678&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">            created_at: &#39;27/10/2020 21:15:14&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">            updated_at: &#39;27/10/2020 21:15:14&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">            person_type: &#39;person_p&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">            rut: &#39;test rut&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">            email2: &#39;testopt.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">            commercial_business: &#39;TEST enterprise&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">            tradename: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">            administrative_demarcation_id: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">            administrative_demarcation_fn_id: 01,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">            country: {},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">            additionals: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">            additional_addresses: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">            administrative_demarcation: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">            administrative_demarcation_fn: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">            customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">            policies: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">            last_service: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @user = User.find_by(email: customer_params[:email])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">        unless @user.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="133">
            
            

            

            <code class="ruby">            render json: [&quot;Email ya en uso por usuario&quot;], status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="134">
            
            

            

            <code class="ruby">            return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="136">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer =  ApiSingleton.create_customer_api(customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="137">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">            user_params_t = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="139">
            <span class="hits">2</span>
            

            

            <code class="ruby">                firstname: (customer_params[:names].blank? ? &quot;Sin Información&quot; : customer_params[:names]),</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            <span class="hits">1</span>
            

            

            <code class="ruby">                lastname: (customer_params[:lastname].blank? ? &quot;Sin Información&quot; : customer_params[:lastname]),</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="141">
            <span class="hits">1</span>
            

            

            <code class="ruby">                surname: (customer_params[:surname].blank? ? &quot;Sin Información&quot; : customer_params[:surname]),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">                email: customer_params[:email],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">                password: &quot;mielePartner&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">                cellphone: customer_params[:cellphone],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">                phone: customer_params[:phone],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">                customer_id: @customer[&quot;id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="148">
            <span class="hits">1</span>
            

            

            <code class="ruby">            user = User.create(user_params_t)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">            unless user.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="150">
            <span class="hits">1</span>
            

            

            <code class="ruby">                country = Country.find_by(iso: customer_params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            <span class="hits">1</span>
            

            

            <code class="ruby">                unless country.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            <span class="hits">1</span>
            

            

            <code class="ruby">                    user.countries &lt;&lt; country</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="154">
            <span class="hits">1</span>
            

            

            <code class="ruby">                user.roles &lt;&lt; Role.find_or_create_by(name: &quot;Cliente&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="158">
            
            

            

            <code class="ruby">            render json: @customer, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customersAdditional&quot;, &quot;Crea un cliente adicional a otro para la plataforma &#39;Tickets&#39; en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente para agregar adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :names, String, :desc =&gt; &quot;names del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :lastname, String, :desc =&gt; &quot;lastname del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :surname, String, :desc =&gt; &quot;surname del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email, String, :desc =&gt; &quot;email del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="168">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :phone, String, :desc =&gt; &quot;phone del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="169">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :cellphone, String, :desc =&gt; &quot;cellphone del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="170">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer, String, :desc =&gt; &quot;customer del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customersAdditional\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">            customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">            names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">            lastname: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">            surname: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">            email: &#39;TEST@EMAIL.COM&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">            phone: &#39;(+52) 1231231231&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">            cellphone: &#39;(+52) 123123123 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">            created_at: &#39;2020-11-23T15:50:35.330Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-23T15:50:35.330Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def createAdditional</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="187">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @additional =  ApiSingleton.create_customer_additional_api(customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="188">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@additional[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="189">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @additional.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="191">
            
            

            

            <code class="ruby">            render json: @additional, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="195">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :PATCH, &quot;/v1/customersAdditional/:id&quot;, &quot;Crea un cliente adicional a otro para la plataforma &#39;Tickets&#39; en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID del cliente adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="197">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente para actualizar adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="198">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :names, String, :desc =&gt; &quot;names del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="199">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :lastname, String, :desc =&gt; &quot;lastname del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :surname, String, :desc =&gt; &quot;surname del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email, String, :desc =&gt; &quot;email del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="202">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :phone, String, :desc =&gt; &quot;phone del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="203">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :cellphone, String, :desc =&gt; &quot;cellphone del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer, String, :desc =&gt; &quot;customer del cliente adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="205">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customersAdditional/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">            customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">            names: &#39;TEST UPDATED&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">            lastname: &#39;TEST UPDATED&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">            surname: &#39;TEST UPDATED&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">            email: &#39;TESTUPDATED@EMAIL.COM&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">            phone: &#39;(+52) 1231231231&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">            cellphone: &#39;(+52) 123123123 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">            created_at: &#39;2020-11-23T15:50:35.330Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-23T15:50:35.330Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="220">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def updateAdditional</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="221">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @additional =  ApiSingleton.update_customer_additional_api(params[:id],customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="222">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@additional[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @additional.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="225">
            
            

            

            <code class="ruby">            render json: @additional, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">=begin   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">    def destroyAdditional</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">        @additional =  ApiSingleton.destroy_customer_additional_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">        if (@additional[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">            render json: @additional.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">            render json: @additional, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">=end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="238">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customersAdditionalAddress&quot;, &quot;Crea una dirección adicional a un cliente en &#39;Tickets&#39; en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="239">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la dirección adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="240">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente para agregar adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="241">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :name, String, :desc =&gt; &quot;name de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :zipcode, String, :desc =&gt; &quot;zipcode de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :state, String, :desc =&gt; &quot;state de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :delegation, String, :desc =&gt; &quot;delegation de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :colony, String, :desc =&gt; &quot;colony de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="246">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_type, String, :desc =&gt; &quot;street_type de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="247">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_name, String, :desc =&gt; &quot;street_name de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ext_number, String, :desc =&gt; &quot;ext_number de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="249">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :int_number, String, :desc =&gt; &quot;int_number de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country_id, String, :desc =&gt; &quot;ISO del país de la direccion adicional a agregar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="251">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customersAdditionalAddress\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">            name: &#39;TEST ADDICIONAL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">            zipcode: &#39;test zipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">            state: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">            delegation: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">            colony: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">            street_name: &#39;TEST ADDICIONAL CALLE&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">            street_type: &#39;Pasaje&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">            ext_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">            int_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">            country_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">            administrative_demarcation_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">            customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">            created_at: &#39;2020-11-02T15:37:52.781Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-02T15:37:52.781Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">            country: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">                id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">                name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">                iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">                created_at: &#39;2020-09-02T20:07:18.167Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-09-02T20:07:18.167Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="278">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def createAdditionalAddress</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="279">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @additional_address =  ApiSingleton.create_customer_additional_address_api(additional_address_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="280">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@additional_address[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="281">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @additional_address.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="283">
            
            

            

            <code class="ruby">            render json: @additional_address, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="287">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :PATCH, &quot;/v1/customersAdditionalAddress/:id&quot;, &quot;ACTUALIZA una dirección adicional a un cliente en &#39;Tickets&#39; en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="288">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente para actualizar adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="289">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :name, String, :desc =&gt; &quot;name de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="290">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :zipcode, String, :desc =&gt; &quot;zipcode de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="291">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :state, String, :desc =&gt; &quot;state de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="292">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :delegation, String, :desc =&gt; &quot;delegation de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="293">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :colony, String, :desc =&gt; &quot;colony de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="294">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_type, String, :desc =&gt; &quot;street_type de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="295">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_name, String, :desc =&gt; &quot;street_name de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="296">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ext_number, String, :desc =&gt; &quot;ext_number de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="297">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :int_number, String, :desc =&gt; &quot;int_number de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="298">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country_id, String, :desc =&gt; &quot;ISO del país de la direccion adicional a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="299">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customersAdditionalAddress/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">            name: &#39;TEST UPDATED ADDICIONAL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">            zipcode: &#39;test zipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">            state: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">            delegation: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">            colony: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">            street_name: &#39;TEST UPDATED ADDICIONAL CALLE&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">            street_type: &#39;Pasaje&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">            ext_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">            int_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">            country_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">            administrative_demarcation_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">            customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">            created_at: &#39;2020-11-02T15:37:52.781Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-02T15:37:52.781Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">            country: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">                id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">                name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">                iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">                created_at: &#39;2020-09-02T20:07:18.167Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-09-02T20:07:18.167Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="326">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def updateAdditionalAddress</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="327">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @additional_address =  ApiSingleton.update_customer_additional_address_api(params[:id],additional_address_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="328">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@additional_address[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="329">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @additional_address.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="331">
            
            

            

            <code class="ruby">            render json: @additional_address, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="335">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :DELETE, &quot;/v1/customersAdditionalAddress/:id&quot;, &quot;Elimina la dirección adicional de un cliente filtrados por la plataforma &#39;Tickets&#39;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="336">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la dirección adicional a eliminar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="337">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customersAdditionalAddress/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">        Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">                additional_address_id: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">        Devuelve el id de la dirección adicional eliminada, para poder filtrarlo de ser necesario.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="344">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def destroyAdditionalAddress</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="345">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @additional_address =  ApiSingleton.destroy_customer_additional_address_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="346">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@additional_address[&quot;additional_address_id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="347">
            
            

            

            <code class="ruby">            render json: @additional_address.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="349">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @additional_address, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="353">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customers/:id&quot;, &quot;Retorna la información de un cliente filtrados por la plataforma &#39;Tickets&#39; y id&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="354">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID el cliente a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="355">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email, String, :desc =&gt; &quot;Email del cliente (opcional), si es que no se conoce el ID y enviar no_id. &#39;/api/v1/customers/no_id?email=test.email.com&#39;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="356">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">            names: &#39;Test names&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">            lastname: &#39;Test lastname&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">            surname: &#39;Test surname&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">            email: &#39;test.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">            zipcode: &#39;testzipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">            state: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">            delegation: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">            colony: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">            street_type: &#39;Av.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">            street_name: &#39;Test street name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">            ext_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">            int_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">            phone: &#39;(+56) 1234567&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">            cellphone: &#39;(+52) 12345678 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">            reference: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">            business_name: &#39;TEST enterprise&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">            rfc: &#39;TEST RFC&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">            email_fn: &#39;test.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">            zipcode_fn: &#39;testzipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">            state_fn: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">            delegation_fn: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">            colony_fn: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">            street_type_fn: &#39;Av.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">            street_name_fn: &#39;Test street name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">            ext_number_fn: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">            int_number_fn: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">            phone_fn: &#39;(+56) 12345678&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">            created_at: &#39;27/10/2020 21:15:14&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">            updated_at: &#39;27/10/2020 21:15:14&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">            person_type: &#39;person_p&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">            rut: &#39;test rut&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">            email2: &#39;testopt.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">            commercial_business: &#39;TEST enterprise&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">            tradename: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">            administrative_demarcation_id: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">            administrative_demarcation_fn_id: 01,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">            country: {},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">            additionals: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">            additional_addresses: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">            administrative_demarcation: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">            administrative_demarcation_fn: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">            customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">            policies: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">            last_service: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def show</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="408">
            <span class="hits">25</span>
            

            

            <code class="ruby">        @customer = ApiSingleton.get_customer_api(params[:id], params[:email])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="50" data-linenumber="409">
            <span class="hits">50</span>
            

            

            <code class="ruby">        technicians_ids =  @customer[&quot;data&quot;][&quot;last_service&quot;][&quot;calendar_events&quot;].collect{|calendar| calendar[&quot;object_id&quot;]} rescue []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="410">
            <span class="hits">25</span>
            

            

            <code class="ruby">        technicians =  Technician.where(id: technicians_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="411">
            <span class="hits">25</span>
            

            

            <code class="ruby">        unless @customer[&quot;data&quot;][&quot;last_service&quot;].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="412">
            <span class="hits">25</span>
            

            

            <code class="ruby">            @customer[&quot;data&quot;][&quot;last_service&quot;][&quot;technicians&quot;] = technicians</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="414">
            <span class="hits">25</span>
            

            

            <code class="ruby">        response = @customer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="25" data-linenumber="415">
            <span class="hits">25</span>
            

            

            <code class="ruby">        render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="418">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :PATCH, &quot;/v1/customers&quot;, &quot;Actualiza un cliente para la plataforma &#39;Tickets&#39; en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="419">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID del cliente a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="420">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :names, String, :desc =&gt; &quot;names del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="421">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :lastname, String, :desc =&gt; &quot;lastname del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="422">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :surname, String, :desc =&gt; &quot;surname del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="423">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email, String, :desc =&gt; &quot;email del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="424">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :zipcode, String, :desc =&gt; &quot;zipcode del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="425">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :state, String, :desc =&gt; &quot;state del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="426">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :delegation, String, :desc =&gt; &quot;delegation del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="427">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :colony, String, :desc =&gt; &quot;colony del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="428">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_type, String, :desc =&gt; &quot;street_type del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="429">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_name, String, :desc =&gt; &quot;street_name del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="430">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ext_number, String, :desc =&gt; &quot;ext_number del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="431">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :int_number, String, :desc =&gt; &quot;int_number del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="432">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :phone, String, :desc =&gt; &quot;phone del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="433">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :cellphone, String, :desc =&gt; &quot;cellphone del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="434">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :reference, String, :desc =&gt; &quot;reference del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="435">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :business_name, String, :desc =&gt; &quot;business_name del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="436">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :rfc, String, :desc =&gt; &quot;rfc del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="437">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email_fn, String, :desc =&gt; &quot;email de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="438">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :zipcode_fn, String, :desc =&gt; &quot;zipcode de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="439">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :state_fn, String, :desc =&gt; &quot;state de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="440">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :delegation_fn, String, :desc =&gt; &quot;delegation de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="441">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :colony_fn, String, :desc =&gt; &quot;colony de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="442">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_type_fn, String, :desc =&gt; &quot;street_type de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="443">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :street_name_fn, String, :desc =&gt; &quot;street_name de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="444">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ext_number_fn, String, :desc =&gt; &quot;ext_number de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="445">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :int_number_fn, String, :desc =&gt; &quot;int_number de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :phone_fn, String, :desc =&gt; &quot;phone de facturación del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="447">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :person_type, String, :desc =&gt; &quot;person_type del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="448">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country, String, :desc =&gt; &quot;country del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="449">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :rut, String, :desc =&gt; &quot;rut del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="450">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :email2, String, :desc =&gt; &quot;email2 del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="451">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :commercial_business, String, :desc =&gt; &quot;commercial_business del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="452">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :tradename, String, :desc =&gt; &quot;tradename del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="453">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;customer_id del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="454">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">            names: &#39;Test names&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">            lastname: &#39;Test lastname&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">            surname: &#39;Test surname&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">            email: &#39;test.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">            zipcode: &#39;testzipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">            state: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">            delegation: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">            colony: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">            street_type: &#39;Av.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">            street_name: &#39;Test street name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">            ext_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">            int_number: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">            phone: &#39;(+56) 1234567&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">            cellphone: &#39;(+52) 12345678 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">            reference: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">            business_name: &#39;TEST enterprise&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">            rfc: &#39;TEST RFC&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">            email_fn: &#39;test.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">            zipcode_fn: &#39;testzipcode&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">            state_fn: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">            delegation_fn: &#39;Test delegation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">            colony_fn: &#39;Test colony&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">            street_type_fn: &#39;Av.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">            street_name_fn: &#39;Test street name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby">            ext_number_fn: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">            int_number_fn: &#39;12345&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">            phone_fn: &#39;(+56) 12345678&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">            created_at: &#39;27/10/2020 21:15:14&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            
            

            

            <code class="ruby">            updated_at: &#39;27/10/2020 21:15:14&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            
            

            

            <code class="ruby">            person_type: &#39;person_p&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="488">
            
            

            

            <code class="ruby">            rut: &#39;test rut&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">            email2: &#39;testopt.email.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">            commercial_business: &#39;TEST enterprise&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">            tradename: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby">            administrative_demarcation_id: &#39;01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">            administrative_demarcation_fn_id: 01,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">            country: {},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">            additionals: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby">            additional_addresses: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="498">
            
            

            

            <code class="ruby">            administrative_demarcation: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">            administrative_demarcation_fn: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">            customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">            policies: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">            last_service: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="505">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="506">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @user = User.find_by(email: customer_params[:email])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="507">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer = ApiSingleton.get_customer_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="509">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if !@user.nil? &amp;&amp; (@customer[&quot;data&quot;][&quot;email&quot;].downcase != customer_params[:email].downcase)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="510">
            
            

            

            <code class="ruby">            render json: [&quot;Email ya en uso por usuario&quot;], status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="511">
            
            

            

            <code class="ruby">            return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="513">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer =  ApiSingleton.update_customer_api(params[:id],customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="514">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">            user_params_t = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="516">
            <span class="hits">2</span>
            

            

            <code class="ruby">                firstname: (customer_params[:names].blank? ? &quot;Sin Información&quot; : customer_params[:names]),</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="517">
            <span class="hits">1</span>
            

            

            <code class="ruby">                lastname: (customer_params[:lastname].blank? ? &quot;Sin Información&quot; : customer_params[:lastname]),</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="518">
            <span class="hits">1</span>
            

            

            <code class="ruby">                surname: (customer_params[:surname].blank? ? &quot;Sin Información&quot; : customer_params[:surname]),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">                email: customer_params[:email],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">                password: &quot;mielePartner&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">                cellphone: customer_params[:cellphone],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">                phone: customer_params[:phone],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">                customer_id: @customer[&quot;id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="525">
            <span class="hits">1</span>
            

            

            <code class="ruby">            unless @user.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="526">
            
            

            

            <code class="ruby">                @user.update(user_params_t)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="527">
            
            

            

            <code class="ruby">                user =  @user.reload</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">            else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="529">
            <span class="hits">1</span>
            

            

            <code class="ruby">                user = User.create(user_params_t)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="530">
            <span class="hits">1</span>
            

            

            <code class="ruby">                unless user.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="531">
            <span class="hits">1</span>
            

            

            <code class="ruby">                    country = Country.find_by(iso: customer_params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="532">
            <span class="hits">1</span>
            

            

            <code class="ruby">                    unless country.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="533">
            <span class="hits">1</span>
            

            

            <code class="ruby">                        user.countries &lt;&lt; country</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            
            

            

            <code class="ruby">                    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="535">
            <span class="hits">1</span>
            

            

            <code class="ruby">                    user.roles &lt;&lt; Role.find_or_create_by(name: &quot;Cliente&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby">                end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="538">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="540">
            
            

            

            <code class="ruby">            render json: @customer, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="544">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def mock_customer</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="545">
            
            

            

            <code class="ruby">        render json: {&quot;id&quot; =&gt; &quot;34&quot;}, layout: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="548">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def mock_policy</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="549">
            
            

            

            <code class="ruby">        render json: {&quot;id&quot; =&gt; &quot;34&quot;, &quot;customer_id&quot; =&gt; &quot;34&quot;, &quot;customer&quot; =&gt; {&quot;email&quot; =&gt; &quot;34@email.com&quot;}}, layout: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="552">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customers/:id/products&quot;, &quot;Productos de un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="553">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="554">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/products\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="557">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            
            

            

            <code class="ruby">            customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby">            product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            
            

            

            <code class="ruby">            status: &#39;Inicial&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">            warranty: &#39;1/1/1990&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby">            policy: &#39;S/N&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">            product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="567">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="569">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">                tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">                ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="575">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="577">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="578">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="579">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="580">
            
            

            

            <code class="ruby">                home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="582">
            
            

            

            <code class="ruby">                product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="583">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="586">
            
            

            

            <code class="ruby">        {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="589">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def products</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="590">
            <span class="hits">16</span>
            

            

            <code class="ruby">        @products = ApiSingleton.get_customer_products_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="591">
            <span class="hits">16</span>
            

            

            <code class="ruby">        response = @products</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="592">
            <span class="hits">16</span>
            

            

            <code class="ruby">        render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="595">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customers/:customer_id/create_product&quot;, &quot;Asigna un producto a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="596">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar productos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="597">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :products, String, :desc =&gt; &quot;Array de ids de usuario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="598">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :dispatchgroup_id, String, :desc =&gt; &quot;Número de envío del producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="599">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quotation_id, String, :desc =&gt; &quot;Número de orden del producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="600">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/create_product\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">        product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            
            

            

            <code class="ruby">        created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="607">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby">        status: &#39;Inicial&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby">        warranty: &#39;1/1/1990&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            
            

            

            <code class="ruby">        policy: &#39;S/N&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">        product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="614">
            
            

            

            <code class="ruby">            platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="615">
            
            

            

            <code class="ruby">            tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="616">
            
            

            

            <code class="ruby">            ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">            profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="618">
            
            

            

            <code class="ruby">            name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">            description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="620">
            
            

            

            <code class="ruby">            mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="621">
            
            

            

            <code class="ruby">            product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="622">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">            additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">            home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">            taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            
            

            

            <code class="ruby">            product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            
            

            

            <code class="ruby">            country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="632">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create_product</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="633">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer_products = ApiSingleton.get_create_customer_products_api(customer_product_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="634">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_products.any? and @customer_products[0][&#39;id&#39;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="635">
            
            

            

            <code class="ruby">            render json: @customer_products.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="637">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_products, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="638">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="642">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :PATCH, &quot;/v1/customers/:customer_id/update_product&quot;, &quot;Actualiza un product  a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="643">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar productos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="644">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_product_id, String, :desc =&gt; &quot;ID del producto del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="645">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID de serie del producto del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="646">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :tnr, String, :desc =&gt; &quot;TRN del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="647">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :business_unit, String, :desc =&gt; &quot;business_unit del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="648">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :family, String, :desc =&gt; &quot;family del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="649">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :subfamily, String, :desc =&gt; &quot;subfamily del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="650">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :specific, String, :desc =&gt; &quot;specific del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="651">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :product_name, String, :desc =&gt; &quot;product_name del producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="652">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technical_diagnosis, String, :desc =&gt; &quot;technical_diagnosis del producto&quot;, allow_nil: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="653">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :expert_opinion, String, :desc =&gt; &quot;expert_opinion del producto&quot;, allow_nil: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="654">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :activity_performed, String, :desc =&gt; &quot;activity_performed del producto&quot;, allow_nil: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="655">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :warranty, String, :desc =&gt; &quot;warranty del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="656">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :status, String, :desc =&gt; &quot;status del producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="657">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :visit_id, String, :desc =&gt; &quot;ID de la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="658">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :dispatchgroup_id, String, :desc =&gt; &quot;Número de envío del producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="659">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quotation_id, String, :desc =&gt; &quot;Número de orden del producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="660">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :images, Array, :desc =&gt; &quot;Array de imagenes a asociar images:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}, description: {descripción de la imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby">	 </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="662">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/update_product\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="663">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="667">
            
            

            

            <code class="ruby">        product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="668">
            
            

            

            <code class="ruby">        created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="669">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="670">
            
            

            

            <code class="ruby">        status: &#39;Inicial&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="671">
            
            

            

            <code class="ruby">        warranty: &#39;1/1/1990&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="672">
            
            

            

            <code class="ruby">		policy: &#39;S/N&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            
            

            

            <code class="ruby">		technical_diagnosis: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="674">
            
            

            

            <code class="ruby">		expert_opinion: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="675">
            
            

            

            <code class="ruby">		activity_performed: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="676">
            
            

            

            <code class="ruby">		product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="678">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">            platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            
            

            

            <code class="ruby">            tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            
            

            

            <code class="ruby">            ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="682">
            
            

            

            <code class="ruby">            profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            
            

            

            <code class="ruby">            name: &#39;Aspiradora test updated&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="684">
            
            

            

            <code class="ruby">            description: &#39;Aspirador test updated desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="685">
            
            

            

            <code class="ruby">            mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            
            

            

            <code class="ruby">            product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="688">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="689">
            
            

            

            <code class="ruby">            additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="690">
            
            

            

            <code class="ruby">            home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="691">
            
            

            

            <code class="ruby">            taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="692">
            
            

            

            <code class="ruby">            product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="693">
            
            

            

            <code class="ruby">            country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="694">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="695">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="696">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="697">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update_product</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="698">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer_product = ApiSingleton.get_update_customer_products_api(customer_product_update_params, params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="699">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_product[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="700">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_product.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="701">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="702">
            
            

            

            <code class="ruby">            render json: @customer_product, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="703">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="705">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="706">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customers/:customer_id/create_product_additional&quot;, &quot;Asigna un productov inexistente a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="707">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar productos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="708">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :business_unit, String, :desc =&gt; &quot;business_unit del producto inexistente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="709">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :family, String, :desc =&gt; &quot;family del producto inexistente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="710">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :subfamily, String, :desc =&gt; &quot;subfamily del producto inexistente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="711">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :product_name, String, :desc =&gt; &quot;product_name del producto inexistente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">    #param :quantity, String, :desc =&gt; &quot;Cantidad del producto, es 1 si no se ingresa&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="714">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/create_product_additional\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="715">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="716">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            
            

            

            <code class="ruby">        product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            
            

            

            <code class="ruby">        created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            
            

            

            <code class="ruby">        status: &#39;Inicial&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="723">
            
            

            

            <code class="ruby">        warranty: &#39;1/1/1990&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="724">
            
            

            

            <code class="ruby">        policy: &#39;S/N&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">        product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            
            

            

            <code class="ruby">            platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            
            

            

            <code class="ruby">            tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            
            

            

            <code class="ruby">            ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            
            

            

            <code class="ruby">            profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            
            

            

            <code class="ruby">            name: &#39;Additional Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            
            

            

            <code class="ruby">            description: &#39;Additional Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            
            

            

            <code class="ruby">            mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">            product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="738">
            
            

            

            <code class="ruby">            additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="739">
            
            

            

            <code class="ruby">            home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="740">
            
            

            

            <code class="ruby">            taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="741">
            
            

            

            <code class="ruby">            product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="742">
            
            

            

            <code class="ruby">            country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="743">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="744">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="746">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create_product_additional</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="747">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer_product = ApiSingleton.get_create_customer_products_additional_api(customer_product_additional_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="748">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_product[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="749">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_product.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="750">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="751">
            
            

            

            <code class="ruby">            render json: @customer_product, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="753">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="754">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="755">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="756">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :DELETE, &#39;customers/:customer_id/customer_product/:customer_product_id&#39;, &quot;Elimina un producto a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="757">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente a eliminar el producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="758">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_product_id, String, :desc =&gt; &quot;ID del producto del cliente, que se quiere eliminar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="759">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/customer_product/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="760">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="761">
            
            

            

            <code class="ruby">        { customer_product_id: 1, message: &#39;Producto de cliente eliminado&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="762">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="763">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def delete_product</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="764">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer_product =  ApiSingleton.destroy_customer_customer_product_api(params[:customer_id],params[:customer_product_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="765">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_product[&quot;customer_product_id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="766">
            
            

            

            <code class="ruby">            render json: @customer_product.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="768">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_product, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="769">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="770">
            
            

            

            <code class="ruby">    end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="771">
            
            

            

            <code class="ruby">    ########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="772">
            
            

            

            <code class="ruby">	### Customer Policies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="773">
            
            

            

            <code class="ruby">	########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="774">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="775">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="776">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/customers/:customer_id/create_policy&quot;, &quot;Asigna una póliza a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="777">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="778">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_products_id, String, :desc =&gt; &quot;Array de ids de producos del usuario separados por coma (1,2,3)&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="779">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address_assinged, String, :desc =&gt; &quot;Referencia a la dirección del cliente asignada. Usar &#39;principal&#39; si es la dirección principal o el id de la adicional.&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="780">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :labor_price, String, :desc =&gt; &quot;Precio de la mano de obra&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="781">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :items_price, String, :desc =&gt; &quot;Precio de los consumibles&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="782">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :viatic_price, String, :desc =&gt; &quot;Precio de los viáticos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="783">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :iva_amount, String, :desc =&gt; &quot;Monto en IVA&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="784">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :subtotal_price, String, :desc =&gt; &quot;Subtotal sin IVA&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="785">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :total_price, String, :desc =&gt; &quot;Total del monto de la póliza&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="786">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/create_policy\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="787">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="788">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="789">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="790">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="791">
            
            

            

            <code class="ruby">        address_assinged: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="792">
            
            

            

            <code class="ruby">        labor_price: 3000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="793">
            
            

            

            <code class="ruby">        items_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="794">
            
            

            

            <code class="ruby">        viatic_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="795">
            
            

            

            <code class="ruby">        total_price: 3000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="796">
            
            

            

            <code class="ruby">        created_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="797">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="798">
            
            

            

            <code class="ruby">        customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="799">
            
            

            

            <code class="ruby">        policy_customer_products: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="800">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="801">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="802">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def create_policy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="803">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@customer_policy = ApiSingleton.get_create_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="804">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_policy[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="805">
            
            

            

            <code class="ruby">            NotificationMailer.policy_email(@customer_policy[&quot;customer&quot;][&quot;email&quot;], params[:customer_id], @customer_policy[&quot;id&quot;]).deliver_now</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="806">
            
            

            

            <code class="ruby">            render json: @customer_policy.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="807">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="808">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_policy, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="809">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="810">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="811">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="812">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :PATCH, &quot;/v1/customers/:customer_id/policies/:policy_id/update_policy&quot;, &quot;Actualiza una póliza de un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="813">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="814">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :policy_id, String, :desc =&gt; &quot;ID de la póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="815">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_products_id, String, :desc =&gt; &quot;Array de ids de producos del usuario separados por coma (1,2,3)&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="816">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address_assinged, String, :desc =&gt; &quot;Referencia a la dirección del cliente asignada. Usar &#39;principal&#39; si es la dirección principal o el id de la adicional.&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="817">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :labor_price, String, :desc =&gt; &quot;Precio de la mano de obra&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="818">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :items_price, String, :desc =&gt; &quot;Precio de los consumibles&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="819">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :viatic_price, String, :desc =&gt; &quot;Precio de los viáticos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="820">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :iva_amount, String, :desc =&gt; &quot;Monto en IVA&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="821">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :subtotal_price, String, :desc =&gt; &quot;Subtotal sin IVA&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="822">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :total_price, String, :desc =&gt; &quot;Total del monto de la póliza&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="823">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/policies/1/update_policy\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="824">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="825">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="826">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="827">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="828">
            
            

            

            <code class="ruby">        address_assinged: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="829">
            
            

            

            <code class="ruby">        labor_price: 4000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="830">
            
            

            

            <code class="ruby">        items_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="831">
            
            

            

            <code class="ruby">        viatic_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="832">
            
            

            

            <code class="ruby">        total_price: 4000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="833">
            
            

            

            <code class="ruby">        created_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="834">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="835">
            
            

            

            <code class="ruby">        customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="836">
            
            

            

            <code class="ruby">        policy_customer_products: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="837">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="838">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="839">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update_policy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="840">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer_policy = ApiSingleton.get_update_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="841">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_policy[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="842">
            
            

            

            <code class="ruby">            render json: @customer_policy.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="843">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="844">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_policy, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="845">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="846">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="847">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="848">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customers/:customer_id/policies/:policy_id&quot;, &quot;Trae una póliza de un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="849">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="850">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :policy_id, String, :desc =&gt; &quot;ID de la póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="851">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/policies/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="853">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="854">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="855">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="856">
            
            

            

            <code class="ruby">        address_assinged: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="857">
            
            

            

            <code class="ruby">        labor_price: 4000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="858">
            
            

            

            <code class="ruby">        items_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="859">
            
            

            

            <code class="ruby">        viatic_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="860">
            
            

            

            <code class="ruby">        total_price: 4000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="861">
            
            

            

            <code class="ruby">        created_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="862">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="863">
            
            

            

            <code class="ruby">        customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="864">
            
            

            

            <code class="ruby">        policy_customer_products: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="865">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="866">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="867">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def show_policy</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="868">
            
            

            

            <code class="ruby">        @customer_policy = ApiSingleton.get_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="869">
            
            

            

            <code class="ruby">        if (@customer_policy[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="870">
            
            

            

            <code class="ruby">            render json: @customer_policy.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="871">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="872">
            
            

            

            <code class="ruby">            render json: @customer_policy, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="873">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="874">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="875">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="876">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :DELETE, &quot;v1/customers/:customer_id/policies/:policy_id&quot;, &quot;Elimina una póliza de un cliente.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="877">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="878">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :policy_id, String, :desc =&gt; &quot;ID de la póliza&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="879">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/policies/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="880">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="881">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="882">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="883">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="884">
            
            

            

            <code class="ruby">        address_assinged: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="885">
            
            

            

            <code class="ruby">        labor_price: 3000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="886">
            
            

            

            <code class="ruby">        items_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="887">
            
            

            

            <code class="ruby">        viatic_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="888">
            
            

            

            <code class="ruby">        total_price: 3000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="889">
            
            

            

            <code class="ruby">        created_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="890">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="891">
            
            

            

            <code class="ruby">        customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="892">
            
            

            

            <code class="ruby">        policy_customer_products: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="893">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="894">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="895">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def destroy_policy</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="896">
            
            

            

            <code class="ruby">		@customer_policy = ApiSingleton.get_destroy_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="897">
            
            

            

            <code class="ruby">        if (@customer_policy[&quot;policy_id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="898">
            
            

            

            <code class="ruby">            render json: @customer_policy.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="899">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="900">
            
            

            

            <code class="ruby">            render json: @customer_policy, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="901">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="902">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="903">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="904">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="905">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="906">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customers/:customer_id/policies/:policy_id/validate_payment&quot;, &quot;Valida un pago de una póliza asociada a un cliente.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="907">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="908">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :policy_id, String, :desc =&gt; &quot;ID de la póliza&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="909">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :payment_files, Array, :desc =&gt; &quot;Array de archivos asociados al pago payment_files:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="910">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="911">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/policies/1/validate_payment\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="912">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="913">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="914">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="915">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="916">
            
            

            

            <code class="ruby">        address_assinged: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="917">
            
            

            

            <code class="ruby">        labor_price: 3000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="918">
            
            

            

            <code class="ruby">        items_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="919">
            
            

            

            <code class="ruby">        viatic_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="920">
            
            

            

            <code class="ruby">        total_price: 3000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="921">
            
            

            

            <code class="ruby">        created_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="922">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-11-11T18:42:04.824Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="923">
            
            

            

            <code class="ruby">        customer_products: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="924">
            
            

            

            <code class="ruby">        policy_customer_products: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="925">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="926">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="927">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def validate_policy_payment</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="928">
            
            

            

            <code class="ruby">		@customer_policy = ApiSingleton.get_validate_policy_payment_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="929">
            
            

            

            <code class="ruby">        if (@customer_policy[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="930">
            
            

            

            <code class="ruby">            render json: @customer_policy.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="931">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="932">
            
            

            

            <code class="ruby">            render json: @customer_policy, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="933">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="934">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="935">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="936">
            
            

            

            <code class="ruby">    ########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="937">
            
            

            

            <code class="ruby">	### Customer Services</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="938">
            
            

            

            <code class="ruby">	########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="939">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="940">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/customers/:customer_id/create_service&quot;, &quot;Asigna un nuevo servicio a un cliente en Miele Core. Si existe uno previo sin pagar, trae ese.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="941">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_id, String, :desc =&gt; &quot;ID si es que existe&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="942">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar el servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="943">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address, String, :desc =&gt; &quot;Dirección del cliente seleccionada. &#39;principal&#39; o el id de alguna adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="944">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address_fn, String, :desc =&gt; &quot;Dirección de facturación del cliente seleccionada. &#39;principal&#39; o el id de alguna adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="945">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_type, String, :desc =&gt; &quot;Tipo de servicio del cliente. [&#39;Instalación&#39;, &#39;Mantenimiento&#39;, &#39;Reparación&#39;, &#39;Home Program&#39;, &#39;Reparaciones en Taller&#39;, &#39;Entregas/Despachos&#39;]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="946">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :subcategory, String, :desc =&gt; &quot;Sub categoria del servicio del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="947">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :requested, String, :desc =&gt; &quot;Describe si el servicio es solicitado por &#39;Cliente directo&#39;&#39; o por &#39;Distribuidor autorizado&#39;.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="948">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :request_channel, String, :desc =&gt; &quot;Canal de la solicitud de servicio. [&#39;Teléfono&#39;, &#39;App Clientes&#39;, &#39;Web&#39;, &#39;Redes sociales&#39;] &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="949">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :distributor_name, String, :desc =&gt; &quot;Nombre del distribuidor autorizado, si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="950">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :distributor_email, String, :desc =&gt; &quot;Email del distribuidor autorizado, si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="951">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_products_id, String, :desc =&gt; &quot;Array de ids de producos del usuario separados por coma (1,2,3), asociado al servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="952">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technicians_number, String, :desc =&gt; &quot;Número de técnicos necesarios para el servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="953">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :hour_amount, String, :desc =&gt; &quot;Monto por cada hora de servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="954">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :fee_amount, String, :desc =&gt;  &quot;Monto de fee&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="955">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :labor_amount, String, :desc =&gt;  &quot;Monto de mano de obra&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="956">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :viatic_amount, String, :desc =&gt;  &quot;Monto por viaticos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="957">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :total_hours, String, :desc =&gt;  &quot;Total de horas del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="958">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :total_amount, String, :desc =&gt; &quot;Monto total del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="959">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :status, String, :desc =&gt; &quot;Estado en el que se encuentra el serivio [&#39;new&#39;,&#39;paid&#39;,&#39;completed&#39;]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="960">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :background, String, :desc =&gt; &quot;Antecedentes extras al servicio solicitado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="961">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :no_payment, String, :desc =&gt; &quot;true o false si es que se realiza pago o no&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="962">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_channel, String, :desc =&gt; &quot;Canal del pago si se realiza (Online, Transferencia, Por Teléfono)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="963">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_date, String, :desc =&gt; &quot;Fecha límite de pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="964">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :no_payment_reason, String, :desc =&gt; &quot;Razón de no pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="965">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :invoice, String, :desc =&gt; &quot;true o false si el cliente requiere factura o no&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="966">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :event_start, String, :desc =&gt; &quot;Fecha y hora de inicio del evento de agendamiento&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="967">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :event_end, String, :desc =&gt; &quot;Fecha y hora de fin del evento de agendamiento&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="968">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :technicians_ids, String, :desc =&gt; &quot;IDs de los técnicos separados por coma&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="969">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :images, Array, :desc =&gt; &quot;Array de imagenes a asociar images:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="970">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :payment_state, String, :desc =&gt; &quot;Esto del pago (pendding, paid, failure)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="971">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :isPaymentEmail, String, :desc =&gt; &quot;Valor booleano para determinar envío de correo de pago. Envar &#39;true&#39; para efectuar envío. &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="972">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customerEmail, String, :desc =&gt; &quot;Email del cliente que recibirá el correo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="973">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :paymentEmailAdditional, String, :desc =&gt; &quot;Email adicional del cliente que recibirá el correo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="974">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :from, String, :desc =&gt; &quot;Aplicación desde donde se esta generado el servicio. Use el valor &#39;app_web&#39; para miele tickets web, &#39;app_clientes&#39; y &#39;app_tecnicos&#39; para las aplicaciones respectivas.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="975">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :policy_id, String, :desc =&gt; &quot;ID de la póliza si es servicio de &#39;Póliza de Mantenimiento&#39;.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="976">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="977">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/create_service\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="978">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="979">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="980">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="981">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="982">
            
            

            

            <code class="ruby">        address: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="983">
            
            

            

            <code class="ruby">        service_type: &#39;Instalación&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="984">
            
            

            

            <code class="ruby">        subcategory: &#39;Profesional&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="985">
            
            

            

            <code class="ruby">        requested: &#39;test requested&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="986">
            
            

            

            <code class="ruby">        request_channel: &#39;test request_channel&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="987">
            
            

            

            <code class="ruby">        distributor_name: &#39;test distributor_name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="988">
            
            

            

            <code class="ruby">        distributor_email: &#39;test distributor_email&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="989">
            
            

            

            <code class="ruby">        created_at: &#39;17/11/2020 14:00:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="990">
            
            

            

            <code class="ruby">        updated_at: &#39;17/11/2020 14:00:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="991">
            
            

            

            <code class="ruby">        technicians_number: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="992">
            
            

            

            <code class="ruby">        hour_amount: 8000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="993">
            
            

            

            <code class="ruby">        fee_amount: 40000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="994">
            
            

            

            <code class="ruby">        total_hours: 8,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="995">
            
            

            

            <code class="ruby">        total_amount: 936,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="996">
            
            

            

            <code class="ruby">        status: &#39;new&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="997">
            
            

            

            <code class="ruby">        background: &#39;test background&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="998">
            
            

            

            <code class="ruby">        no_payment: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="999">
            
            

            

            <code class="ruby">        payment_channel: &#39;phone&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1000">
            
            

            

            <code class="ruby">        payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1001">
            
            

            

            <code class="ruby">        no_payment_reason: &#39;test no_payment_reason&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1002">
            
            

            

            <code class="ruby">        invoice: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1003">
            
            

            

            <code class="ruby">        payment_state: &#39;pending&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1004">
            
            

            

            <code class="ruby">        job_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1005">
            
            

            

            <code class="ruby">        number: &#39;TEST000001&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1006">
            
            

            

            <code class="ruby">        address_fn: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1007">
            
            

            

            <code class="ruby">        customer_products: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1008">
            
            

            

            <code class="ruby">        calendar_events: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1009">
            
            

            

            <code class="ruby">        file_resources: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1010">
            
            

            

            <code class="ruby">        status_label: &#39;Pre-agendado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1011">
            
            

            

            <code class="ruby">        visit_number: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1012">
            
            

            

            <code class="ruby">        ibs_number: &#39;TESTIBSNUMBER&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1013">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1014">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1015">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create_service</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1016">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @customer_service = ApiSingleton.get_create_customer_service_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1017">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_service[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1018">
            <span class="hits">1</span>
            

            

            <code class="ruby">            UserNotification.notify_service_visit_prescheduled(@customer_service, &quot;service&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1019">
            
            

            

            <code class="ruby">            </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1020">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_service.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1021">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1022">
            
            

            

            <code class="ruby">            render json: @customer_service, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1023">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1024">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1025">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1026">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/customers/:customer_id/services/:service_id/update_service&quot;, &quot;Actualiza una servicio de un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1027">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_id, String, :desc =&gt; &quot;ID del servicio a actualizar&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1028">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar el servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1029">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address, String, :desc =&gt; &quot;Dirección del cliente seleccionada. &#39;principal&#39; o el id de alguna adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1030">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address_fn, String, :desc =&gt; &quot;Dirección de facturación del cliente seleccionada. &#39;principal&#39; o el id de alguna adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1031">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_type, String, :desc =&gt; &quot;Tipo de servicio del cliente. [&#39;Instalación&#39;, &#39;Mantenimiento&#39;, &#39;Reparación&#39;, &#39;Home Program&#39;, &#39;Reparaciones en Taller&#39;, &#39;Entregas/Despachos&#39;]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1032">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :subcategory, String, :desc =&gt; &quot;Sub categoria del servicio del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1033">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :requested, String, :desc =&gt; &quot;Describe si el servicio es solicitado por &#39;Cliente directo&#39;&#39; o por &#39;Distribuidor autorizado&#39;.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1034">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :request_channel, String, :desc =&gt; &quot;Canal de la solicitud de servicio. [&#39;Teléfono&#39;, &#39;App Clientes&#39;, &#39;Web&#39;, &#39;Redes sociales&#39;] &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1035">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :distributor_name, String, :desc =&gt; &quot;Nombre del distribuidor autorizado, si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1036">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :distributor_email, String, :desc =&gt; &quot;Email del distribuidor autorizado, si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1037">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_products_id, String, :desc =&gt; &quot;Array de ids de producos del usuario separados por coma (1,2,3), asociado al servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1038">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technicians_number, String, :desc =&gt; &quot;Número de técnicos necesarios para el servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1039">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :hour_amount, String, :desc =&gt; &quot;Monto por cada hora de servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1040">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :labor_amount, String, :desc =&gt;  &quot;Monto de mano de obra por viaticos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1041">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :fee_amount, String, :desc =&gt;  &quot;Monto de fee por viaticos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1042">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :total_hours, String, :desc =&gt;  &quot;Total de horas del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1043">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :subtotal_amount, String, :desc =&gt; &quot;Monto subtotal del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1044">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :iva_amount, String, :desc =&gt; &quot;Monto iva del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1045">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :total_amount, String, :desc =&gt; &quot;Monto total del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1046">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :status, String, :desc =&gt; &quot;Estado en el que se encuentra el serivio [&#39;new&#39;,&#39;paid&#39;,&#39;completed&#39;]&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1047">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :background, String, :desc =&gt; &quot;Antecedentes extras al servicio solicitado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1048">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :no_payment, String, :desc =&gt; &quot;true o false si es que se realiza pago o no&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1049">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_channel, String, :desc =&gt; &quot;Canal del pago si se realiza (Online, Transferencia, Por Teléfono)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1050">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_date, String, :desc =&gt; &quot;Fecha límite de pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1051">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :no_payment_reason, String, :desc =&gt; &quot;Razón de no pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1052">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :invoice, String, :desc =&gt; &quot;true o false si el cliente requiere factura o no&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1053">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :event_start, String, :desc =&gt; &quot;Fecha y hora de inicio del evento de agendamiento&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1054">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :event_end, String, :desc =&gt; &quot;Fecha y hora de fin del evento de agendamiento&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1055">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :technicians_ids, String, :desc =&gt; &quot;IDs de los técnicos separados por coma&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1056">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :images, Array, :desc =&gt; &quot;Array de imagenes a asociar images:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1057">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :payment_state, String, :desc =&gt; &quot;Esto del pago (pendding, paid, failure)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1058">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :isPaymentEmail, String, :desc =&gt; &quot;Valor booleano para determinar envío de correo de pago. Envar &#39;true&#39; para efectuar envío. &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1059">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customerEmail, String, :desc =&gt; &quot;Email del cliente que recibirá el correo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1060">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :paymentEmailAdditional, String, :desc =&gt; &quot;Email adicional del cliente que recibirá el correo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1061">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :payment_files, Array, :desc =&gt; &quot;Array de archivos asociados al pago payment_files:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1062">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :ibs_number, String, :desc =&gt; &quot;Numero de IBS para el servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1063">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :spare_part_delivery_date, String, :desc =&gt; &quot;Fecha de llegada de las refaccciones&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1064">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :principal_technician, String, :desc =&gt; &quot;ID del técnico principal&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1065">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :requested_spare_parts_ids, String, :desc =&gt; &quot;IDs de las refacciones requeridas separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1066">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :validated_payment, String, :desc =&gt; &quot;true o false si se esta validando el pago.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1067">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :from, String, :desc =&gt; &quot;Aplicación desde donde se esta generado el servicio. Use el valor &#39;app_web&#39; para miele tickets web, &#39;app_clientes&#39; y &#39;app_tecnicos&#39; para las aplicaciones respectivas.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1068">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :background_prediagnosis, String, :desc =&gt; &quot;Observaciones de prediagnostico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1069">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :consumables, Array, :desc =&gt; &quot;consumables: [:amount, :total_boxes, :product_id]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1070">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :submit_type, String, :desc =&gt; &quot;Enviar &#39;spare_part_submit&#39; para asignar refacciones a téncnico principal&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1071">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :notification, String, :desc =&gt; &quot;Enviar &#39;app_clientes&#39; para generar notificacion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1072">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/services/1/update_service\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1073">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1074">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1075">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1076">
            
            

            

            <code class="ruby">        customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1077">
            
            

            

            <code class="ruby">        address: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1078">
            
            

            

            <code class="ruby">        service_type: &#39;Instalación&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1079">
            
            

            

            <code class="ruby">        subcategory: &#39;Profesional&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1080">
            
            

            

            <code class="ruby">        requested: &#39;test updated requested&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1081">
            
            

            

            <code class="ruby">        request_channel: &#39;test updated request_channel&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1082">
            
            

            

            <code class="ruby">        distributor_name: &#39;test updated distributor_name&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1083">
            
            

            

            <code class="ruby">        distributor_email: &#39;test updated distributor_email&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1084">
            
            

            

            <code class="ruby">        created_at: &#39;17/11/2020 14:00:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1085">
            
            

            

            <code class="ruby">        updated_at: &#39;17/11/2020 14:00:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1086">
            
            

            

            <code class="ruby">        technicians_number: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1087">
            
            

            

            <code class="ruby">        hour_amount: 8000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1088">
            
            

            

            <code class="ruby">        fee_amount: 40000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1089">
            
            

            

            <code class="ruby">        total_hours: 8,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1090">
            
            

            

            <code class="ruby">        total_amount: 936,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1091">
            
            

            

            <code class="ruby">        status: &#39;new&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1092">
            
            

            

            <code class="ruby">        background: &#39;test updated background&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1093">
            
            

            

            <code class="ruby">        no_payment: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1094">
            
            

            

            <code class="ruby">        payment_channel: &#39;phone&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1095">
            
            

            

            <code class="ruby">        payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1096">
            
            

            

            <code class="ruby">        no_payment_reason: &#39;test updated no_payment_reason&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1097">
            
            

            

            <code class="ruby">        invoice: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1098">
            
            

            

            <code class="ruby">        payment_state: &#39;pending&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1099">
            
            

            

            <code class="ruby">        job_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1100">
            
            

            

            <code class="ruby">        number: &#39;UPDATED000001&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1101">
            
            

            

            <code class="ruby">        address_fn: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1102">
            
            

            

            <code class="ruby">        customer_products: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1103">
            
            

            

            <code class="ruby">        calendar_events: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1104">
            
            

            

            <code class="ruby">        file_resources: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1105">
            
            

            

            <code class="ruby">        status_label: &#39;Pre-agendado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1106">
            
            

            

            <code class="ruby">        visit_number: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1107">
            
            

            

            <code class="ruby">        ibs_number: &#39;TESTIBSNUMBERUPDATED&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1108">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1109">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1110">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update_service</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1111">
            
            

            

            <code class="ruby">        @customer_service = ApiSingleton.get_update_customer_service_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1112">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1113">
            
            

            

            <code class="ruby">        if (@customer_service[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1114">
            
            

            

            <code class="ruby">            if params[:submit_type] == &quot;prediagnosis_submit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1115">
            
            

            

            <code class="ruby">                UserNotification.notify_service_prediagnosis_submit(@customer_service)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1116">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1117">
            
            

            

            <code class="ruby">            if params[:notification] &amp;&amp; params[:notification] == &quot;app_clientes&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1118">
            
            

            

            <code class="ruby">                UserNotification.notify_service_visit_prescheduled(@customer_service, &quot;service&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1119">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1120">
            
            

            

            <code class="ruby">            render json: @customer_service.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1121">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1122">
            
            

            

            <code class="ruby">            render json: @customer_service, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1123">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1124">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1125">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1126">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1127">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customer_products/:id/assign_spare_parts&quot;, &quot;Asigna refacciones a un técnico en una visita en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1128">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del producto a asignar la refacción, enviar no_tech, para dejarlo asociado al tecnico&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1129">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_spare_part_ids, String, :desc =&gt; &quot;IDs de las refaccionnes separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1130">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quantities, String, :desc =&gt; &quot;Cantidades a asignar separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1131">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :warranties, String, :desc =&gt; &quot;Garantiás de las refacciones separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1132">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_id, String, :desc =&gt; &quot;ID de la vista en la que se esta usando la refaccion (opcional)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1133">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1134">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_products/1/assign_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1135">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1136">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1137">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1138">
            
            

            

            <code class="ruby">		&#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1139">
            
            

            

            <code class="ruby">		&#39;customer_product_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1140">
            
            

            

            <code class="ruby">		&#39;service_spare_part_id&#39;: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1141">
            
            

            

            <code class="ruby">		&#39;quantity&#39;: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1142">
            
            

            

            <code class="ruby">		&#39;created_at&#39;: &#39;2021-03-03T21:56:29.017Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1143">
            
            

            

            <code class="ruby">		&#39;updated_at&#39;: &#39;2021-03-03T22:28:58.532Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1144">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1145">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1146">
            
            

            

            <code class="ruby">		&#39;id&#39;: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1147">
            
            

            

            <code class="ruby">		&#39;customer_product_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1148">
            
            

            

            <code class="ruby">		&#39;service_spare_part_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1149">
            
            

            

            <code class="ruby">		&#39;quantity&#39;: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1150">
            
            

            

            <code class="ruby">		&#39;created_at&#39;: &#39;2021-03-03T22:28:58.519Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1151">
            
            

            

            <code class="ruby">		&#39;updated_at&#39;: &#39;2021-03-03T22:28:58.519Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1152">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1153">
            
            

            

            <code class="ruby">	]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1154">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1155">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def  assign_product_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1156">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@customer_products_service_spare_parts = ApiSingleton.get_customer_products_assign_product_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1157">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1158">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_products_service_spare_parts.any? rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1159">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_products_service_spare_parts.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1160">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1161">
            
            

            

            <code class="ruby">            render json: @customer_products_service_spare_parts, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1162">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1163">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1164">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1165">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/customer_products/:id/reintegrate_product_spare_parts&quot;, &quot;Asigna refacciones a un técnico en una visita en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1166">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del producto a asignar la refacción, enviar no_tech, para dejarlo asociado al tecnico&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1167">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_product_service_spare_part_ids, String, :desc =&gt; &quot;IDs de las refaccionnes separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1168">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quantities, String, :desc =&gt; &quot;Cantidades a asignar separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1169">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del ténico que reintegra las refacciones.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1170">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_products/1/reintegrate_product_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1171">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1172">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1173">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1174">
            
            

            

            <code class="ruby">		&#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1175">
            
            

            

            <code class="ruby">		&#39;customer_product_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1176">
            
            

            

            <code class="ruby">		&#39;service_spare_part_id&#39;: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1177">
            
            

            

            <code class="ruby">		&#39;quantity&#39;: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1178">
            
            

            

            <code class="ruby">		&#39;created_at&#39;: &#39;2021-03-03T21:56:29.017Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1179">
            
            

            

            <code class="ruby">		&#39;updated_at&#39;: &#39;2021-03-03T22:28:58.532Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1180">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1181">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1182">
            
            

            

            <code class="ruby">		&#39;id&#39;: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1183">
            
            

            

            <code class="ruby">		&#39;customer_product_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1184">
            
            

            

            <code class="ruby">		&#39;service_spare_part_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1185">
            
            

            

            <code class="ruby">		&#39;quantity&#39;: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1186">
            
            

            

            <code class="ruby">		&#39;created_at&#39;: &#39;2021-03-03T22:28:58.519Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1187">
            
            

            

            <code class="ruby">		&#39;updated_at&#39;: &#39;2021-03-03T22:28:58.519Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1188">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1189">
            
            

            

            <code class="ruby">	]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1190">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1191">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def  reintegrate_product_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1192">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@customer_products_service_spare_parts = ApiSingleton.get_customer_products_reintegrate_product_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1193">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1194">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_products_service_spare_parts.any? rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1195">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_products_service_spare_parts.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1196">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1197">
            
            

            

            <code class="ruby">            render json: @customer_products_service_spare_parts, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1198">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1199">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1200">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1201">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1202">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1203">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customer_products/:id/customer_product_used_spare_parts&quot;, &quot;Trae todas a reafacciones usadas en un producto en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1204">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del producto a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1205">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :service_id, String, :desc =&gt; &quot;ID del servicio, para filtrar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1206">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :visit_id, String, :desc =&gt; &quot;ID la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1207">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1208">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/v1/customer_products/1/customer_product_used_spare_parts/\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1209">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1210">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1211">
            
            

            

            <code class="ruby">		[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1212">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1213">
            
            

            

            <code class="ruby">				id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1214">
            
            

            

            <code class="ruby">				customer_product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1215">
            
            

            

            <code class="ruby">				service_spare_part_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1216">
            
            

            

            <code class="ruby">				quantity: 6,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1217">
            
            

            

            <code class="ruby">				created_at: &#39;2021-03-03T22:28:58.519Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1218">
            
            

            

            <code class="ruby">				updated_at: &#39;2021-03-03T22:30:06.419Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1219">
            
            

            

            <code class="ruby">				service_spare_part: {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1220">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1221">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1222">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1223">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def customer_product_used_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1224">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@service_products_used = ApiSingleton.get_customer_products_product_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1225">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1226">
            <span class="hits">1</span>
            

            

            <code class="ruby">		if @service_products_used.any?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1227">
            <span class="hits">1</span>
            

            

            <code class="ruby">			render json:  @service_products_used.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1228">
            
            

            

            <code class="ruby">		else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1229">
            
            

            

            <code class="ruby">			render json:  @service_products_used, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1230">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1231">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1232">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1233">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customer_products/:customer_product_id/customer_product_requested_spare_parts&quot;, &quot;Trae las refacciones solicitadas de un producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1234">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_product_id, String, :desc =&gt; &quot;ID del producto de la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1235">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :visit_id, String, :desc =&gt; &quot;ID la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1236">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1237">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_products/1/customer_product_requested_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1238">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1239">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1240">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1241">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1242">
            
            

            

            <code class="ruby">            service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1243">
            
            

            

            <code class="ruby">            product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1244">
            
            

            

            <code class="ruby">			customer_product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1245">
            
            

            

            <code class="ruby">			visit_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1246">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1247">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1248">
            
            

            

            <code class="ruby">            spare_part: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1249">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1250">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1251">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1252">
            
            

            

            <code class="ruby">                tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1253">
            
            

            

            <code class="ruby">                ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1254">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1255">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1256">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1257">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1258">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1259">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1260">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1261">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1262">
            
            

            

            <code class="ruby">                home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1263">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1264">
            
            

            

            <code class="ruby">                product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1265">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1266">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1267">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1268">
            
            

            

            <code class="ruby">        {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1269">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1270">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1271">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def customer_product_requested_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1272">
            
            

            

            <code class="ruby">		@service_products_requested = ApiSingleton.get_customer_products_product_requested_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1273">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1274">
            
            

            

            <code class="ruby">		if @service_products_requested.any?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1275">
            
            

            

            <code class="ruby">			render json:  @service_products_requested.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1276">
            
            

            

            <code class="ruby">		else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1277">
            
            

            

            <code class="ruby">			render json:  @service_products_requested, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1278">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1279">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1280">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1281">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1282">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1283">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customer_products/getCheckStates&quot;, &quot;Verifica que la información de checklist y carácterísticas este completa&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1284">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_product_ids, String, :desc =&gt; &quot;ID de los productos del cliente a consultar, separados por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1285">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_id, String, :desc =&gt; &quot;ID de la visita que se desea verificar su información&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1286">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1287">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customer_products/getCheckStates\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1288">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1289">
            
            

            

            <code class="ruby">	  [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1290">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1291">
            
            

            

            <code class="ruby">		  id: 377, cpd: false, cpi: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1292">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1293">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1294">
            
            

            

            <code class="ruby">		  id: 468, cpd: true, cpi:true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1295">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1296">
            
            

            

            <code class="ruby">	  ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1297">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1298">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def getCheckStates</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1299">
            
            

            

            <code class="ruby">        @getCheckStates = ApiSingleton.get_customer_products_getCheckStates(params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1300">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1301">
            
            

            

            <code class="ruby">        if (@getCheckStates.any? rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1302">
            
            

            

            <code class="ruby">            render json: @getCheckStates.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1303">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1304">
            
            

            

            <code class="ruby">            render json: @getCheckStates, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1305">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1306">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1307">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1308">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1309">
            
            

            

            <code class="ruby">    ########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1310">
            
            

            

            <code class="ruby">	### Complaints</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1311">
            
            

            

            <code class="ruby">	########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1312">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1313">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/customers/:id/complaints&quot;, &quot;Trae las quejas de cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1314">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1315">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/complaints/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1316">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1317">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1318">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1319">
            
            

            

            <code class="ruby">		  &#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1320">
            
            

            

            <code class="ruby">		  &#39;service_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1321">
            
            

            

            <code class="ruby">		  &#39;customer_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1322">
            
            

            

            <code class="ruby">		  &#39;complaint_type&#39;: &#39;RETRASO EN SERVICIO&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1323">
            
            

            

            <code class="ruby">		  &#39;channel&#39;: &#39;Contact Center&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1324">
            
            

            

            <code class="ruby">		  &#39;phone&#39;: &#39;(+56) 23214123123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1325">
            
            

            

            <code class="ruby">		  &#39;complaint_background&#39;: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1326">
            
            

            

            <code class="ruby">		  &#39;compensation_proposal&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1327">
            
            

            

            <code class="ruby">		  &#39;closure_details&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1328">
            
            

            

            <code class="ruby">		  &#39;created_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1329">
            
            

            

            <code class="ruby">		  &#39;updated_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1330">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1331">
            
            

            

            <code class="ruby">	  ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1332">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1333">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def complaints</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1334">
            
            

            

            <code class="ruby">		render json:  ApiSingleton.customer_complaints_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1335">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1336">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1337">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/customers/:id/create_complaint&quot;, &quot;Crea una nueva queja de un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1338">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;Id del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1339">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :service_id, String, :desc =&gt; &quot;Id del servicio de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1340">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :complaint_type, String, :desc =&gt; &quot;Tipo de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1341">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :channel, String, :desc =&gt; &quot;Canal de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1342">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :phone, String, :desc =&gt; &quot;Telefono asociado a la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1343">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :complaint_background, String, :desc =&gt; &quot;Detalle de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1344">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :compensation_proposal, String, :desc =&gt; &quot;Propuesta de compensación de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1345">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :closure_details, String, :desc =&gt; &quot;Detalles del cierre de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1346">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :compensation_proposal_2, String, :desc =&gt; &quot;Propuesta de compensación 2 de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1347">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :closure_details_2, String, :desc =&gt; &quot;Detalles del cierre 2 de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1348">
            <span class="hits">1</span>
            

            

            <code class="ruby">     example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/:id/create_complaint\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1349">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1350">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1351">
            
            

            

            <code class="ruby">        &#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1352">
            
            

            

            <code class="ruby">        &#39;service_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1353">
            
            

            

            <code class="ruby">        &#39;customer_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1354">
            
            

            

            <code class="ruby">        &#39;complaint_type&#39;: &#39;RETRASO EN SERVICIO&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1355">
            
            

            

            <code class="ruby">        &#39;channel&#39;: &#39;Contact Center&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1356">
            
            

            

            <code class="ruby">        &#39;phone&#39;: &#39;(+56) 23214123123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1357">
            
            

            

            <code class="ruby">        &#39;complaint_background&#39;: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1358">
            
            

            

            <code class="ruby">        &#39;compensation_proposal&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1359">
            
            

            

            <code class="ruby">        &#39;closure_details&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1360">
            
            

            

            <code class="ruby">        &#39;created_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1361">
            
            

            

            <code class="ruby">        &#39;updated_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1362">
            
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1363">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1364">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def create_complaint</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1365">
            
            

            

            <code class="ruby">		@complaint =  ApiSingleton.create_customer_complaint_api(customer_complaints_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1366">
            
            

            

            <code class="ruby">        if (@complaint[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1367">
            
            

            

            <code class="ruby">            UserNotification.notify_complaint_create(@complaint)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1368">
            
            

            

            <code class="ruby">            render json: @complaint.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1369">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1370">
            
            

            

            <code class="ruby">            render json: @complaint, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1371">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1372">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1373">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1374">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/customers/:id/update_complaint&quot;, &quot;Actualiza queja de un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1375">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :complaint_id, String, :desc =&gt; &quot;ID de la queja del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1376">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;Id del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1377">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :service_id, String, :desc =&gt; &quot;Id del servicio de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1378">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :complaint_type, String, :desc =&gt; &quot;Tipo de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1379">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :channel, String, :desc =&gt; &quot;Canal de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1380">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :phone, String, :desc =&gt; &quot;Telefono asociado a la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1381">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :complaint_background, String, :desc =&gt; &quot;Detalle de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1382">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :compensation_proposal, String, :desc =&gt; &quot;Propuesta de compensación de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1383">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :closure_details, String, :desc =&gt; &quot;Detalles del cierre de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1384">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :compensation_proposal_2, String, :desc =&gt; &quot;Propuesta de compensación 2 de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1385">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :closure_details_2, String, :desc =&gt; &quot;Detalles del cierre 2 de la queja&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1386">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1387">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/:id/update_complaint\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1388">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1389">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1390">
            
            

            

            <code class="ruby">        &#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1391">
            
            

            

            <code class="ruby">        &#39;service_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1392">
            
            

            

            <code class="ruby">        &#39;customer_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1393">
            
            

            

            <code class="ruby">        &#39;complaint_type&#39;: &#39;RETRASO EN SERVICIO&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1394">
            
            

            

            <code class="ruby">        &#39;channel&#39;: &#39;Contact Center&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1395">
            
            

            

            <code class="ruby">        &#39;phone&#39;: &#39;(+56) 23214123123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1396">
            
            

            

            <code class="ruby">        &#39;complaint_background&#39;: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1397">
            
            

            

            <code class="ruby">        &#39;compensation_proposal&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1398">
            
            

            

            <code class="ruby">        &#39;closure_details&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1399">
            
            

            

            <code class="ruby">        &#39;created_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1400">
            
            

            

            <code class="ruby">        &#39;updated_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1401">
            
            

            

            <code class="ruby">      }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1402">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1403">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def update_complaint</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1404">
            
            

            

            <code class="ruby">		@complaint =  ApiSingleton.update_customer_complaint_api(customer_complaints_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1405">
            
            

            

            <code class="ruby">        if (@complaint[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1406">
            
            

            

            <code class="ruby">            UserNotification.notify_complaint_update(@complaint)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1407">
            
            

            

            <code class="ruby">            render json: @complaint.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1408">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1409">
            
            

            

            <code class="ruby">            render json: @complaint, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1410">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1411">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1412">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1413">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1414">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1415">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1416">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def send_payment_email</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1417">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_service[&quot;id&quot;] &amp;&amp; @customer_service[&quot;is_presheduled&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1418">
            
            

            

            <code class="ruby">            emails = (params[:customerEmail].blank? ? &quot;oferusat@gmail.com&quot; : params[:customerEmail])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1419">
            
            

            

            <code class="ruby">            emails+= &quot;,#{params[:paymentEmailAdditional]}&quot; unless  params[:paymentEmailAdditional].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1420">
            
            

            

            <code class="ruby">            begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1421">
            
            

            

            <code class="ruby">                NotificationMailer.payment_email(emails, params[:service_id]).deliver_now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1422">
            
            

            

            <code class="ruby">            rescue </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1423">
            
            

            

            <code class="ruby">                puts &quot;No se ha podido enviar el email.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1424">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1425">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1426">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1427">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1428">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="26" data-linenumber="1429">
            <span class="hits">26</span>
            

            

            <code class="ruby">        params.permit(:id, :names, :lastname, :surname, :email, :zipcode, :state, :delegation, :colony, :street_type, :street_name, :ext_number, :int_number, :phone, :cellphone, :reference, :business_name, :rfc, :email_fn, :zipcode_fn, :state_fn, :delegation_fn, :colony_fn, :street_type_fn, :street_name_fn, :ext_number_fn, :int_number_fn, :phone_fn, :person_type, :country, :rut, :email2, :commercial_business, :tradename, :customer_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1430">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1431">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1432">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def additional_address_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1433">
            <span class="hits">2</span>
            

            

            <code class="ruby">        params.permit(:id, :customer_id, :name, :zipcode, :state, :delegation, :colony, :street_type, :street_name, :ext_number, :int_number, :country)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1434">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1435">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1436">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_product_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1437">
            <span class="hits">1</span>
            

            

            <code class="ruby">        params.permit(:id, :customer_id, :product_id, :created_at, :updated_at, :status, :warranty, :dispatchgroup_id, :quotation_id, :policy, :products)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1438">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1439">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1440">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_product_update_params </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1441">
            <span class="hits">1</span>
            

            

            <code class="ruby">        params.permit(:id, :customer_id, :customer_product_id, :tnr, :business_unit, :family, :subfamily, :specific, :product_name, :discontinued, :instalation_date, :technical_diagnosis, :expert_opinion, :activity_performed, :warranty,:status, :dispatchgroup_id, :quotation_id, :visit_id, images: [])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1442">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1443">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1444">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1445">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_product_additional_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1446">
            <span class="hits">1</span>
            

            

            <code class="ruby">        params.permit(:id, :customer_id, :business_unit, :family, :subfamily, :product_name, :quantity)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1447">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1448">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1449">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_policy_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1450">
            <span class="hits">2</span>
            

            

            <code class="ruby">        params.permit(:id, :policy_id, :customer_id, :customer_products_id, :address_assinged, :labor_price, :items_price, :viatic_price, :iva_amount, :subtotal_price, :total_price, payment_files: [])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1451">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1452">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1453">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def service_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1454">
            <span class="hits">1</span>
            

            

            <code class="ruby">        params.permit(:id, :service_id, :policy_id, :from, :customer_id, :address, :address_fn, :service_type, :subcategory, :requested, :request_channel, :distributor_name, :distributor_email, :technicians_number, :hour_amount, :fee_amount, :labor_amount, :viatic_amount, :total_hours, :subtotal_amount, :iva_amount, :total_amount, :status, :customer_products_id, :background, :no_payment, :payment_channel, :payment_date, :no_payment_reason, :invoice, :event_start, :event_end, :technicians_ids, :payment_state, :customer_payment_date, images: [], consumables: [])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1455">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1456">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1457">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update_service_params</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1458">
            
            

            

            <code class="ruby">        params.permit(:id, :service_id, :policy_id, :from, :customer_id, :address, :service_type, :subcategory, :requested, :request_channel, :distributor_name, :distributor_email, :technicians_number, :hour_amount, :fee_amount, :total_hours, :total_amount, :status, :customer_products_id, :background, :background_prediagnosis, :no_payment, :payment_channel, :payment_date, :no_payment_reason, :invoice, :event_start, :event_end, :technicians_ids, :payment_state, :ibs_number, :customer_payment_date, :background_cancel_service, :cancel_reason, :do_cancel_service, :spare_part_delivery_date, :principal_technician, :requested_spare_parts_ids, :validated_payment, images:[:uri, :mime, :uri_64, :name,:filename], payment_files: [], consumables: [:amount, :total_boxes, :product_id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1459">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1460">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1461">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_products_service_spare_parts_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1462">
            <span class="hits">3</span>
            

            

            <code class="ruby">        params.permit(:id, :service_id, :service_spare_part_ids, :customer_product_service_spare_part_ids, :quantities, :warranties, :customer_product_id, :technician_id, :visit_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1463">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1464">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1465">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer_complaints_params</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1466">
            
            

            

            <code class="ruby">        params.permit(:complaint_id, :id, :service_id, :complaint_type, :channel, :phone, :complaint_background, :compensation_proposal, :closure_details, :compensation_proposal_2, :closure_details_2, :stage)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1467">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1468">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="338a458b1446fa6b5e4c7a58c722ee71b4353c10">
  <div class="header">
    <h3>app/controllers/api/v1/labor_prices_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>13</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::LaborPricesController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/labor_prices&quot;, &quot;Lista todos precios de mano de obra de Miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country, String, :desc =&gt; &quot;Pais de la listas de precios de mano de obra&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :units, String, :desc =&gt; &quot;Cantidad de unidades de productos, a consultar por su mano de obra&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/labor_prices?country=CL\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">                country_id: 5,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">                units: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">                amount: 20000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-19T14:03:27.868Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-10-19T14:03:27.868Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                country: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                    id: 5,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                    name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                    iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                    created_at: &#39;2020-09-02T20:07:18.167Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                    updated_at: &#39;2020-09-02T20:07:18.167Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">            {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">	&quot;    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="34">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="35">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    labor_prices = ApiSingleton.labor_prices_api(params[:country], params[:units])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="36">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    render json:  labor_prices.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="336eb63c7df8c2bf31cbe5d45eb4d44d531012cd">
  <div class="header">
    <h3>app/controllers/api/v1/payment_methods_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>13</b> relevant lines.
      <span class="green"><b>13</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::PaymentMethodsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, except: [:index]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/payment_methods&quot;, &quot;Lista todos métodos pagos asociados a un país&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :country, String, :desc =&gt; &quot;ISO del pais del método de pago.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/payment_methods?country=MX\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">                name: &#39;American Express&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">                provider: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">                logo: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-30T09:26:43.017-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-10-30T09:26:43.017-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">                country_id: 5,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                logo_url: &#39;logo_url&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                name: &#39;EVO Payments&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                provider: &#39;test2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                logo: &#39;test2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-30T09:26:43.029-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-10-30T09:26:43.029-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">                country_id: 5,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">                logo_url: &#39;logo_url&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">            ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    payments = PaymentMethod.search(params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">        response[&quot;data&quot;] = payments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">        render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8650ff3c72a4bfdd347b71d093ed843cf34ac77e">
  <div class="header">
    <h3>app/controllers/api/v1/payments_controller.rb</h3>
    <h4>
      <span class="green">
  96.67%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>30</b> relevant lines.
      <span class="green"><b>29</b> lines covered</span> and
      <span class="red"><b>1</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::PaymentsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index, :save_payment_data]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index, :save_payment_data]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:index, :save_payment_data]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/payments&quot;, &quot;Lista todos pagos asociados a un objeto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :object_id, String, :desc =&gt; &quot;ID del objecto del pago asociado.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :object_class, String, :desc =&gt; &quot;Tipo del objecto asociado. (Servicio, Póliza, etc).&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/payments?object_id=1&amp;object_class=Servicio\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">                user_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">                customer_id: &#39;1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">                object_id: &#39;1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">                object_class: &#39;Servicio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">                amount: 48,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                status: &#39;completed&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                token_ws: &#39;voizio12ijdnpoawa&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                provider_params: &#39;{... some provider params}&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                transaction_id: &#39;voizio12ijdnpoawa&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-29T14:28:28.342-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-10-29T14:28:48.762-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                number: &#39;PM001&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                payment_method_id: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="34">
            <span class="hits">3</span>
            

            

            <code class="ruby">        response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="35">
            <span class="hits">3</span>
            

            

            <code class="ruby">        payments = Payment.where(object_id: params[:object_id], object_class: params[:object_class]).order(id: :desc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="36">
            <span class="hits">3</span>
            

            

            <code class="ruby">        if params[:object_class] == &quot;Visita&quot; &amp;&amp; payments.size &lt; 1</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">            payments = Payment.where(object_id: params[:service_id], object_class: &quot;Servicio&quot;).order(id: :desc)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="40">
            <span class="hits">3</span>
            

            

            <code class="ruby">        response[&quot;data&quot;] = payments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="41">
            <span class="hits">3</span>
            

            

            <code class="ruby">        render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/payments/save_data&quot;, &quot;Actualiza los datos de un Pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :object_id, String, :desc =&gt; &quot;ID del objecto del pago asociado.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :object_class, String, :desc =&gt; &quot;Tipo del objecto asociado. (Servicio, Póliza, etc).&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customer_id, String, :desc =&gt; &quot;ID del cliente el cual esta asociado el pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :amount, String, :desc =&gt; &quot;Monto del pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :provider_id, String, :desc =&gt; &quot;ID del método de pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/payments/save_data\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">                user_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">                customer_id: &#39;1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">                object_id: &#39;1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">                object_class: &#39;Servicio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">                amount: 48,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">                status: &#39;completed&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">                token_ws: &#39;voizio12ijdnpoawa&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">                provider_params: &#39;{... some provider params}&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">                transaction_id: &#39;voizio12ijdnpoawa&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-29T14:28:28.342-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-10-29T14:28:48.762-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">                number: &#39;PM001&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">                payment_method_id: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">        ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def save_payment_data</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="75">
            <span class="hits">2</span>
            

            

            <code class="ruby">        @payment = Payment.find_or_create_by(object_id: params[:object_id], user_id: current_user.id, customer_id: params[:customer_id], amount: params[:customer_id], object_class: params[:object_class])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="77">
            <span class="hits">2</span>
            

            

            <code class="ruby">        @payment.update(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">          amount: params[:amount],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">          payment_method_id: params[:provider_id],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">          status: &#39;completed&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">        payment_data = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="83">
            <span class="hits">2</span>
            

            

            <code class="ruby">          result_indicator: params[:result_indicator], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">          session_version: params[:session_version]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="87">
            <span class="hits">2</span>
            

            

            <code class="ruby">        if @payment.update(provider_params: payment_data, transaction_id: params[:result_indicator])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @payment.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @payment.errors.full_messages, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="085935d62fcbafcff47821f7752db3c6dca95dd1">
  <div class="header">
    <h3>app/controllers/api/v1/products_controller.rb</h3>
    <h4>
      <span class="yellow">
  88.89%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>27</b> relevant lines.
      <span class="green"><b>24</b> lines covered</span> and
      <span class="red"><b>3</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::ProductsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	protect_from_forgery with: :null_session, only: [:index, :index_by_tnr]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index, :index_by_tnr]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">	before_action :authenticate, only: [:index, :index_by_tnr]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/products&quot;, &quot;Retorna los productos del core filtrados por la plataforma &#39;Tickets&#39; y paginados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :page, String, :desc =&gt; &quot;Pagina consultada 1..n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :per_page, String, :desc =&gt; &quot;Resultados por paǵina esperados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al producto&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :spare_parts, String, :desc =&gt; &quot;Enviar true si se desea solo buscar en las refacciones&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :countries, String, :desc =&gt; &quot;Codigo ISO del pais. Enviar CL Chile, MX para Mexico, MC,CL para ambos y no enviar parametro para TODOS.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/products?page=2&amp;keywords=Aspiradora&amp;spare_parts=true\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">        page: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                tnr: &#39;123456789&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                ean: &#39;987654321&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">                created_at: &#39;2020-11-12T21:36:30.300Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.300Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">                home_program_hours: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">                product_prices: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">            {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">            {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">        ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">        data_type: &#39;spare_parts&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">        total: 3</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="46">
            <span class="hits">17</span>
            

            

            <code class="ruby">        page = (params[:page].blank? ? 1 : params[:page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="47">
            <span class="hits">17</span>
            

            

            <code class="ruby">        per_page = (params[:per_page].blank? ? 5 : params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="48">
            <span class="hits">17</span>
            

            

            <code class="ruby">        keywords = (params[:keywords].blank? ? &quot;&quot; : params[:keywords])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="49">
            <span class="hits">17</span>
            

            

            <code class="ruby">        spare_parts = (params[:spare_parts].blank? ? nil : params[:spare_parts])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="50">
            <span class="hits">17</span>
            

            

            <code class="ruby">        countries = (params[:countries].blank? ? nil : params[:countries])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="52">
            <span class="hits">17</span>
            

            

            <code class="ruby">        render json:  ApiSingleton.get_products_api(page, per_page, keywords, spare_parts, countries)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/products_by_tnr&quot;, &quot;Retorna los productos del core mediante sus tnrs&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :tnrs, String, :desc =&gt; &quot;tnrs de los productos separados por ,. Ejemplo: &#39;tnr1,tnr2,tnr3&#39;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :countries, String, :desc =&gt; &quot;Codigo ISO del pais. Enviar CL Chile, MX para Mexico, MC,CL para ambos y no enviar parametro para TODOS.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/products_by_tnr?tnrs=tnr1,tnr2,tnr3\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">        page: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">        per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">        data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">            {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">                tnr: &#39;tnr1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">                ean: &#39;987654321&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">                created_at: &#39;2020-11-12T21:36:30.300Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.300Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">                home_program_hours: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">                product_prices: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">            },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">            {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">            {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">        ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">        data_type: &#39;spare_parts&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">        total: 3</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index_by_tnr</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="92">
            
            

            

            <code class="ruby">	    tnrs = (params[:tnrs].blank? ? nil : params[:tnrs])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">        countries = (params[:countries].blank? ? nil : params[:countries])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="95">
            
            

            

            <code class="ruby">        render json:  ApiSingleton.get_products_by_tnr_api(tnrs, countries)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d3c102f945019a03a96214c88e01b003bdc61c4e">
  <div class="header">
    <h3>app/controllers/api/v1/services_controller.rb</h3>
    <h4>
      <span class="yellow">
  88.79%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>232</b> relevant lines.
      <span class="green"><b>206</b> lines covered</span> and
      <span class="red"><b>26</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::ServicesController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:index, :index_by_techinician, :show, :status_changes, :status_label, :total_price, :create_spare_part, :assign_spare_parts, :update_spare_part, :spare_parts, :requested_spare_parts, :selected_spare_parts, :technician_spare_parts, :technician_all_spare_parts, :technician_all_used_spare_parts, :delete_spare_parts, :create_visit, :update_visit, :cancel_visit]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:index, :index_by_techinician, :show, :status_changes, :status_label, :total_price, :create_spare_part, :assign_spare_parts, :update_spare_part, :spare_parts, :requested_spare_parts, :selected_spare_parts, :technician_spare_parts, :technician_all_spare_parts, :technician_all_used_spare_parts, :delete_spare_parts, :create_visit, :update_visit, :cancel_visit]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:index, :index_by_techinician, :status_changes, :status_label, :total_price, :create_spare_part, :assign_spare_parts, :update_spare_part, :spare_parts, :requested_spare_parts, :selected_spare_parts, :technician_spare_parts, :technician_all_spare_parts, :technician_all_used_spare_parts, :delete_spare_parts, :create_visit, :update_visit, :cancel_visit]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :send_payment_email, only: [:create_visit] </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/services&quot;, &quot;Lista todos los servicios de un cliente en Miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :page, String, :desc =&gt; &quot;Pagina consultada 1..n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :per_page, String, :desc =&gt; &quot;Resultados por paǵina esperados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;customer_id del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :country, String, :desc =&gt; &quot;Códigos de paises separados por , si es mas de uno (MX,CL)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services?customer_id=48\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">		page: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">		per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">		data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">			id: 34,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">			customer_id: 48,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">			address: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">			service_type: &#39;Instalación&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">			subcategory: &#39;Profesional&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">			requested: &#39;Distribuidor autorizado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">			request_channel: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">			distributor_name: &#39;TEST DELI&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">			distributor_email: &#39;test@deli.cl&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">			created_at: &#39;09/11/2020 19:08:56&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">			updated_at: &#39;09/11/2020 19:08:56&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">			technicians_number: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">			hour_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">			fee_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">			total_hours: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">			total_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">			status: &#39;new&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">			background: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">			no_payment: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">			payment_channel: &#39;phone&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">			payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">			no_payment_reason: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">			invoice: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">			payment_state: &#39;pending&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">			job_id: &#39;40cb228987243c91b2dd0b7c9c4a0856&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">			number: &#39;MTMX000034&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">			customer_products: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">			calendar_events: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">			file_resources: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">			status_label: &#39;Pre-agendado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">			visit_number: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">			ibs_number: &#39;EEE458097890UOP&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">		total: 11</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="57">
            <span class="hits">16</span>
            

            

            <code class="ruby">	    page = (params[:page].blank? ? 1 : params[:page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="58">
            <span class="hits">16</span>
            

            

            <code class="ruby">        per_page = (params[:per_page].blank? ? 5 : params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="59">
            <span class="hits">16</span>
            

            

            <code class="ruby">		customer_id = (params[:customer_id].blank? ? &quot;&quot; : params[:customer_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="60">
            <span class="hits">16</span>
            

            

            <code class="ruby">		countries_iso = current_user.countries.pluck(:iso).join(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="61">
            <span class="hits">16</span>
            

            

            <code class="ruby">		country = (params[:country].blank? ? countries_iso : params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="62">
            <span class="hits">16</span>
            

            

            <code class="ruby">		keywords = (params[:keywords].blank? ? &quot;&quot; : params[:keywords])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="63">
            <span class="hits">16</span>
            

            

            <code class="ruby">		only_payed = (params[:only_payed].present? &amp;&amp; params[:only_payed] == &quot;true&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="64">
            <span class="hits">16</span>
            

            

            <code class="ruby">		render json:  ApiSingleton.services_api(page, per_page, customer_id, country, keywords, only_payed)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/services/:id&quot;, &quot;Trae la información de un servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/34\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">		id: 34,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">		customer_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">		address: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">		service_type: &#39;Instalación&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">		subcategory: &#39;Profesional&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">		requested: &#39;Cliente directo&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">		request_channel: &#39;Teléfono&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">		distributor_name: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">		distributor_email: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">		created_at: &#39;18/12/2020 19:18:38&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">		updated_at: &#39;18/12/2020 19:18:38&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">		technicians_number: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">		hour_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">		fee_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">		total_hours: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">		total_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">		status: &#39;prescheduled&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">		background: &#39;5464654&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">		no_payment: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">		payment_channel: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">		payment_date: &#39;2020-12-11&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">		no_payment_reason: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">		invoice: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">		payment_state: &#39;paid&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">		job_id: &#39;473803f0f2ebd77d83ee60daaa61f381&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">		number: &#39;MTCL000088&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">		address_fn: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">		cancel_reason: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">		background_cancel_service: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">		customer_payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">		ibs_number: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">		customer_products: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">		service_products: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">		spare_parts: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">		calendar_events: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">		file_resources: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">		payment_resources: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">		status_label: &#39;Agendado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">		visit_numb: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">		service_technicians: []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def show</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="116">
            <span class="hits">2</span>
            

            

            <code class="ruby">		service = ApiSingleton.service_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="117">
            <span class="hits">2</span>
            

            

            <code class="ruby">		technicians_ids = service[&quot;calendar_events&quot;].collect{|calendar_events| calendar_events[&quot;object_id&quot;]} rescue []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="118">
            <span class="hits">2</span>
            

            

            <code class="ruby">		service[:service_technicians] = Technician.where(id: technicians_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="119">
            <span class="hits">2</span>
            

            

            <code class="ruby">		render json:  service.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/status_changes&quot;, &quot;Trae la información de cambios de estado de un servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/34/status_changes\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">		[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">			  &#39;id&#39;: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">			  &#39;service_id&#39;: 48,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">			  &#39;from&#39;: &#39;new +3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">			  &#39;to&#39;: &#39;new +4&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">			  &#39;changed_at&#39;: &#39;2021-07-01T17:46:20.881-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">			  &#39;created_at&#39;: &#39;2021-07-01T17:46:20.882-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">			  &#39;updated_at&#39;: &#39;2021-07-01T17:46:20.882-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">			  &#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">			  &#39;service_id&#39;: 48,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">			  &#39;from&#39;: &#39;new +2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">			  &#39;to&#39;: &#39;new +3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">			  &#39;changed_at&#39;: &#39;2021-07-01T17:46:00.079-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">			  &#39;created_at&#39;: &#39;2021-07-01T17:46:00.086-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">			  &#39;updated_at&#39;: &#39;2021-07-01T17:46:00.086-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">		  ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="150">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def status_changes</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="151">
            
            

            

            <code class="ruby">		service = ApiSingleton.service_status_changes_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="152">
            
            

            

            <code class="ruby">		render json:  service.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/status_label&quot;, &quot;Trae la información de cambios de estado de un servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/34/status_changes\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">			id: 1, </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">			status: &#39;presheduled&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">			status_label: &#39;Pre-agendado&#39; </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="165">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def status_label</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="166">
            
            

            

            <code class="ruby">		service = ApiSingleton.service_status_label_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="167">
            
            

            

            <code class="ruby">		render json:  service.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:technician_id/technician&quot;, &quot;Servicios agendados para un técnico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="172">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del técnico en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="173">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :page, String, :desc =&gt; &quot;Pagina consultada 1..n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="174">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :per_page, String, :desc =&gt; &quot;Resultados por paǵina esperados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services?customer_id=48\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">		page: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">		per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">		data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">				id: 297,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">				title: &#39;Agendamiento de servicio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">				start_date: &#39;2020-12-11T14:00:00.000Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">				finish_date: &#39;2020-12-11T15:00:00.000Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">				allDay: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">				event_type: &#39;Service_Schedule&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">				description: &#39;Agendamiento del servicio 47 para cliente 48&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">				created_at: &#39;2020-12-10T20:29:53.575Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-12-10T20:29:53.575Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">				country_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">				object_id: &#39;16&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">				service_id: 47,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">				service: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">					id: 47,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">					customer_id: 48,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">					address: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">					service_type: &#39;Mantenimiento&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">					subcategory: &#39;Certificado de servicio doméstico&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">					requested: &#39;Cliente directo&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">					request_channel: &#39;Teléfono&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">					distributor_name: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">					distributor_email: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">					created_at: &#39;02/12/2020 18:36:51&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">					updated_at: &#39;02/12/2020 18:36:51&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">					technicians_number: 4,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">					hour_amount: 8470,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">					fee_amount: 12670,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">					total_hours: 7,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">					total_amount: 203040,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">					status: &#39;paid&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">					background: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">					no_payment: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">					payment_channel: &#39;phone&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">					payment_date: &#39;2020-12-31&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">					no_payment_reason: &#39;Cortesía&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">					invoice: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">					payment_state: &#39;paid&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">					job_id: &#39;038d5463327addf90d282c35be4c5eb1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">					number: &#39;MTCL000047&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">					address_fn: &#39;principal&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">					cancel_reason: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">					background_cancel_service: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">					customer_payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">					ibs_number: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">					spare_part_delivery_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">					principal_technician: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">					customer_products: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">					service_products: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">					spare_parts: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">					calendar_events: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">					file_resources: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">					payment_resources: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">					status_label: &#39;Agendado&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">					visit_numb: null</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">			{...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">			{...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">			{...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">			{...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">			{...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">		],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">		total: 6</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="246">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index_by_techinician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="247">
            <span class="hits">1</span>
            

            

            <code class="ruby">		page = (params[:page].blank? ? 1 : params[:page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">        per_page = (params[:per_page].blank? ? 10 : params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="249">
            <span class="hits">1</span>
            

            

            <code class="ruby">		technician_id = (params[:technician_id].blank? ? &quot;&quot; : params[:technician_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json:  ApiSingleton.services_technician_api(page, per_page, technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="255">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/total_price&quot;, &quot;Calcula el total de servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="256">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio en particular&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="257">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :country, String, :desc =&gt; &quot;Pais donde se aplica el servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="258">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :products_ids, String, :desc =&gt; &quot;ID de los taxones de productos seleccionados, seperados por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="259">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_type, String, :desc =&gt; &quot;Tipo de servicio asociado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="260">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :subcategory, String, :desc =&gt; &quot;Subcategoria de tipo de servicio asociado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="261">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :zipcode, String, :desc =&gt; &quot;Codigo postal para clientes Mexicanos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :administrative_demarcation_name, String, :desc =&gt; &quot;Nombre de Comuna para clientes Chilenos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="263">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :time_diff, String, :desc =&gt; &quot;Tiempo de servicio. Si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="265">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/34/total_price?service_type=Home%20Program&amp;products_ids=46,47,50,51&amp;zipcode=8000000&amp;country=MX\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">		total_technicians: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">		fee_amount: 10000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">		total_amount: 72000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">		total_hours: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">		consumable_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">		hour_amount: 2000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">		labor_price: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">		viatic_value: 60000,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">		customer_products: []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">	## /api/v1/services/34/total_price?service_type=Home%20Program&amp;products_ids=46,47,50,51&amp;zipcode=8000000&amp;country=MX</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="282">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def total_price</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">		## FEE AMOUNTS BY COUNTRY</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="284">
            <span class="hits">3</span>
            

            

            <code class="ruby">		render json:  ApiSingleton.service_total_price_api(service_params).to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="287">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/services/:id/create_spare_part&quot;, &quot;Asigna una refacción a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="288">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del cliente a asignar productos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="289">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :products, String, :desc =&gt; &quot;Array de ids de productos de refacción&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="290">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/create_spare_part\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">        service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">        product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">        created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">        product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">            platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">            tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">            ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">            profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">            name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">            description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">            mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">            product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">            additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">            home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">            taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">            product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">            country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="319">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def create_spare_part</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="320">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @service_product = ApiSingleton.get_create_service_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="321">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@service_product[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="322">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @service_product.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="324">
            
            

            

            <code class="ruby">            render json: @service_product, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="328">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/spare_parts&quot;, &quot;Trae las refacciones asociadas de un servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="329">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="330">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="332">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">            service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">            product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">            spare_part: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">                tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">                ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">                home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">                product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">        {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="362">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="363">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = ApiSingleton.get_service_spare_parts(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="364">
            <span class="hits">2</span>
            

            

            <code class="ruby">		render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="368">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/requested_spare_parts&quot;, &quot;Trae las refacciones asociadas de un servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="369">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="370">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/requested_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">            service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="376">
            
            

            

            <code class="ruby">            product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="379">
            
            

            

            <code class="ruby">            spare_part: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby">                tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">                ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="387">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="388">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="393">
            
            

            

            <code class="ruby">                home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby">                product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby">        {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="400">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="402">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def requested_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="403">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = ApiSingleton.get_service_requested_spare_parts(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="404">
            <span class="hits">2</span>
            

            

            <code class="ruby">		render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="407">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/selected_spare_parts&quot;, &quot;Trae las refacciones seleccionadas asociadas de un servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="408">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="409">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/selected_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">            service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">            product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">            spare_part: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">                tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">                ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">                home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">                product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">        {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="441">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def selected_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="442">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = ApiSingleton.get_service_selected_spare_parts(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="443">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/services/:id/spare_parts/:service_spare_part_id&quot;, &quot;Actualiza refacción a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="447">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="448">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_spare_part_id, String, :desc =&gt; &quot;ID de la refacción&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="449">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quantity, String, :desc =&gt; &quot;Cantidad de la refacción asignada&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="450">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :requested_quantity, String, :desc =&gt; &quot;Cantidad solicitada de la refacción (para el módulo de solicitudes)&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="451">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :status, String, :desc =&gt; &quot;Estado de la refacción solicitada. Dejar en blanco para eliminar de solicitud.&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="452">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :delivery_status, String, :desc =&gt; &quot;Estado de entrega la refacción solicitada&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="453">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :background, String, :desc =&gt; &quot;Antecedentes de la entrega de la refaccion&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="455">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/spare_parts/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">        service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">		product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">		quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">        created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">        product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">            platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">            tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">            ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">            profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">            name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">            description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">            mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">            product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">            additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">            home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">            taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">            product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">            country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="483">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="484">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="485">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def update_spare_part</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="486">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@service_spare_part = ApiSingleton.get_update_service_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="487">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@service_spare_part[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="488">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @service_spare_part.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="490">
            
            

            

            <code class="ruby">            render json: @service_spare_part, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="494">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/services/:id/assign_spare_parts&quot;, &quot;Asigna refacciones a un técnico en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="495">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="496">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_spare_part_ids, String, :desc =&gt; &quot;IDs de la refaccionnes separados por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="497">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="498">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/assign_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="499">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="500">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="501">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">			service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="503">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="511">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="516">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="523">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="524">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="525">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="526">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="527">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="530">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def assign_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="531">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@service_spare_parts = ApiSingleton.get_assign_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="532">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@service_spare_parts.any? rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="533">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @service_spare_parts.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="534">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="535">
            
            

            

            <code class="ruby">            render json: @service_spare_parts, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="537">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="539">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="540">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/technician_spare_parts/:technician_id&quot;, &quot;Trae las refacciones de un técnico en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="541">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="542">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="543">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/technician_spare_parts/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="544">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="546">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="547">
            
            

            

            <code class="ruby">			service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="548">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="549">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="551">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="553">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="554">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="555">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="557">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="560">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="561">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="562">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="563">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="565">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="567">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="568">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="569">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="571">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="575">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def technician_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="576">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = ApiSingleton.get_technician_service_products_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="577">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="578">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="579">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="580">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services_all_technician_spare_parts/:technician_id&quot;, &quot;Trae todas a recepcionar para un técnico en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="581">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="582">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services_all_technician_spare_parts/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="583">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="584">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="585">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="586">
            
            

            

            <code class="ruby">			service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="588">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="589">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="590">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="592">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="593">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="594">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="595">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="597">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="599">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="600">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="601">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="602">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="603">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="604">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="606">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="607">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="608">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="610">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="613">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="614">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def technician_all_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="615">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = ApiSingleton.get_technician_all_service_products_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="616">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="618">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="620">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/technician_all_used_spare_parts/:technician_id&quot;, &quot;Trae todas a recepcionar para un técnico en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="621">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="622">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services_all_technician_spare_parts/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="623">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="624">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">		[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="626">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="627">
            
            

            

            <code class="ruby">				id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="628">
            
            

            

            <code class="ruby">				customer_product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">				service_spare_part_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="630">
            
            

            

            <code class="ruby">				quantity: 6,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">				created_at: &#39;2021-03-03T22:28:58.519Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby">				updated_at: &#39;2021-03-03T22:30:06.419Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="633">
            
            

            

            <code class="ruby">				service_spare_part: {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="634">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="635">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="636">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="637">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def technician_all_used_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="638">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = ApiSingleton.get_technician_all_service_used_products_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="639">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="640">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="641">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="642">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :DELETE, &#39;v1/services/:id/spare_parts/:spare_part_id&#39;, &quot;Elimina un producto a un servicio en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="643">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID del cliente a eliminar el producto&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="644">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :spare_part_id, String, :desc =&gt; &quot;ID del producto del cliente, que se quiere eliminar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="645">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/customers/1/customer_product/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="646">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">        { service_spare_part_id: 1, message: &#39;Producto de servicio eliminado&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="648">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="649">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def delete_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="650">
            <span class="hits">1</span>
            

            

            <code class="ruby">        @service_spare_part =  ApiSingleton.destroy_service_spare_part_api(params[:id],params[:service_spare_part_id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="651">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@service_spare_part[&quot;service_spare_part_id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="652">
            
            

            

            <code class="ruby">            render json: @service_spare_part.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="654">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @service_spare_part, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="656">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="658">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="659">
            
            

            

            <code class="ruby">	########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="660">
            
            

            

            <code class="ruby">	### Customer Services</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="661">
            
            

            

            <code class="ruby">	########################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="663">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/services/:service_id/visits&quot;, &quot;Crea o actualiza una nueva visita a un servicio a un cliente en Miele Core. Si existe una visita previa sin pagar, trae esa.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="664">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_id, String, :desc =&gt; &quot;ID del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="665">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_id, String, :desc =&gt; &quot;ID de la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="666">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_id, String, :desc =&gt; &quot;ID del cliente a asignar el servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="667">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address, String, :desc =&gt; &quot;Dirección del cliente seleccionada. &#39;principal&#39; o el id de alguna adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="668">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :address_fn, String, :desc =&gt; &quot;Dirección de facturación del cliente seleccionada. &#39;principal&#39; o el id de alguna adicional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="669">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :service_type, String, :desc =&gt; &quot;Tipo de servicio del cliente. [&#39;Instalación&#39;, &#39;Mantenimiento&#39;, &#39;Reparación&#39;, &#39;Home Program&#39;, &#39;Reparaciones en Taller&#39;, &#39;Entregas/Despachos&#39;]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="670">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :subcategory, String, :desc =&gt; &quot;Sub categoria del servicio del cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="671">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :requested, String, :desc =&gt; &quot;Describe si el servicio es solicitado por &#39;Cliente directo&#39;&#39; o por &#39;Distribuidor autorizado&#39;.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="672">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :request_channel, String, :desc =&gt; &quot;Canal de la solicitud de servicio. [&#39;Teléfono&#39;, &#39;App Clientes&#39;, &#39;Web&#39;, &#39;Redes sociales&#39;] &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="673">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :distributor_name, String, :desc =&gt; &quot;Nombre del distribuidor autorizado, si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="674">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :distributor_email, String, :desc =&gt; &quot;Email del distribuidor autorizado, si aplica&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="675">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_products_id, String, :desc =&gt; &quot;Array de ids de producos del usuario separados por coma (1,2,3), asociado al servicio&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="676">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technicians_number, String, :desc =&gt; &quot;Número de técnicos necesarios para el servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="677">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :hour_amount, String, :desc =&gt; &quot;Monto por cada hora de servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="678">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :labor_amount, String, :desc =&gt;  &quot;Monto de mano de obra por viaticos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="679">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :subtotal_amount, String, :desc =&gt; &quot;Monto subtotal del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="680">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :iva_amount, String, :desc =&gt; &quot;Monto iva del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="681">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :fee_amount, String, :desc =&gt;  &quot;Monto de fee por viaticos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="682">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :total_hours, String, :desc =&gt;  &quot;Total de horas del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="683">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :total_amount, String, :desc =&gt; &quot;Monto total del servicio&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="684">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :status, String, :desc =&gt; &quot;Estado en el que se encuentra el serivio [&#39;new&#39;,&#39;paid&#39;,&#39;completed&#39;]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="685">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :background, String, :desc =&gt; &quot;Antecedentes extras al servicio solicitado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="686">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :no_payment, String, :desc =&gt; &quot;true o false si es que se realiza pago o no&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="687">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_channel, String, :desc =&gt; &quot;Canal del pago si se realiza (Online, Transferencia, Por Teléfono)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="688">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_date, String, :desc =&gt; &quot;Fecha límite de pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="689">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :no_payment_reason, String, :desc =&gt; &quot;Razón de no pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="690">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :invoice, String, :desc =&gt; &quot;true o false si el cliente requiere factura o no&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="691">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :event_start, String, :desc =&gt; &quot;Fecha y hora de inicio del evento de agendamiento&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="692">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :event_end, String, :desc =&gt; &quot;Fecha y hora de fin del evento de agendamiento&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="693">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :technicians_ids, String, :desc =&gt; &quot;IDs de los técnicos separados por coma&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="694">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :images, Array, :desc =&gt; &quot;Array de imagenes a asociar images:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="695">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :payment_state, String, :desc =&gt; &quot;Esto del pago (pendding, paid, failure)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="696">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :isPaymentEmail, String, :desc =&gt; &quot;Valor booleano para determinar envío de correo de pago. Envar &#39;true&#39; para efectuar envío. &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="697">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :customerEmail, String, :desc =&gt; &quot;Email del cliente que recibirá el correo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="698">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :paymentEmailAdditional, String, :desc =&gt; &quot;Email adicional del cliente que recibirá el correo&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="699">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :from, String, :desc =&gt; &quot;Aplicación desde donde se esta generado el servicio. Use el valor &#39;app_web&#39; para miele tickets web, &#39;app_clientes&#39; y &#39;app_tecnicos&#39; para las aplicaciones respectivas.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="700">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="701">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/visits\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="702">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="703">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="704">
            
            

            

            <code class="ruby">        id: 51,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="705">
            
            

            

            <code class="ruby">		principal_technician_id: &#39;1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="706">
            
            

            

            <code class="ruby">		total_time: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="707">
            
            

            

            <code class="ruby">		confirmed: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="708">
            
            

            

            <code class="ruby">		invoice: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            
            

            

            <code class="ruby">		background: &#39;Tercera visita del servicio MTCL00001&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="710">
            
            

            

            <code class="ruby">		created_at: &#39;2021-05-19T18:46:28.653Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            
            

            

            <code class="ruby">		updated_at: &#39;2021-05-19T18:48:26.855Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby">		service_id: 19,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="713">
            
            

            

            <code class="ruby">		start_time: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="714">
            
            

            

            <code class="ruby">		finish_time: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="715">
            
            

            

            <code class="ruby">		time_diff: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="716">
            
            

            

            <code class="ruby">		canceled_at: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            
            

            

            <code class="ruby">		cancel_from: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="718">
            
            

            

            <code class="ruby">		cancel_reason: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            
            

            

            <code class="ruby">		arrival_time: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="720">
            
            

            

            <code class="ruby">		arrival_time_diff: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="721">
            
            

            

            <code class="ruby">		payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="722">
            
            

            

            <code class="ruby">		payment_state: &#39;pending&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="723">
            
            

            

            <code class="ruby">		status: &#39;new&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="724">
            
            

            

            <code class="ruby">		validated_payment: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="725">
            
            

            

            <code class="ruby">		payment_channel: &#39;phone&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="726">
            
            

            

            <code class="ruby">		customer_payment_date: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="727">
            
            

            

            <code class="ruby">		number: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="728">
            
            

            

            <code class="ruby">		calendar_event: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="729">
            
            

            

            <code class="ruby">		status_label: &#39;Pre-agendada&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="730">
            
            

            

            <code class="ruby">		payment_resources: [ ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="731">
            
            

            

            <code class="ruby">		hour_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="732">
            
            

            

            <code class="ruby">		fee_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="733">
            
            

            

            <code class="ruby">		total_hours: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="734">
            
            

            

            <code class="ruby">		total_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">		subtotal_amount: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="736">
            
            

            

            <code class="ruby">		viatic_amount: 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="738">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="739">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def create_visit</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="740">
            
            

            

            <code class="ruby">        @customer_visit = ApiSingleton.get_create_customer_visit_api(create_visit_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="741">
            
            

            

            <code class="ruby">        if (@customer_visit[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="742">
            
            

            

            <code class="ruby">			UserNotification.notify_service_visit_prescheduled(@customer_visit, &quot;visit&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="743">
            
            

            

            <code class="ruby">            render json: @customer_visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="744">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="745">
            
            

            

            <code class="ruby">            render json: @customer_visit, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="746">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="747">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="748">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="749">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="750">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="751">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/services/:id/visits/:visit_id/update_visit&quot;, &quot;Actualiza una visita de un servicio a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="752">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la visita&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="753">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_id, String, :desc =&gt; &quot;ID de la visita que se quiere actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="754">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technicians_ids, String, :desc =&gt; &quot;Técnicos asociados a la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="755">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :event, String, :desc =&gt; &quot;Fecha asignada para la visita en formato {start: fecha end: fecha}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="756">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :person_accountable, String, :desc =&gt; &quot;El nombre completo de quien atendió la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="757">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :signature, String, :desc =&gt; &quot;Foto de la firma, en Base64&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="758">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_files, Array, :desc =&gt; &quot;Array de archivos asociados al pago payment_files:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="759">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="760">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/visits/1/update_visit\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="761">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="762">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="763">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="764">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="766">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def update_visit</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="767">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@customer_visit = ApiSingleton.get_update_service_visit_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="768">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if (@customer_visit[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="769">
            <span class="hits">1</span>
            

            

            <code class="ruby">            render json: @customer_visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="770">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="771">
            
            

            

            <code class="ruby">            render json: @customer_visit, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="772">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="773">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="774">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="775">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/services/:id/visits/:visit_id/cancel_visit&quot;, &quot;Actualiza una visita de un servicio a un cliente en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="776">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la visita&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="777">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_id, String, :desc =&gt; &quot;ID de la visita que se quiere cancelar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="778">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :cancel_from, String, :desc =&gt; &quot;cancel_from de la visita que se quiere cancelar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="779">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :cancel_reason, String, :desc =&gt; &quot;cancel_reason de la visita que se quiere cancelar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="780">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :status, String, :desc =&gt; &quot;Estado de la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="781">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="782">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/visits/1/cancel_visit\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="783">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="784">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="785">
            
            

            

            <code class="ruby"> </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="786">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="787">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="788">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def cancel_visit</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="789">
            
            

            

            <code class="ruby">		@visit = ApiSingleton.get_cancel_service_visit_api(visit_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="790">
            
            

            

            <code class="ruby">        if (@visit[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="791">
            
            

            

            <code class="ruby">            render json: @visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="792">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="793">
            
            

            

            <code class="ruby">            render json: @visit, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="794">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="795">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="796">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="797">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="798">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/services/:id/customer_complaints&quot;, &quot;Trae las quejas de cliente de un servicio en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="799">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="800">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/services/1/customer_complaints/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="801">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="802">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="803">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="804">
            
            

            

            <code class="ruby">		  &#39;id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="805">
            
            

            

            <code class="ruby">		  &#39;service_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="806">
            
            

            

            <code class="ruby">		  &#39;customer_id&#39;: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="807">
            
            

            

            <code class="ruby">		  &#39;complaint_type&#39;: &#39;RETRASO EN SERVICIO&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="808">
            
            

            

            <code class="ruby">		  &#39;channel&#39;: &#39;Contact Center&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="809">
            
            

            

            <code class="ruby">		  &#39;phone&#39;: &#39;(+56) 23214123123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="810">
            
            

            

            <code class="ruby">		  &#39;complaint_background&#39;: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="811">
            
            

            

            <code class="ruby">		  &#39;compensation_proposal&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="812">
            
            

            

            <code class="ruby">		  &#39;closure_details&#39;: &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="813">
            
            

            

            <code class="ruby">		  &#39;created_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="814">
            
            

            

            <code class="ruby">		  &#39;updated_at&#39;: &#39;2021-06-11T20:36:57.038Z&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="815">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="816">
            
            

            

            <code class="ruby">	  ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="817">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="818">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def customer_complaints</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="819">
            
            

            

            <code class="ruby">		render json:  ApiSingleton.services_customer_complaints_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="820">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="821">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="822">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="823">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="824">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="825">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def send_payment_email</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="826">
            
            

            

            <code class="ruby">			if ((@customer_visit[&quot;id&quot;] &amp;&amp; @customer_visit[&quot;status&quot;] == &quot;created&quot;) rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="827">
            
            

            

            <code class="ruby">				emails = (@customer_visit[&quot;customer_email&quot;].blank? ? &quot;oferusat@gmail.com&quot; : @customer_visit[&quot;customer_email&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="828">
            
            

            

            <code class="ruby">				emails+= &quot;,#{params[:paymentEmailAdditional]}&quot; unless  params[:paymentEmailAdditional].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="829">
            
            

            

            <code class="ruby">				begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="830">
            
            

            

            <code class="ruby">					NotificationMailer.payment_email(emails, @customer_visit[&quot;service_id&quot;].to_s, &quot;visit&quot;, @customer_visit[&quot;id&quot;].to_s).deliver_now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="831">
            
            

            

            <code class="ruby">				rescue </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="832">
            
            

            

            <code class="ruby">					puts &quot;No se ha podido enviar el email.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="833">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="834">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="835">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="836">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="837">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="838">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def service_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="839">
            <span class="hits">5</span>
            

            

            <code class="ruby">            params.permit :id, :password, :country, :products_ids, :service_type, :subcategory, :zipcode, :administrative_demarcation_name, :time_diff</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="840">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="841">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="842">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def create_visit_params</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="843">
            
            

            

            <code class="ruby">			params.permit(:id, :service_id, :policy_id, :visit_id, :from, :customer_id, :address, :address_fn, :service_type, :subcategory, :requested, :request_channel, :distributor_name, :distributor_email, :technicians_number, :labor_amount, :viatic_amount, :hour_amount, :fee_amount, :total_hours, :subtotal_amount, :iva_amount, :total_amount, :status, :customer_products_id, :background, :no_payment, :payment_channel, :payment_date, :no_payment_reason, :invoice, :event_start, :event_end, :technicians_ids, :payment_state, :customer_payment_date, images: [], consumables: [])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="844">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="845">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="846">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def service_spare_part_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="847">
            <span class="hits">11</span>
            

            

            <code class="ruby">            params.permit :id, :products, :quantity, :service_spare_part_id, :service_spare_part_ids, :technician_id, :requested_quantity, :status, :delivery_status, :background</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="848">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="849">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="850">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def visit_params</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="851">
            
            

            

            <code class="ruby">		    params.permit :id, :visit_id, :technicians_ids, :event_start, :event_end, :confirmed, :cancel_from, :cancel_reason, :signature, :status, :person_accountable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="853">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="71e96368cefd24d81774a475bf19fd6f99b8ceee">
  <div class="header">
    <h3>app/controllers/api/v1/taxons_controller.rb</h3>
    <h4>
      <span class="yellow">
  84.62%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>26</b> relevant lines.
      <span class="green"><b>22</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::TaxonsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/taxons&quot;, &quot;Retorna las habilidades seleccionables para los técnicos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al cliente&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/taxons\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">            value: 5367,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">            label: &#39;Servicios&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">            value: 5462,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">            label: &#39;Accesorio&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">            children: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">                {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                    value: 5463,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                    label: &#39;Accesorios&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                    children: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                            value: 5464,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                            label: &#39;Accesorios de instalación&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                            children: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                                {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">                                value: 5465,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">                                label: &#39;Decorativo customizado&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">                                }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">                            ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">                        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">                        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">                            value: 5469,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">                            label: &#39;Accesorios para hornos&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">                            children: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">                                {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">                                value: 5470,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">                                label: &#39;Hornos a vapor&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">                                }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">                            ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">                        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">                    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">                }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">            ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">        {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="52">
            <span class="hits">4</span>
            

            

            <code class="ruby">        keywords = (params[:keywords].blank? ? &quot;tickets&quot; : params[:keywords])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="53">
            <span class="hits">4</span>
            

            

            <code class="ruby">        country = (params[:country].blank? ? &quot;MX&quot; : params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="54">
            <span class="hits">4</span>
            

            

            <code class="ruby">        response = ApiSingleton.taxons_api(keywords, country)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="55">
            <span class="hits">4</span>
            

            

            <code class="ruby">        new_response = response[&quot;data&quot;].first[&quot;taxons_first_level&quot;].map{ |taxon|  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">            { </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="57">
            <span class="hits">24</span>
            

            

            <code class="ruby">                value: taxon[&quot;id&quot;], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">                label: taxon[&quot;name&quot;] </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">            }.merge( taxon[&quot;children_set&quot;].size &gt; 0 ? </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">                { </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">                    children: taxon[&quot;children_set&quot;].map{ |child_taxon_1|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">                    { </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="68" data-linenumber="63">
            <span class="hits">68</span>
            

            

            <code class="ruby">                        value: child_taxon_1[&quot;id&quot;], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">                        label: child_taxon_1[&quot;name&quot;], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">                    }.merge( child_taxon_1[&quot;children_set&quot;].size &gt; 0 ? </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">                        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">                        children: child_taxon_1[&quot;children_set&quot;].map{ |child_taxon_2|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">                            { </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="196" data-linenumber="69">
            <span class="hits">196</span>
            

            

            <code class="ruby">                                value: child_taxon_2[&quot;id&quot;], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">                                label: child_taxon_2[&quot;name&quot;] </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">                            }.merge( child_taxon_2[&quot;children_set&quot;].size &gt; 0 ?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">                                {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">                                    children: child_taxon_2[&quot;children_set&quot;].map{ |child_taxon_3|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">                                        { </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="75">
            <span class="hits">108</span>
            

            

            <code class="ruby">                                            value: child_taxon_3[&quot;id&quot;], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">                                            label: child_taxon_3[&quot;name&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">                                        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">                                    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">                            } : {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">                        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">                    } : {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">                }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">            } : {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="86">
            <span class="hits">4</span>
            

            

            <code class="ruby">        render json: new_response</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/taxon_names&quot;, &quot;Lista todos los centro de costos de Miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :taxon_ids, String, :desc =&gt; &quot;Ids de taxons separados por comas (opcionales)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/taxons\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">            id: 5367,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">            name: &#39;Servicios&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">        {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index_names</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="103">
            
            

            

            <code class="ruby">	    taxon_ids = (params[:taxon_ids].blank? ? nil : params[:taxon_ids])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="104">
            
            

            

            <code class="ruby">        response = ApiSingleton.taxon_names_api(taxon_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="105">
            
            

            

            <code class="ruby">	    render json:  response</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="dc6e80d7cf2ad1703df006d6d7dcdf741964cdf2">
  <div class="header">
    <h3>app/controllers/api/v1/technicians_controller.rb</h3>
    <h4>
      <span class="yellow">
  85.57%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>194</b> relevant lines.
      <span class="green"><b>166</b> lines covered</span> and
      <span class="red"><b>28</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::TechniciansController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	protect_from_forgery with: :null_session</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	before_action :set_technician, only: [:show, :edit, :update, :destroy]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :save_activities, only: [:create, :update]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :save_taxons, only: [:create, :update]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :save_photo, only: [:create, :update]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :save_events, only: [:create, :update]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/technicians&quot;, &quot;Retorna los técnicos filtrados y paginados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :page, String, :desc =&gt; &quot;Pagina consultada 1..n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :per_page, String, :desc =&gt; &quot;Resultados por paǵina esperados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al ténico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :country, String, :desc =&gt; &quot;País de los técnicos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technicians?page=2&amp;country=CL\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">            page: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">            per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">            data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">                {... technician},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">                {... technician}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">            ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">            total: 48</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="40">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="41">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;page&quot;] = params[:page].blank? ? 1 : params[:page].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="42">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;per_page&quot;] = params[:per_page].blank? ? 10 : params[:per_page].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="43">
            <span class="hits">9</span>
            

            

            <code class="ruby">		technicians = (params[:keywords].blank? ? Technician : Technician.search(params[:keywords]))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="44">
            <span class="hits">9</span>
            

            

            <code class="ruby">		unless params[:country].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">			technicians = technicians.joins(user: :countries).where(&quot;countries.iso = ?&quot;, params[:country])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="47">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    technicians = technicians.order(created_at: :desc).paginate(page: params[:page], per_page: params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="48">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;data&quot;] = technicians</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="49">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;total&quot;] = technicians.total_entries</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="50">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/get_technicians_by_taxon&quot;, &quot;Retorna los técnicos filtrados por taxon&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :country, String, :desc =&gt; &quot;País de los técnicos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :zone, String, :desc =&gt; &quot;Código postal para clientes mexicanos, Comunas para clientes Chilenos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :taxons_ids, String, :desc =&gt; &quot;ID de los taxones de productos seleccionados, seperados por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :taxons_names, String, :desc =&gt; &quot;Nombres de los taxones de productos seleccionados, seperados por ,. Excluyente al id.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :taxon_type, String, :desc =&gt; &quot;Tipo de servicio. (&#39;Instalación&#39;, &#39;Mantenimiento&#39;, &#39;Reparación&#39;, &#39;Home Program&#39;, &#39;Reparaciones en Taller&#39;, &#39;Entregas/Despachos&#39;)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/get_technicians_by_taxon?country=MX&amp;zone=012000&amp;taxons_ids=1,2,3&amp;taxon_type=Reparación\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">			data: [ </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">					id: 13,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">					n_store: &#39;qwe TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">					user_id: 24,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">					vehicle_info: &#39;qwe&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">					vehicle_license: &#39;qwe&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">					created_at: &#39;16/10/2020 12:39:20&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">					updated_at: &#39;22/10/2020 16:40:23&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">					photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">					jobs_count: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">					technician_taxons_grouped: {},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">					technician_taxons: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">					user: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">						id: 27,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">						firstname: &#39;TEST FIRSTNAME&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">						lastname: &#39; TEST LASTNAME &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">						created_at: &#39;08/10/2020 14:33:42&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">						updated_at: &#39;11/11/2020 12:11:03&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">						email: &#39;CLIENTE@TEST.COM&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">						surname: &#39;TEST SURNAME&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">						cellphone: &#39;(+56) 123456&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">						phone: &#39;(+56) 123451&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">						cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">						role_id: &#39;CODE1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">						worktime: &#39;Part-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">						photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">						api_key: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">						customer_id: &#39;1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">						from_auth: &#39;app_clientes&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">						country: &#39;MX&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">						get_roles_names: &#39;Técnico&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">						countries: [{}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">						fullname: &#39;TEST FIRSTNAME TEST LASTNAME TEST SURNAME&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">					}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">			others: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">				id: 11,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">				n_store: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">				user_id: 27,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">				vehicle_info: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">				vehicle_license: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">				created_at: &#39;14/10/2020 18:55:18&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">				updated_at: &#39;14/10/2020 18:55:18&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">				photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">				jobs_count: 0,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">				technician_taxons_grouped: {},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">				technician_taxons: [],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">				user: {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">			]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def get_technicians_by_taxon</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    unless params[:taxons_names].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="124">
            
            

            

            <code class="ruby">			current_technician, others_technicians = (params[:taxons_names].blank? ? Technician : Technician.search_by_taxons_names(params[:taxons_names], params[:taxon_type], params[:country], params[:zone]))	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">		else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">			current_technician, others_technicians = (params[:taxons_ids].blank? ? Technician : Technician.search_by_taxon_id(params[:taxons_ids], params[:taxon_type], params[:country], params[:zone]))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="128">
            <span class="hits">1</span>
            

            

            <code class="ruby">		current_technician_ids = current_technician.pluck(:id).join(&quot;,&quot;).inspect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="129">
            <span class="hits">1</span>
            

            

            <code class="ruby">		others_technicians_ids = others_technicians.pluck(:id).join(&quot;,&quot;).inspect</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">		current_wordload = ApiSingleton.technician_work_load_api(current_technician_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">		others_wordload = ApiSingleton.technician_work_load_api(others_technicians_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            <span class="hits">1</span>
            

            

            <code class="ruby">		current_technician.each do |technician|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="135">
            
            

            

            <code class="ruby">			if current_wordload[&quot;data&quot;][technician.id.to_s] &amp;&amp; current_wordload[&quot;data&quot;][technician.id.to_s] != technician.jobs_count</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="136">
            
            

            

            <code class="ruby">				technician.update(jobs_count: current_wordload[&quot;data&quot;][technician.id.to_s])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            <span class="hits">1</span>
            

            

            <code class="ruby">		others_technicians.each do |technician|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="141">
            
            

            

            <code class="ruby">			if others_wordload[&quot;data&quot;][technician.id.to_s] &amp;&amp; others_wordload[&quot;data&quot;][technician.id.to_s] != technician.jobs_count</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="142">
            
            

            

            <code class="ruby">				technician.update(jobs_count: others_wordload[&quot;data&quot;][technician.id.to_s])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="146">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response[&quot;data&quot;] = current_technician.order(jobs_count: :asc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="147">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response[&quot;others&quot;] = others_technicians.order(jobs_count: :asc)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="148">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/get_technicians&quot;, &quot;Retorna los usuarios con rol &#39;técnico&#39; y filtrados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al ténico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/get_technicians?country=CL\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">			value: &#39;27&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">			label: &#39;TEST 1 (TEST1@TEST1.cl)&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">			value: &#39;24&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">			label: &#39;TEST 2 (TEST2@TEST2.cl)&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">			value: &#39;9&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">			label: &#39;TEST 3 (TEST3@TEST3.cl)&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">			value: &#39;8&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">			label: &#39;TEST 4 (TEST4@TEST4.cl)&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">		},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">		{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">			value: &#39;2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">			label: &#39;TEST 5 (TEST5@TEST5.cl)&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">	]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="178">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def get_technicians</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="179">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    response = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="180">
            <span class="hits">2</span>
            

            

            <code class="ruby">		users = (params[:keywords].blank? ? User : User.search(params[:keywords]))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="181">
            <span class="hits">2</span>
            

            

            <code class="ruby">		used_tech = Technician.pluck(:user_id).uniq</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="182">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    users = users.joins(:user_roles).where(&quot;user_roles.role_id = ?&quot;, Role.find_or_create_by(name: &quot;Técnico&quot;).id).where.not(id: used_tech).order(created_at: :desc).paginate(page: params[:page], per_page: params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="183">
            <span class="hits">2</span>
            

            

            <code class="ruby">		users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            <span class="hits">1</span>
            

            

            <code class="ruby">			response &lt;&lt; { value: user.id.to_s, label:  &quot;#{user.fullname} (#{user.email})&quot;}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="186">
            <span class="hits">2</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="189">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/technicians/:id&quot;, &quot;Retorna un técnico mediante su id&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="190">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del técnico consultado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="191">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technicians/2\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">			n_store: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">			user_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">			vehicle_info: &#39;test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">			vehicle_license: &#39;test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">			created_at: &#39;22/10/2020 16:40:41&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">			updated_at: &#39;11/11/2020 14:46:01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">			photo: &#39;photo_url&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">			jobs_count: 17,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">			technician_taxons_grouped: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">				installation: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">					{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">						id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">						technician_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">						taxon_id: 123,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">						taxon_type: &#39;installation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">						created_at: &#39;2020-11-17T14:51:43.678-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">						updated_at: &#39;2020-11-17T14:51:43.678-06:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">					},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">					{...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">				],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">				maintenance: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">					{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">					id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">					technician_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">					taxon_id: 124,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">					taxon_type: &#39;maintenance&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">					created_at: &#39;2020-11-17T14:51:43.809-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-11-17T14:51:43.809-06:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">					},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">					{...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">			technician_taxons: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">				technician_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">				taxon_id: 123,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">				taxon_type: &#39;installation&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">				created_at: &#39;2020-11-17T14:51:43.678-06:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-17T14:51:43.678-06:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">				},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">				{...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">				{...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">			user: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">				id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">				firstname: &#39;TESTF&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby">				lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">				created_at: &#39;18/08/2020 19:04:04&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">				updated_at: &#39;05/11/2020 14:04:01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">				email: &#39;TESTF.TESTL@TEST.cl&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">				surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">				cellphone: &#39;1234567&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">				phone: &#39;12345678&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">				cost_center: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">				role_id: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">				worktime: &#39;Part-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">				photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">				api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">				customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">				from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">				country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">				get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">				countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">					{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">					id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">					name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">					iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">					created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">					}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">				],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">				fullname: &#39;TESTF TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">			activities: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">					id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">					name: &#39;Mantenimiento&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">					created_at: &#39;2020-08-21T15:56:09.408-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-08-21T15:56:09.408-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">				},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">					id: 4,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">					name: &#39;Diagnóstico en Taller&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">					created_at: &#39;2020-08-21T15:56:09.418-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-08-21T15:56:09.418-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">				},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">					id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">					name: &#39;Instalación&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">					created_at: &#39;2020-08-21T15:56:09.403-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-08-21T15:56:09.403-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">			]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="292">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def show</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="293">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	   response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="294">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	   response[&quot;data&quot;] = @technician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="295">
            <span class="hits">1</span>
            

            

            <code class="ruby">	   render json: response.to_json(include: [:user, :activities], methods: [:technician_taxons_grouped, :technician_taxons])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="298">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/technicians&quot;, &quot;Crea un técnico en Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="299">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :n_store, String, :desc =&gt; &quot;n_store del técnico a crear&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="300">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :user_id, String, :desc =&gt; &quot;ID del usaurio con rol &#39;técnio&#39; a asociar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="301">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :vehicle_info, String, :desc =&gt; &quot;vehicle_info del técnico a crear&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="302">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :vehicle_license, String, :desc =&gt; &quot;vehicle_license del técnico a crear&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="303">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technicians\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">			n_store: &#39;TEST2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">			user_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">			vehicle_info: &#39;TEST2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">			vehicle_license: &#39;TEST2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">			created_at: &#39;22/10/2020 16:40:41&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">			updated_at: &#39;11/11/2020 14:46:01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">			photo: &#39;photo_url&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">			jobs_count: 17,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">			technician_taxons_grouped: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">			technician_taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">			user: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">			activities: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="323">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="324">
            <span class="hits">1</span>
            

            

            <code class="ruby">  		@technician = Technician.create(technician_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="325">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    if @technician.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="326">
            <span class="hits">1</span>
            

            

            <code class="ruby">			unless params[:zoneFile].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="327">
            
            

            

            <code class="ruby">				errors = save_zipcodes(params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="328">
            
            

            

            <code class="ruby">				if errors.any?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="329">
            
            

            

            <code class="ruby">					flash[:errors] = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="330">
            
            

            

            <code class="ruby">					render json: errors.to_json, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="332">
            
            

            

            <code class="ruby">					render json: @technician.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="333">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="335">
            <span class="hits">1</span>
            

            

            <code class="ruby">				render json: @technician.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby">		else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="338">
            
            

            

            <code class="ruby">	      render json: @technician.errors.full_messages, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="342">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/technicians/:id&quot;, &quot;Actualiza un técnico en Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="343">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;id del técnico a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="344">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :n_store, String, :desc =&gt; &quot;n_store del técnico a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="345">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :user_id, String, :desc =&gt; &quot;ID del usaurio con rol &#39;técnio&#39; a asociar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="346">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :vehicle_info, String, :desc =&gt; &quot;vehicle_info del técnico a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="347">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :vehicle_license, String, :desc =&gt; &quot;vehicle_license del técnico a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="348">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technicians/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">			n_store: &#39;TEST2 updated&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">			user_id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">			vehicle_info: &#39;TEST2 updated&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">			vehicle_license: &#39;TEST2 updated&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">			created_at: &#39;22/10/2020 16:40:41&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">			updated_at: &#39;11/11/2020 14:46:01&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">			photo: &#39;photo_url&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">			jobs_count: 17,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">			technician_taxons_grouped: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">			technician_taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">			user: {...},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">			activities: [{...}]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="368">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="369">
            <span class="hits">2</span>
            

            

            <code class="ruby">		if @technician.update(technician_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="370">
            <span class="hits">2</span>
            

            

            <code class="ruby">			unless params[:zoneFile].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="371">
            <span class="hits">1</span>
            

            

            <code class="ruby">				errors = save_zipcodes(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="372">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if errors.any?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="373">
            
            

            

            <code class="ruby">					flash[:errors] = true</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="374">
            
            

            

            <code class="ruby">					render json: errors.to_json, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="376">
            <span class="hits">1</span>
            

            

            <code class="ruby">					render json: @technician.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="377">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="378">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="379">
            <span class="hits">1</span>
            

            

            <code class="ruby">				render json: @technician.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="381">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="382">
            
            

            

            <code class="ruby">	    else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="383">
            
            

            

            <code class="ruby">	      render json: @technician.errors.full_messages, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="384">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="385">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="386">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="387">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :DELETE, &quot;/v1/technicians/:id&quot;, &quot;Elimina un técnico en Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="388">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;id del técnico a eliminar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="389">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technicians/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby">		{ user_id: 1, message: &#39;Tecnico eliminado&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="393">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="394">
            <span class="hits">1</span>
            

            

            <code class="ruby">		user_id = @technician.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="395">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@technician&amp;.destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="396">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json: {user_id: user_id, message: &#39;Tecnico eliminado&#39; }.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="398">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="399">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="400">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/technicians/:id/reintegrated_spare_parts&quot;, &quot;Retorna los usuarios con rol &#39;técnico&#39; y filtrados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="401">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al ténico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="402">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technicians/1/reintegrated_spare_parts?country=CL\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">	]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="408">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def reintegrated_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="409">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    response = ApiSingleton.reintegrated_spare_parts_api(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="410">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="414">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="415">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  	def set_technician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="416">
            <span class="hits">4</span>
            

            

            <code class="ruby">      		@technician||= Technician.find(params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="418">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  	def technician_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="419">
            <span class="hits">3</span>
            

            

            <code class="ruby">			params.permit(:id, :n_store, :user_id, :vehicle_info, :vehicle_license, :enterprise)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="422">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_zipcodes(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="423">
            <span class="hits">1</span>
            

            

            <code class="ruby">			file = params[:zoneFile]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="424">
            <span class="hits">1</span>
            

            

            <code class="ruby">			sp = open_spreadsheet(file)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="425">
            <span class="hits">1</span>
            

            

            <code class="ruby">			sheets = sp.try(:sheets)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">			begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="427">
            <span class="hits">1</span>
            

            

            <code class="ruby">				zipcodes_cl = sp.sheet(&quot;Chile&quot;).dup</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="428">
            <span class="hits">1</span>
            

            

            <code class="ruby">				zipcodes_mx = sp.sheet(&quot;México&quot;).dup</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">			rescue</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="430">
            
            

            

            <code class="ruby">				zipcodes_cl = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="431">
            
            

            

            <code class="ruby">				zipcodes_mx = nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="434">
            <span class="hits">1</span>
            

            

            <code class="ruby">			headers = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="435">
            <span class="hits">1</span>
            

            

            <code class="ruby">			message = &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="437">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">			begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="439">
            <span class="hits">3</span>
            

            

            <code class="ruby">				zipcodes_mx.row(1).each_with_index {|header,i| headers.push(header)	}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="440">
            <span class="hits">1</span>
            

            

            <code class="ruby">				message = &#39;Revise los encabezados del archivo, no son los indicados.&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby">			rescue</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="442">
            
            

            

            <code class="ruby">				headers = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="443">
            
            

            

            <code class="ruby">				message = &quot;El archivo no es el correcto.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="444">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="446">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if !headers.include? &quot;Código Postal&quot; or !headers.include? &quot;Borrar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="447">
            
            

            

            <code class="ruby">				redirect_to request.env[&quot;HTTP_REFERER&quot;], alert: message</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="448">
            
            

            

            <code class="ruby">				return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="451">
            <span class="hits">1</span>
            

            

            <code class="ruby">			headers = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="452">
            <span class="hits">1</span>
            

            

            <code class="ruby">			message = &#39;&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">			begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="456">
            <span class="hits">3</span>
            

            

            <code class="ruby">				zipcodes_cl.row(1).each_with_index {|header,i| headers.push(header)	}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="457">
            <span class="hits">1</span>
            

            

            <code class="ruby">				message = &#39;Revise los encabezados del archivo, no son los indicados.&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">			rescue</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="459">
            
            

            

            <code class="ruby">				headers = []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="460">
            
            

            

            <code class="ruby">				message = &quot;El archivo no es el correcto.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="463">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if !headers.include? &quot;Comunas&quot; or !headers.include? &quot;Borrar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="464">
            
            

            

            <code class="ruby">				redirect_to request.env[&quot;HTTP_REFERER&quot;], alert: message</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="465">
            
            

            

            <code class="ruby">				return</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="468">
            <span class="hits">1</span>
            

            

            <code class="ruby">			errors = @technician.create_zipcodes(zipcodes_mx, &quot;MX&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="469">
            <span class="hits">1</span>
            

            

            <code class="ruby">			errors = @technician.create_zipcodes(zipcodes_cl, &quot;CL&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="470">
            <span class="hits">1</span>
            

            

            <code class="ruby">			return errors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="473">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_photo</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="474">
            <span class="hits">3</span>
            

            

            <code class="ruby">			if File.file?(params[:file])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">				# The data is a file upload coming from &lt;input type=&quot;file&quot; /&gt;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="476">
            <span class="hits">1</span>
            

            

            <code class="ruby">				@technician.avatar.attach(params[:file])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">				# Generate a url for easy display on the front end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="478">
            <span class="hits">1</span>
            

            

            <code class="ruby">				@technician.photo = url_for(@technician.avatar)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="479">
            <span class="hits">1</span>
            

            

            <code class="ruby">				@technician.save</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="480">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="482">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="483">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_activities</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="484">
            <span class="hits">3</span>
            

            

            <code class="ruby">			new_activities = params[:activities].split(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="485">
            <span class="hits">3</span>
            

            

            <code class="ruby">			@technician.activities.destroy_all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="486">
            <span class="hits">3</span>
            

            

            <code class="ruby">			new_activities.each do |activity|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="487">
            <span class="hits">1</span>
            

            

            <code class="ruby">				new_activity = Activity.find_by(name: activity)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="488">
            <span class="hits">1</span>
            

            

            <code class="ruby">				unless new_activity.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="489">
            <span class="hits">1</span>
            

            

            <code class="ruby">					@technician.activities &lt;&lt; new_activity</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="492">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="493">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="494">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_taxons</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="496">
            <span class="hits">3</span>
            

            

            <code class="ruby">			installation = ApiSingleton.taxon_names_api(params[:checkedinstallation])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="497">
            <span class="hits">3</span>
            

            

            <code class="ruby">			maintenance = ApiSingleton.taxon_names_api(params[:checkedmaintenance])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="498">
            <span class="hits">3</span>
            

            

            <code class="ruby">			repair = ApiSingleton.taxon_names_api(params[:checkedrepair])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="499">
            <span class="hits">3</span>
            

            

            <code class="ruby">			diagnosis = ApiSingleton.taxon_names_api(params[:checkeddiagnosis])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="500">
            <span class="hits">3</span>
            

            

            <code class="ruby">			home_program = ApiSingleton.taxon_names_api(params[:checkedhome_program])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="501">
            <span class="hits">3</span>
            

            

            <code class="ruby">			delivery = ApiSingleton.taxon_names_api(params[:checkeddelivery])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="503">
            <span class="hits">3</span>
            

            

            <code class="ruby">			to_taxon_family(@technician, installation, &quot;installation&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="504">
            <span class="hits">3</span>
            

            

            <code class="ruby">			to_taxon_family(@technician, maintenance, &quot;maintenance&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="505">
            <span class="hits">3</span>
            

            

            <code class="ruby">			to_taxon_family(@technician, repair, &quot;repair&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="506">
            <span class="hits">3</span>
            

            

            <code class="ruby">			to_taxon_family(@technician, diagnosis, &quot;diagnosis&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="507">
            <span class="hits">3</span>
            

            

            <code class="ruby">			to_taxon_family(@technician, home_program, &quot;home_program&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="508">
            <span class="hits">3</span>
            

            

            <code class="ruby">			to_taxon_family(@technician, delivery, &quot;delivery&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="510">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="511">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_events</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="512">
            <span class="hits">3</span>
            

            

            <code class="ruby">			unless @technician.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="513">
            
            

            

            <code class="ruby">				begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="514">
            <span class="hits">3</span>
            

            

            <code class="ruby">					new_events = JSON.parse(params[:technicians_events])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby">				rescue</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="516">
            <span class="hits">1</span>
            

            

            <code class="ruby">					new_events = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="517">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="518">
            <span class="hits">3</span>
            

            

            <code class="ruby">				ApiSingleton.create_technician_events_api(@technician.id, @technician.user.country, new_events) if new_events.any?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="522">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def to_taxon_family(technician, taxon_array, family_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="523">
            <span class="hits">18</span>
            

            

            <code class="ruby">			technician.technician_taxons.where(taxon_type: family_name).destroy_all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="524">
            <span class="hits">18</span>
            

            

            <code class="ruby">			if !taxon_array.nil? &amp;&amp; taxon_array.size &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="525">
            <span class="hits">18</span>
            

            

            <code class="ruby">				taxon_array.each do |taxon|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="526">
            <span class="hits">18</span>
            

            

            <code class="ruby">					new_taxon = technician.technician_taxons.new(taxon_id: taxon[&quot;id&quot;], taxon_name: taxon[&quot;name&quot;], taxon_type: family_name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="527">
            <span class="hits">18</span>
            

            

            <code class="ruby">					unless new_taxon.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="528">
            <span class="hits">18</span>
            

            

            <code class="ruby">						new_taxon.save</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="529">
            
            

            

            <code class="ruby">					end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="532">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="533">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="534">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def open_spreadsheet(file)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="535">
            <span class="hits">1</span>
            

            

            <code class="ruby">            case File.extname(file.original_filename)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="536">
            
            

            

            <code class="ruby">            when &quot;.csv&quot; then Roo::Csv.new(file.path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="537">
            
            

            

            <code class="ruby">            when &quot;.xls&quot; then Roo::Excel.new(file.path)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="538">
            <span class="hits">1</span>
            

            

            <code class="ruby">            when &quot;.xlsx&quot; then Roo::Excelx.new(file.path)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="539">
            
            

            

            <code class="ruby">            else &quot;El archivo no es del tipo correcto: #{file.original_filename}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="540">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="541">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="543">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e299a2aa73bef97f1ee0c9d9a4ff063f16ec6649">
  <div class="header">
    <h3>app/controllers/api/v1/users_controller.rb</h3>
    <h4>
      <span class="yellow">
  84.97%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>153</b> relevant lines.
      <span class="green"><b>130</b> lines covered</span> and
      <span class="red"><b>23</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::UsersController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	protect_from_forgery with: :null_session</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	before_action :set_user, only: [:show, :edit, :update, :destroy, :notifications, :notification_read, :notifications_unread]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :save_roles, only: [:create, :update]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">	after_action :save_countries, only: [:create, :update]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/users&quot;, &quot;Retorna los usuarios filtrados y paginados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :page, String, :desc =&gt; &quot;Pagina consultada 1..n&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :per_page, String, :desc =&gt; &quot;Resultados por paǵina esperados&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :keywords, String, :desc =&gt; &quot;Filtro de texto para encontrar al usuario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users?page=2\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">            page: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">            per_page: 10,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">            data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">                {... user},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">                {... user}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">            ],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">            total: 48</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="36">
            <span class="hits">9</span>
            

            

            <code class="ruby">		response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="37">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;page&quot;] = params[:page].blank? ? 1 : params[:page].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="38">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;per_page&quot;] = params[:per_page].blank? ? 10 : params[:per_page].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="39">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    users = (params[:keywords].blank? ? User : User.search(params[:keywords]))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="40">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    users = users.order(created_at: :desc).paginate(page: params[:page], per_page: params[:per_page])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="41">
            <span class="hits">9</span>
            

            

            <code class="ruby">		response[&quot;data&quot;] = users</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="42">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    response[&quot;total&quot;] = users.total_entries</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="9" data-linenumber="43">
            <span class="hits">9</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/users/:id&quot;, &quot;Retorna un usuarios mediante su ID&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del usuario consultado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">			firstname: &#39;TESTF&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">			lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">			created_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">			updated_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">			email: &#39;TESTF@TEST.TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">			surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">			cellphone: &#39;(+56) 23423424 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">			phone: &#39;(+56) 23434234 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">			cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">			role_id: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">			worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">			photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">			api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">			customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">			from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">			country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">			get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">			countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">					id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">					name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">					iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">					created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">			fullname: &#39;TESTF TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def show</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="84">
            <span class="hits">6</span>
            

            

            <code class="ruby">  	   response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="85">
            <span class="hits">6</span>
            

            

            <code class="ruby">  	   response[&quot;data&quot;] = @user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="86">
            <span class="hits">6</span>
            

            

            <code class="ruby">	   render json: response.to_json(include: [:roles, :countries, :technician])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/users&quot;, &quot;CREA un usuario en Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :firstname, String, :desc =&gt; &quot;firstname del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :lastname, String, :desc =&gt; &quot;lastname del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :email, String, :desc =&gt; &quot;email del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :password, String, :desc =&gt; &quot;password del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :surname, String, :desc =&gt; &quot;surname del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :cellphone, String, :desc =&gt; &quot;cellphone del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :phone, String, :desc =&gt; &quot;phone del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :cost_center, String, :desc =&gt; &quot;cost_center del nuevo usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :roleName, String, :desc =&gt; &quot;Nombre de los roles del usuario (Administrador, Contact Center, Technical Management, Field Service, Técnico, Cliente)&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :worktime, String, :desc =&gt; &quot;worktime del nuevo usuario  (Full Time, Part Time)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :country, String, :desc =&gt; &quot;Paises del usuario con su ISO separado por comas (CL,MX)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_user, String, :desc =&gt; &quot;Validador de creación de clientes en el CORE.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :rfc, String, :desc =&gt; &quot;RFC para mexico&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :rut, String, :desc =&gt; &quot;RUT para Chile&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">		id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">		firstname: &#39;TESTF&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">		lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">		created_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">		updated_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">		email: &#39;TESTF@TEST.TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">		surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">		cellphone: &#39;(+56) 23423424 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">		phone: &#39;(+56) 23434234 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">		cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">		role_id: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">		worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">		photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">		api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">		customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">		from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">		country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">		get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">		countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">				id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">				name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">				iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">		],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">		fullname: &#39;TESTF TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="137">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="139">
            <span class="hits">2</span>
            

            

            <code class="ruby">		@user = User.create(user_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="140">
            <span class="hits">2</span>
            

            

            <code class="ruby">		if @user.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="141">
            <span class="hits">1</span>
            

            

            <code class="ruby">			new_roles = (params[:roleName].split(&quot;,&quot;) rescue [])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if !params[:customer_user].blank? || new_roles.include?(&quot;Cliente&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">				customer_params_t = {</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="144">
            
            

            

            <code class="ruby">					names: user_params[:firstname],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">					lastname: user_params[:lastname],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">					surname: user_params[:surname], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">					email: user_params[:email], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">					#zipcode: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">					#state: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">					#delegation: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">					#colony: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">					#street_type: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">					#street_name: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">					#ext_number: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby">					#int_number: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">					phone: user_params[:phone],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">					cellphone: user_params[:cellphone],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">					#reference: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">					#business_name: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby">					rfc: params[:rfc].to_s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">					#email_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">					#zipcode_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">					#state_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">					#delegation_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">					#colony_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">					#street_type_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">					#street_name_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">					#ext_number_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">					#int_number_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">					#phone_fn: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">					#person_type: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="172">
            
            

            

            <code class="ruby">					country: (params[:country].split(&quot;,&quot;)[0] rescue &quot;&quot;),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">					rut: params[:rut].to_s,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">					email2: params[:email2],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">					#commercial_business: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">					#tradename: &quot;&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">					#customer_id: &quot;&quot;				</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="179">
            
            

            

            <code class="ruby">				@customer = ApiSingleton.create_customer_api(customer_params_t)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="180">
            
            

            

            <code class="ruby">				if (@customer[&quot;id&quot;] rescue false)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="181">
            
            

            

            <code class="ruby">					@user.customer_id = @customer[&quot;id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="182">
            
            

            

            <code class="ruby">					@user.save</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            <span class="hits">1</span>
            

            

            <code class="ruby">	      	render json: @user.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">		else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="187">
            <span class="hits">1</span>
            

            

            <code class="ruby">	      	render json: @user.errors.full_messages, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="191">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/users/:id&quot;, &quot;ACTUALIZA un usuario en Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="192">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :ID, String, :desc =&gt; &quot;ID del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="193">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :firstname, String, :desc =&gt; &quot;firstname del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="194">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :lastname, String, :desc =&gt; &quot;lastname del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="195">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :email, String, :desc =&gt; &quot;email del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :password, String, :desc =&gt; &quot;password del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="197">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :surname, String, :desc =&gt; &quot;surname del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="198">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :cellphone, String, :desc =&gt; &quot;cellphone del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="199">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :phone, String, :desc =&gt; &quot;phone del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :cost_center, String, :desc =&gt; &quot;cost_center del usuario&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :roleName, String, :desc =&gt; &quot;Nombre de los roles del usuario (Administrador, Contact Center, Technical Management, Field Service, Técnico)&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="202">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :worktime, String, :desc =&gt; &quot;worktime del usuario  (Full Time, Part Time)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="203">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :country, String, :desc =&gt; &quot;Paises del usuario con su ISO separado por comas (CL,MX)&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">		id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">		firstname: &#39;TESTF Updated&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">		lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">		created_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">		updated_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">		email: &#39;TESTF@TEST.TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">		surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">		cellphone: &#39;(+56) 23423424 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">		phone: &#39;(+56) 23434234 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">		cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">		role_id: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">		worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">		photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">		api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">		customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">		from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">		country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">		get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">		countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">				id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">				name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">				iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">		],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">		fullname: &#39;TESTF Updated TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="237">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="238">
            <span class="hits">2</span>
            

            

            <code class="ruby">  		new_user_params = user_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="239">
            <span class="hits">2</span>
            

            

            <code class="ruby">		new_user_params = user_params.except(:password) if user_params[:password].blank? </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="241">
            <span class="hits">2</span>
            

            

            <code class="ruby">		if @user.update(new_user_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            <span class="hits">1</span>
            

            

            <code class="ruby">			bypass_sign_in(@user) if (current_user &amp;&amp; (current_user.try(:id) == @user.try(:id)))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">			render json: @user.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">	    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">	      render json: @user.errors.full_messages, status: :bad_request</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="249">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :DELETE, &quot;/v1/users/:id&quot;, &quot;ELIMINA un usuario en Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :ID, String, :desc =&gt; &quot;ID del usuario&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="251">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">		{ user_id: 1, message: &#39;User deleted!&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="255">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="256">
            <span class="hits">1</span>
            

            

            <code class="ruby">  		user_id = @user.id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="257">
            <span class="hits">1</span>
            

            

            <code class="ruby">  		@user&amp;.destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="258">
            <span class="hits">1</span>
            

            

            <code class="ruby">    	render json: {user_id: user_id, message: &#39;User deleted!&#39; }.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">	  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="261">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/user_unique_ids&quot;, &quot;Retorna los ID de usuarios desde el CORE&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/user_unique_ids\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">	Salida: </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">	  data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">				uniqueId: &#39;CODE1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">				name: &#39;NAME1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">				lastname: &#39;APP1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-04T00:52:20.841Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-04T00:52:20.841Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">				classification: &#39;CLASS1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">				fullname: &#39;CODE1 - NAME1 APP1&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">				id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">				uniqueId: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">				name: &#39;NAME2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">				lastname: &#39;APP2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-04T00:52:20.853Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-04T00:52:20.853Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">				classification: &#39;CLASS2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">				fullname: &#39;CODE2 - NAME2 APP2&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">				id: 3,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">				uniqueId: &#39;CODE3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">				name: &#39;NAME3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">				lastname: &#39;APP3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-04T00:52:36.439Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-04T00:52:36.439Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">				classification: &#39;CLASS3&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">				fullname: &#39;CODE3 - NAME3 APP3&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="302">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def user_unique_ids</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="303">
            <span class="hits">4</span>
            

            

            <code class="ruby">		response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="304">
            <span class="hits">4</span>
            

            

            <code class="ruby">	    response = ApiSingleton.user_unique_ids_api</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="305">
            <span class="hits">4</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="307">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/cost_centers&quot;, &quot;Retorna los centro de costos desde el CORE&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="308">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/cost_centers\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">	Salida: </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">		data: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">				code: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">				name: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-03T22:57:20.566Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-03T22:57:20.566Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">				fullname: &#39;test1 - test1&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="319">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby">			{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="321">
            
            

            

            <code class="ruby">				id: 2,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">				code: &#39;test2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">				name: &#39;test2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">				created_at: &#39;2020-09-03T22:57:20.577Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-09-03T22:57:20.577Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby">				fullname: &#39;test2 - test2&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="327">
            
            

            

            <code class="ruby">			},</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="328">
            
            

            

            <code class="ruby">			{...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="329">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="332">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def	cost_centers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="333">
            <span class="hits">4</span>
            

            

            <code class="ruby">		response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="334">
            <span class="hits">4</span>
            

            

            <code class="ruby">	    response = ApiSingleton.cost_centers_api</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="335">
            <span class="hits">4</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="337">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="339">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/users/:id/notifications&quot;, &quot;Retorna las notificaciones de un usuario mediante su ID&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="340">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del usuario consultado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="341">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="344">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="345">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="346">
            
            

            

            <code class="ruby">			firstname: &#39;TESTF&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="347">
            
            

            

            <code class="ruby">			lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">			created_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="349">
            
            

            

            <code class="ruby">			updated_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">			email: &#39;TESTF@TEST.TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="351">
            
            

            

            <code class="ruby">			surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="352">
            
            

            

            <code class="ruby">			cellphone: &#39;(+56) 23423424 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="353">
            
            

            

            <code class="ruby">			phone: &#39;(+56) 23434234 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">			cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="355">
            
            

            

            <code class="ruby">			role_id: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">			worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby">			photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">			api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="359">
            
            

            

            <code class="ruby">			customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="360">
            
            

            

            <code class="ruby">			from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="361">
            
            

            

            <code class="ruby">			country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="362">
            
            

            

            <code class="ruby">			get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">			countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="364">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">					id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="366">
            
            

            

            <code class="ruby">					name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="367">
            
            

            

            <code class="ruby">					iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="368">
            
            

            

            <code class="ruby">					created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="369">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="370">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="371">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="372">
            
            

            

            <code class="ruby">			fullname: &#39;TESTF TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="373">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="374">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="375">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="376">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def notifications</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="377">
            
            

            

            <code class="ruby">  	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="378">
            
            

            

            <code class="ruby">  	    response[&quot;page&quot;] = params[:page].blank? ? 1 : params[:page].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="379">
            
            

            

            <code class="ruby">	    response[&quot;per_page&quot;] = params[:per_page].blank? ? 10 : params[:per_page].to_i</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="380">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="381">
            
            

            

            <code class="ruby">		notifications = @user.notifications.newest_first</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="382">
            
            

            

            <code class="ruby">		notifications = notifications.search(params[:keywords]) unless params[:keywords].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="383">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="384">
            
            

            

            <code class="ruby">		unless params[:filter_value].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="385">
            
            

            

            <code class="ruby">			if params[:filter_value] == &quot;Leídos&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="386">
            
            

            

            <code class="ruby">				notifications = notifications.read</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="387">
            
            

            

            <code class="ruby">			elsif params[:filter_value] ==	&quot;No leídos&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="388">
            
            

            

            <code class="ruby">				notifications = notifications.unread</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="390">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="391">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="392">
            
            

            

            <code class="ruby">	    notifications = notifications.paginate(page: params[:page], per_page: params[:per_page]) rescue []</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="393">
            
            

            

            <code class="ruby">	    response[&quot;data&quot;] = (notifications.nil? ? [] : notifications)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="394">
            
            

            

            <code class="ruby">	    response[&quot;total&quot;] = notifications.total_entries rescue 0</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="395">
            
            

            

            <code class="ruby">	   render json: response.to_json(include: [:recipient], methods: [:read, :unread, :days])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="397">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="398">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/users/:id/notifications/:notification_id/read&quot;, &quot;Marca una notificacion como leída&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="399">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del usuario consultado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="400">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :notification_id, String, :desc =&gt; &quot;ID de la notificación&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="401">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users/1/notifications/1/read\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="402">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="404">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="405">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="406">
            
            

            

            <code class="ruby">			firstname: &#39;TESTF&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">			lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="408">
            
            

            

            <code class="ruby">			created_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">			updated_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby">			email: &#39;TESTF@TEST.TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">			surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="412">
            
            

            

            <code class="ruby">			cellphone: &#39;(+56) 23423424 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="413">
            
            

            

            <code class="ruby">			phone: &#39;(+56) 23434234 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="414">
            
            

            

            <code class="ruby">			cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="415">
            
            

            

            <code class="ruby">			role_id: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">			worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="417">
            
            

            

            <code class="ruby">			photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">			api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="419">
            
            

            

            <code class="ruby">			customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="420">
            
            

            

            <code class="ruby">			from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="421">
            
            

            

            <code class="ruby">			country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">			get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="423">
            
            

            

            <code class="ruby">			countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby">					id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="426">
            
            

            

            <code class="ruby">					name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="427">
            
            

            

            <code class="ruby">					iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="428">
            
            

            

            <code class="ruby">					created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="429">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="431">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">			fullname: &#39;TESTF TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="433">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="434">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="435">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="436">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def notification_read</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="437">
            
            

            

            <code class="ruby">		notification = @user.notifications.find_by_id(params[:notification_id])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="438">
            
            

            

            <code class="ruby">		notification.mark_as_read! if notification</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="439">
            
            

            

            <code class="ruby">	   	render json: notification.to_json(include: [:recipient], methods: [:read, :unread, :days])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="441">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="442">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="443">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/users/:id/notifications_unread&quot;, &quot;Retorna las notificaciones no leidas de un usuario mediante su ID&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="444">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del usuario consultado&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="445">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/users/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="446">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">	{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="448">
            
            

            

            <code class="ruby">		data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="449">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="450">
            
            

            

            <code class="ruby">			firstname: &#39;TESTF&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">			lastname: &#39;TESTL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="452">
            
            

            

            <code class="ruby">			created_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">			updated_at: &#39;20/11/2020 11:26:05&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby">			email: &#39;TESTF@TEST.TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">			surname: &#39;TESTS&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby">			cellphone: &#39;(+56) 23423424 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="457">
            
            

            

            <code class="ruby">			phone: &#39;(+56) 23434234 &#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="458">
            
            

            

            <code class="ruby">			cost_center: &#39;test1&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="459">
            
            

            

            <code class="ruby">			role_id: &#39;CODE2&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="460">
            
            

            

            <code class="ruby">			worktime: &#39;Full-Time&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">			photo: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="462">
            
            

            

            <code class="ruby">			api_key: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">			customer_id: null,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="464">
            
            

            

            <code class="ruby">			from_auth: &#39;&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="465">
            
            

            

            <code class="ruby">			country: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="466">
            
            

            

            <code class="ruby">			get_roles_names: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="467">
            
            

            

            <code class="ruby">			countries: [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="468">
            
            

            

            <code class="ruby">				{</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="469">
            
            

            

            <code class="ruby">					id: 22,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">					name: &#39;Chile&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="471">
            
            

            

            <code class="ruby">					iso: &#39;CL&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">					created_at: &#39;2020-09-01T14:03:12.703-05:00&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby">					updated_at: &#39;2020-09-01T14:03:12.703-05:00&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby">				}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="475">
            
            

            

            <code class="ruby">			],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="476">
            
            

            

            <code class="ruby">			fullname: &#39;TESTF TESTL TESTS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="477">
            
            

            

            <code class="ruby">		}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="478">
            
            

            

            <code class="ruby">	}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">	&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="480">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def notifications_unread</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="202" data-linenumber="481">
            <span class="hits">202</span>
            

            

            <code class="ruby">  	    response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="202" data-linenumber="482">
            <span class="hits">202</span>
            

            

            <code class="ruby">		notifications = @user.notifications.newest_first.unread</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="202" data-linenumber="483">
            <span class="hits">202</span>
            

            

            <code class="ruby">  	    response[&quot;data&quot;] = (notifications.nil? ? [] : notifications)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="202" data-linenumber="484">
            <span class="hits">202</span>
            

            

            <code class="ruby">	    render json: response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="485">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="486">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="487">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="488">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="489">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  	def set_user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="211" data-linenumber="490">
            <span class="hits">211</span>
            

            

            <code class="ruby">      		@user = User.find_by(id: params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="491">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="492">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  	def user_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="493">
            <span class="hits">7</span>
            

            

            <code class="ruby">		    params.permit(:id, :firstname, :lastname, :email, :password, :surname, :cellphone, :phone, :cost_center, :role_id, :worktime)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="495">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="497">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_roles</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="498">
            <span class="hits">4</span>
            

            

            <code class="ruby">			if params[:roleName]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="499">
            <span class="hits">4</span>
            

            

            <code class="ruby">				new_roles = params[:roleName].split(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="500">
            <span class="hits">4</span>
            

            

            <code class="ruby">				@user.roles.destroy_all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="501">
            <span class="hits">4</span>
            

            

            <code class="ruby">				new_roles.each do |role|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="502">
            <span class="hits">2</span>
            

            

            <code class="ruby">					new_role = Role.find_by(name: role)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="503">
            <span class="hits">2</span>
            

            

            <code class="ruby">					unless new_role.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="504">
            <span class="hits">2</span>
            

            

            <code class="ruby">						@user.roles &lt;&lt; new_role</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="505">
            
            

            

            <code class="ruby">					end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="506">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="507">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="508">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="509">
            
            

            

            <code class="ruby">		  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="510">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def save_countries</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="511">
            <span class="hits">4</span>
            

            

            <code class="ruby">			if params[:country]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="512">
            <span class="hits">4</span>
            

            

            <code class="ruby">				new_countries = params[:country].split(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="513">
            <span class="hits">4</span>
            

            

            <code class="ruby">				@user.countries.destroy_all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="514">
            <span class="hits">4</span>
            

            

            <code class="ruby">				new_countries.each do |country|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="515">
            <span class="hits">2</span>
            

            

            <code class="ruby">					new_country = Country.find_by(iso: country)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="516">
            <span class="hits">2</span>
            

            

            <code class="ruby">					unless new_country.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="517">
            <span class="hits">2</span>
            

            

            <code class="ruby">						@user.countries &lt;&lt; new_country</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="518">
            
            

            

            <code class="ruby">					end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="519">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="521">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6e0cdb920085db2d0643e4fca91ca04eabae3038">
  <div class="header">
    <h3>app/controllers/api/v1/visits_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>102</b> relevant lines.
      <span class="green"><b>102</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Api::V1::VisitsController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    protect_from_forgery with: :null_session, only: [:show, :technicians, :update, :start_visit, :assign_spare_parts, :received_spare_parts, :technician_spare_parts, :technician_all_spare_parts, :finish_visit, :arrival_visit, :request_spare_parts, :requested_spare_parts]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    skip_before_action :authenticate_user!, only: [:show, :technicians, :update, :start_visit, :assign_spare_parts, :received_spare_parts, :technician_spare_parts, :technician_all_spare_parts, :finish_visit, :arrival_visit, :request_spare_parts, :requested_spare_parts]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    include ActionController::HttpAuthentication::Token::ControllerMethods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :authenticate, only: [:show, :technicians, :update, :start_visit, :assign_spare_parts, :received_spare_parts, :technician_spare_parts, :technician_all_spare_parts, :finish_visit, :arrival_visit, :request_spare_parts, :requested_spare_parts]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :GET, &quot;/v1/visits/:id&quot;, &quot;Lista todos precios de viaticos de Miele o filtrados por pais y zona&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la visita a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def show</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    visit = ApiSingleton.get_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/visits/:id/technicians&quot;, &quot;Lista los técnicos de la visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la visita a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def technicians</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    visit = ApiSingleton.get_visit_api(visits_params)[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">		technicians_ids = visit[&quot;calendar_events&quot;].collect{|calendar_events| calendar_events[&quot;object_id&quot;]} rescue []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response[&quot;data&quot;] =  Technician.where(id: technicians_ids)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  response.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :PATCH, &quot;/v1/visits/:id&quot;, &quot;Actualiza una visita para un cliente en miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la visita a actualizar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_channel, String, :desc =&gt; &quot;Canal por el cual se realizó el pago de la visita. Si se requiere validar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_date, String, :desc =&gt; &quot;Fecha limite de pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_payment_date, String, :desc =&gt; &quot;Fecha efectiva de pago&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :payment_files, Array, :desc =&gt; &quot;Array de archivos asociados al pago payment_files:[{uri: [path de la imagen], mime: [formato], uri_64: [imagen en base 64], filename: [nombre imagen}]&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    visit = ApiSingleton.get_update_visit_api(update_visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/visits/:id/start&quot;, &quot;Inicia una visita, para un cliente Miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la visita a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def start_visit</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    visit = ApiSingleton.get_start_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/visits/:id/finish&quot;, &quot;Finaliza una visita, para un cliente Miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la visita a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def finish_visit</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">		visit = ApiSingleton.get_visit_api({ id: visits_params[:id]})[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">		customer = ApiSingleton.get_customer_api(visit[&quot;customer_id&quot;])[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">		emails = customer[&quot;email&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">		unless customer[&quot;additionals&quot;].empty? || </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">			customer[&quot;additionals&quot;].each do |additional|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">				emails += &quot;,#{additional[&quot;email&quot;]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">		begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">			NotificationMailer.visit_report_email(emails, visit[&quot;service_id&quot;].to_s, visit[&quot;id&quot;]).deliver_now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">		rescue </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts &quot;No se ha podido enviar el email.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    visit = ApiSingleton.get_finish_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/visits/:id/arrival&quot;, &quot;Avisa la llegada al domicilio de una visita, para un cliente Miele&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">    param :id, String, :desc =&gt; &quot;ID de la visita a consultar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def arrival_visit</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    visit = ApiSingleton.get_arrival_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    api :POST, &quot;/v1/visits/:id/assign_spare_parts&quot;, &quot;Asigna refacciones a un técnico en una visita en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID de la visita al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_spare_part_id, String, :desc =&gt; &quot;IDs de la refaccion&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quantity, String, :desc =&gt; &quot;Cantidad a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/visits/1/assign_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">			visit_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def assign_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@visit_spare_parts = ApiSingleton.get_assign_visit_spare_parts_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  @visit_spare_parts.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/visits/:id/received_spare_parts&quot;, &quot;Recepciona refacciones a un técnico en una visita en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID de la visita al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :visit_spare_part_ids, String, :desc =&gt; &quot;IDs de la refaccionnes separados por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a recepcionar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/visits/1/received_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">			visit_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def received_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="154">
            <span class="hits">1</span>
            

            

            <code class="ruby">		requested_visit_spare_parts = ApiSingleton.get_received_visit_spare_parts_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  requested_visit_spare_parts.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="159">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/visits/:id/technician_spare_parts/:technician_id&quot;, &quot;Trae las refacciones de un técnico en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del servicio al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/visits/1/technician_spare_parts/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">			service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="181">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="186">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="194">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def technician_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="195">
            <span class="hits">1</span>
            

            

            <code class="ruby">		visit_products = ApiSingleton.get_technician_visit_products_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit_products.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/technician_all_spare_parts/:technician_id&quot;, &quot;Trae todas refacciones de un técnico en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :technician_id, String, :desc =&gt; &quot;ID del tecnico a asignar&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="202">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/technician_all_spare_parts/1\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">    {	[</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">			id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">			service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">			product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">			quantity: 2</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">			technician_id: 1 </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">			created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">			updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">			product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">				id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">				country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">				platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">				tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">				ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">				profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">				name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">				description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">				mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">				product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby">				created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">				updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">				additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">				home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="227">
            
            

            

            <code class="ruby">				taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby">				product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">				country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">			}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">		]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="234">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def technician_all_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">		visit_products = ApiSingleton.get_technician_visit_all_products_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="236">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  visit_products.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="241">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :POST, &quot;/v1/visits/:id/request_spare_parts&quot;, &quot;Solicita refacciones en una visita en Miele Core&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID de la visita al que pertenece la refacción&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :products, String, :desc =&gt; &quot;Array de ids de productos de refacción&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :customer_product_id, String, :desc =&gt; &quot;ID del producto al que se le van a solicitar las refacciones&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :quantities, String, :desc =&gt; &quot;Cantidades a asignar separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="246">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :warranties, String, :desc =&gt; &quot;Garantiás de las refacciones separadas por ,&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="247">
            <span class="hits">1</span>
            

            

            <code class="ruby">	example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/visits/1/request_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">    {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">        id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">        service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">        product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">		visit_id: 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">        created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">        updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby">		status: &#39;requested&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">		requested_quantity: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">        product: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">            country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">            platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">            tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">            ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">            profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">            name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">            description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby">            mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">            product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="269">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">            additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">            home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">            taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">            product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby">            country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="279">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def request_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="280">
            <span class="hits">1</span>
            

            

            <code class="ruby">		@service_products = ApiSingleton.get_request_spare_parts_visit_api(request_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="281">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    render json:  @service_products.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="284">
            <span class="hits">1</span>
            

            

            <code class="ruby">	api :GET, &quot;/v1/visits/:id/requested_spare_parts&quot;, &quot;Trae las refacciones asociadas de una visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="285">
            <span class="hits">1</span>
            

            

            <code class="ruby">	param :id, String, :desc =&gt; &quot;ID del de visita&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="286">
            <span class="hits">1</span>
            

            

            <code class="ruby">    example &quot;Request: &quot;+Rails.application.config.site_url+&quot;/api/v1/visits/1/requested_spare_parts\n</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">	Salida:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">    [</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">        {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">            id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">            service_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">            product_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">			visit_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">            created_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">            updated_at: &#39;2020-10-29T13:22:43.886Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">            spare_part: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">                id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby">                country_id: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">                platform: &#39;Tickets&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">                tnr: &#39;test_tnr&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">                ean: &#39;test_ean&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">                profit_center: &#39;123&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">                name: &#39;Aspiradora test&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">                description: &#39;Aspirador test desc.&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby">                mandatory: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">                product_type: &#39;TEST&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby">                created_at: &#39;2020-10-05T22:38:36.457Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">                updated_at: &#39;2020-11-12T21:36:30.238Z&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">                additional: false,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">                home_program_hours: 1,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">                taxons: [{...}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="312">
            
            

            

            <code class="ruby">                product_prices: [{..}],</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="313">
            
            

            

            <code class="ruby">                country: {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="315">
            
            

            

            <code class="ruby">        },</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">        {...}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby">    ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby">    &quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="319">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def requested_spare_parts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="320">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="321">
            <span class="hits">1</span>
            

            

            <code class="ruby">		requested_visit_spare_parts = ApiSingleton.get_requested_visit_spare_parts_api(request_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="322">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="323">
            <span class="hits">1</span>
            

            

            <code class="ruby">		render json: requested_visit_spare_parts.to_json</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="324">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="326">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="327">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="328">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def visits_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="329">
            <span class="hits">10</span>
            

            

            <code class="ruby">            params.permit(:id, :visit_spare_part_id, :visit_spare_part_ids, :technician_id, :quantity )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="330">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="331">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="332">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def request_spare_parts_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="333">
            <span class="hits">2</span>
            

            

            <code class="ruby">            params.permit(:id, :products, :quantities, :warranties, :customer_product_id )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="334">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="336">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="337">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def update_visits_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="338">
            <span class="hits">1</span>
            

            

            <code class="ruby">            params.permit(:id, :payment_channel,:payment_date,:customer_payment_date, payment_files: [] )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="339">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5aed16e5837c37dd9b15c2660e7653fd7e882d9d">
  <div class="header">
    <h3>app/controllers/application_controller.rb</h3>
    <h4>
      <span class="green">
  92.86%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>28</b> relevant lines.
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>2</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class ApplicationController &lt; ActionController::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	before_action :authenticate_user!, except: [:sign_in]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  protect_from_forgery with: :exception</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  rescue_from CanCan::AccessDenied do |exception|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    respond_to do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">	      format.json { head :forbidden, content_type: &#39;text/html&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="9">
            <span class="hits">2</span>
            

            

            <code class="ruby">	      format.html { redirect_back fallback_location: root_path, alert: t(:unauhtorized_notice)}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">	      format.js   { head :forbidden, content_type: &#39;text/html&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  def index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  def after_sign_in_path_for(resource_or_scope)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="29" data-linenumber="18">
            <span class="hits">29</span>
            

            

            <code class="ruby">	    main_app.home_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  def after_sign_out_path_for(resource_or_scope)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    login_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  def after_resetting_password_path_for(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">		Devise.sign_in_after_reset_password ? new_session_path(resource_name) : new_session_path(resource_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  def current_ability</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="283" data-linenumber="30">
            <span class="hits">283</span>
            

            

            <code class="ruby">	    @current_ability ||= Ability.new(current_user, params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">	  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">	  protected</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">		# Authenticate the user with token based authentication</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def authenticate</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="631" data-linenumber="37">
            <span class="hits">631</span>
            

            

            <code class="ruby">			authenticate_token || render_unauthorized</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def authenticate_token</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="631" data-linenumber="41">
            <span class="hits">631</span>
            

            

            <code class="ruby">			if current_user.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">				authenticate_with_http_token do |token, options|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">					@current_user = User.find_by(api_key: token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="630" data-linenumber="46">
            <span class="hits">630</span>
            

            

            <code class="ruby">				current_user</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">		def render_unauthorized(realm = &quot;Application&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">			self.headers[&quot;WWW-Authenticate&quot;] = %(Token realm=&quot;#{realm}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">			render json: &#39;{&quot;error&quot;: &quot;Ingreso no autorizado&quot;}&#39;, status: :unauthorized</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a115c80620e20b48e2109b4da1cf3ef77e60af4a">
  <div class="header">
    <h3>app/controllers/home_controller.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>4</b> relevant lines.
      <span class="green"><b>4</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class HomeController &lt; ApplicationController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	load_and_authorize_resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def index</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def denied</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8bdbb856608e180a0933485049ef02eb1efc4578">
  <div class="header">
    <h3>app/controllers/users/passwords_controller.rb</h3>
    <h4>
      <span class="yellow">
  85.19%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>27</b> relevant lines.
      <span class="green"><b>23</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Users::PasswordsController &lt; Devise::PasswordsController</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  skip_before_action :authenticate_user!, only: [:thanks]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  # GET /resource/password/new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # def new</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  #   super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  # POST /resource/password</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def create</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="12">
            <span class="hits">2</span>
            

            

            <code class="ruby">    user = User.find_by(email: params[:user][:email])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="13">
            <span class="hits">2</span>
            

            

            <code class="ruby">    unless user.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">        unless params[:from].blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">            user.update(from_auth: params[:from])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">            user.update(from_auth: &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="20">
            <span class="hits">2</span>
            

            

            <code class="ruby">    super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  # GET /resource/password/edit?reset_password_token=abcdef</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  # def edit</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  #   super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  # PUT /resource/password</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def update</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="30">
            <span class="hits">3</span>
            

            

            <code class="ruby">    self.resource = resource_class.reset_password_by_token(resource_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="31">
            <span class="hits">3</span>
            

            

            <code class="ruby">    yield resource if block_given?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="32">
            <span class="hits">3</span>
            

            

            <code class="ruby">    if resource.errors.empty?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">      resource.unlock_access! if unlockable?(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">      if resource.try(:from_auth) == &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if Devise.sign_in_after_reset_password</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">          flash_message = resource.active_for_authentication? ? :updated : :updated_not_active</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="37">
            <span class="hits">1</span>
            

            

            <code class="ruby">          set_flash_message!(:notice, flash_message)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">          resource.after_database_authentication</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">          sign_in(resource_name, resource)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">          set_flash_message!(:notice, :updated_not_active)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">        respond_with resource, location: after_resetting_password_path_for(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">        set_flash_message!(:notice, :updated_not_active)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="46">
            
            

            

            <code class="ruby">        respond_with resource, location: thanks_path(resource)  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="49">
            <span class="hits">2</span>
            

            

            <code class="ruby">      set_minimum_password_length</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="50">
            <span class="hits">2</span>
            

            

            <code class="ruby">      respond_with resource</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def thanks</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">  # protected</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">  # def after_resetting_password_path_for(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">  #   super(resource)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">  # The path used after sending reset password instructions</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  # def after_sending_reset_password_instructions_path_for(resource_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">  #   super(resource_name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="fb9b67f87aecd7e052c0d5facf7cee90e841c997">
  <div class="header">
    <h3>app/jobs/application_job.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class ApplicationJob &lt; ActiveJob::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  # Automatically retry jobs that encountered a deadlock</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">  # retry_on ActiveRecord::Deadlocked</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  # Most jobs are safe to ignore if the underlying records are no longer available</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # discard_on ActiveJob::DeserializationError</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b19110c43e314575816f72fffe859f070684469e">
  <div class="header">
    <h3>app/mailers/application_mailer.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>7</b> relevant lines.
      <span class="green"><b>7</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class ApplicationMailer &lt; ActionMailer::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  default from: Rails.application.secrets.mail_admin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  layout &#39;mailer&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  before_action :set_attachments</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def set_attachments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="8">
            <span class="hits">3</span>
            

            

            <code class="ruby">      attachments.inline[&#39;logo-mini.png&#39;] = File.read(Rails.root+&#39;app/assets/images/logo/logo-mini.png&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="70387a858c2c34cf21cb5005f714b26fb270446e">
  <div class="header">
    <h3>app/mailers/devise_mailer.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>16</b> relevant lines.
      <span class="green"><b>16</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class DeviseMailer &lt; Devise::Mailer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    layout &#39;mailer&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    default from: Rails.application.secrets.mail_admin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :set_attachments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    before_action :check_params</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def welcome_email(user)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="7">
            <span class="hits">81</span>
            

            

            <code class="ruby">        @user      = user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="8">
            <span class="hits">81</span>
            

            

            <code class="ruby">        mail(to: @user.email,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">            subject: &quot;Creación usuario Miele Tickets&quot;) do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="162" data-linenumber="10">
            <span class="hits">162</span>
            

            

            <code class="ruby">            format.html { render &#39;devise/mailer/welcome_email&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def reset_password_instructions(record, token, opts={})</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="15">
            <span class="hits">4</span>
            

            

            <code class="ruby">        opts[:subject] = &#39;[Miele App Clientes] - Cambio de clave&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="16">
            <span class="hits">4</span>
            

            

            <code class="ruby">        super</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def check_params</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">            #@from = </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">        def set_attachments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="85" data-linenumber="26">
            <span class="hits">85</span>
            

            

            <code class="ruby">        attachments.inline[&#39;logo-mini.png&#39;] = File.read(Rails.root+&#39;app/assets/images/logo/logo-mini.png&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="eb451949ae148c20974ac6661d7d1e52f73f1335">
  <div class="header">
    <h3>app/mailers/notification_mailer.rb</h3>
    <h4>
      <span class="red">
  58.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>50</b> relevant lines.
      <span class="green"><b>29</b> lines covered</span> and
      <span class="red"><b>21</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class NotificationMailer &lt; ApplicationMailer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def policy_email(emails, customer_id, policy_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">         begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">              policy_params = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">              policy_params[:customer_id] = customer_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">              policy_params[:policy_id] = policy_id.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">              @policy = ApiSingleton.get_customer_policy_api(policy_params)[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">              consumables_params = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="11">
            <span class="hits">5</span>
            

            

            <code class="ruby">              consumables_params[:products_ids] = @policy[&quot;policy_customer_products&quot;].map{ | policy_customer_product| policy_customer_product[&quot;customer_product_id&quot;]}.join(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">              consumables_params[:country] = @policy[&quot;customer&quot;][&quot;country&quot;][&quot;iso&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">              @consumables = ApiSingleton.consumables_api(consumables_params)[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">          rescue </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">              @policy = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="16">
            
            

            

            <code class="ruby">              @consumables = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">        mail(to: emails,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">            subject: &quot;Creación de Póliza N° #{customer_id}-#{policy_id} para productos Miele&quot;) do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="20">
            <span class="hits">2</span>
            

            

            <code class="ruby">            format.html { render &#39;notification_mailer/policy_email&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def payment_email(emails, service_id, from = &quot;service&quot;, visit_id = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="26">
            
            

            

            <code class="ruby">            service_params_service = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="27">
            
            

            

            <code class="ruby">            service_params_service[:id] = service_id.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="28">
            
            

            

            <code class="ruby">            @service = ApiSingleton.service_api(service_params_service)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">            customer = ApiSingleton.get_customer_api(@service[&quot;customer_id&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="30">
            
            

            

            <code class="ruby">		    @country = customer[&quot;data&quot;][&quot;country&quot;][&quot;iso&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="31">
            
            

            

            <code class="ruby">            service_params_visit = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="32">
            
            

            

            <code class="ruby">            service_params_visit[:id] = @service[&quot;last_visit&quot;][&quot;id&quot;].to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="33">
            
            

            

            <code class="ruby">            @visit = ApiSingleton.get_visit_api(service_params_visit)[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="34">
            
            

            

            <code class="ruby">            @payment_url = &quot;#{Rails.configuration.site_url}/payments?object_id=#{@service[&quot;id&quot;]}&amp;object_class=Servicio&amp;customer_id=#{@service[&quot;customer_id&quot;]}&amp;amount=#{@service[&quot;total_amount&quot;]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">        rescue =&gt; exception</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="36">
            
            

            

            <code class="ruby">            @service = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="37">
            
            

            

            <code class="ruby">            @payment_url = &quot;#&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="39">
            
            

            

            <code class="ruby">        @pago = MoneyUtils.get_money_country_format(@service[&quot;total_amount&quot;],@country)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">        rute = &quot;notification_mailer/payment_email_#{@country}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">        mail(to: emails,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">            subject: &quot;Confirmación visita Miele&quot;) do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">            format.html { render rute }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def quotation_email(emails, quotation_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">            quotation_params = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">            quotation_params[:id] = quotation_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">            @quotation = ApiSingleton.get_quotation_api(quotation_params)[&quot;data&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">            @quotation_url = &quot;#{Rails.configuration.site_url}/quotations/#{quotation_params[:id]}/show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        rescue =&gt; exception</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">            @quotation_params = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">            @quotation_url = &quot;#&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">        mail(to: emails,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">            subject: &quot;Cotización de visita Miele&quot;) do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="60">
            <span class="hits">2</span>
            

            

            <code class="ruby">            format.html { render &#39;notification_mailer/quotation_email&#39; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def visit_report_email(emails, service_id, visit_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">            service_params = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">            service_params[:id] = service_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">            @service = ApiSingleton.service_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">            @report_url = &quot;#{Rails.configuration.site_url}/services/#{service_id}/report_pdf?visit_id=#{visit_id}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">            customer = ApiSingleton.get_customer_api(@service[&quot;customer_id&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">		    @country = customer[&quot;data&quot;][&quot;country&quot;][&quot;iso&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">        rescue =&gt; exception</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">            @service = nil</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="75">
            
            

            

            <code class="ruby">            @report_url = &quot;#&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">        mail(to: emails,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">            subject: &quot;Visita Finalizada Miele&quot;) do |format|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="79">
            <span class="hits">2</span>
            

            

            <code class="ruby">            format.html { render &quot;notification_mailer/visit_report_email_#{@country}&quot; }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d7a71c34ee1bbe3ac61b095546e9094c24c31b42">
  <div class="header">
    <h3>app/models/Calendar.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Calendar</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="208e84086aa67d169a80d1a4413b86a5ad0971ce">
  <div class="header">
    <h3>app/models/Customer.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Customer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="077653ed6c2c3c0cd39d683c1edb01a1a7858e1f">
  <div class="header">
    <h3>app/models/Survey.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Survey</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="b53c0c01551dc11d2c730cd7ae2f7d0eec9a0501">
  <div class="header">
    <h3>app/models/ability.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>25</b> relevant lines.
      <span class="green"><b>25</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Ability</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  include CanCan::Ability</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def initialize(user, params = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="5">
            <span class="hits">218</span>
            

            

            <code class="ruby">    if user.present?  # additional permissions for logged in users (they can manage their posts)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="6">
            <span class="hits">218</span>
            

            

            <code class="ruby">      if user.admin?  # additional permissions for administrators</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="211" data-linenumber="7">
            <span class="hits">211</span>
            

            

            <code class="ruby">        can :index, Home</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="211" data-linenumber="8">
            <span class="hits">211</span>
            

            

            <code class="ruby">        can :manage, Customer</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="211" data-linenumber="9">
            <span class="hits">211</span>
            

            

            <code class="ruby">        can :manage, Calendar</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="211" data-linenumber="10">
            <span class="hits">211</span>
            

            

            <code class="ruby">        can :manage, Survey</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="211" data-linenumber="11">
            <span class="hits">211</span>
            

            

            <code class="ruby">        can :manage, :all</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="12">
            <span class="hits">7</span>
            

            

            <code class="ruby">      elsif user.contact_center?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="13">
            <span class="hits">6</span>
            

            

            <code class="ruby">        can :manage, Technician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="14">
            <span class="hits">6</span>
            

            

            <code class="ruby">        can :manage, Calendar</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="15">
            <span class="hits">6</span>
            

            

            <code class="ruby">        can :index, Service</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="16">
            <span class="hits">6</span>
            

            

            <code class="ruby">        can :show, Service       </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="17">
            <span class="hits">6</span>
            

            

            <code class="ruby">        can :manage, Survey</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      elsif user.field_service? || user.tech_managment? || user.technician? || user.delivery?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">        can :manage, Technician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">        can :manage, Calendar</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="21">
            <span class="hits">1</span>
            

            

            <code class="ruby">        can :index, Service</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">        can :show, Service       </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="24">
            <span class="hits">218</span>
            

            

            <code class="ruby">      can :index, Home</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="25">
            <span class="hits">218</span>
            

            

            <code class="ruby">      can :index, Notification</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="26">
            <span class="hits">218</span>
            

            

            <code class="ruby">      cannot :denied, Home</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="27">
            <span class="hits">218</span>
            

            

            <code class="ruby">      can :manage, Customer</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="93ee4ab70ba4c88e2790dcb112af704d0a6e7919">
  <div class="header">
    <h3>app/models/activity.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Activity &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    has_many :technician_activities</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">	has_many :technicians, through: :technician_activities</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="74227b1dad03316d581a0703847aea0723e4ac5b">
  <div class="header">
    <h3>app/models/api_singleton.rb</h3>
    <h4>
      <span class="yellow">
  88.94%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1302</b> relevant lines.
      <span class="green"><b>1158</b> lines covered</span> and
      <span class="red"><b>144</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class ApiSingleton</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">	URL_DEV = &#39;http://localhost:8000&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">	URL_API =  Rails.env.staging? ? &#39;https://mielecore.garagelabs.cl&#39; : &#39;https://prod.mielecore.garagelabs.cl&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    API_TOKEN_DEV = &quot;wbBsf6O6fpJBvFschcsvUAtt&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">    API_TOKEN = Rails.env.staging? ? &quot;wbBsf6O6fpJBvFschcsvUAtt&quot; : &quot;quard7eXXnXllrJ7QQsZbwtt&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">	# CUSTOMER</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def self.customers_api(page = &quot;1&quot;, per_page = &quot;10&quot;, filterText = &quot;&quot;, country = &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="11">
            <span class="hits">108</span>
            

            

            <code class="ruby">			response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="12">
            <span class="hits">108</span>
            

            

            <code class="ruby">					if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="13">
            <span class="hits">108</span>
            

            

            <code class="ruby">						req.url &quot;http://localhost:3000/customers_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">					else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="15">
            
            

            

            <code class="ruby">						req.url (&quot;/api/v1/customers?page=&quot;+page.to_s+&quot;&amp;per_page=&quot;+ per_page.to_s+&quot;&amp;keywords=&quot;+filterText+&quot;&amp;country=&quot;+country)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">					end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="17">
            <span class="hits">108</span>
            

            

            <code class="ruby">	                req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="18">
            <span class="hits">108</span>
            

            

            <code class="ruby">                    req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="19">
            <span class="hits">108</span>
            

            

            <code class="ruby">                    puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">	                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="108" data-linenumber="21">
            <span class="hits">108</span>
            

            

            <code class="ruby">	    return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_api(id, email = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="25">
            <span class="hits">28</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="26">
            <span class="hits">28</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="27">
            <span class="hits">28</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="29">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+id.to_s+&quot;?email=&quot;+ email.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="31">
            <span class="hits">28</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="32">
            <span class="hits">28</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="33">
            <span class="hits">28</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="28" data-linenumber="35">
            <span class="hits">28</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.create_customer_api(customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/customers&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;names&quot;] = customer_params[:names] unless customer_params[:names].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;lastname&quot;] = customer_params[:lastname] unless customer_params[:lastname].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;surname&quot;] = customer_params[:surname] unless customer_params[:surname].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;email&quot;] = customer_params[:email] unless customer_params[:email].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;zipcode&quot;] = customer_params[:zipcode] unless customer_params[:zipcode].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;state&quot;] = customer_params[:state] unless customer_params[:state].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;delegation&quot;] = customer_params[:delegation] unless customer_params[:delegation].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;colony&quot;] = customer_params[:colony] unless customer_params[:colony].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;street_type&quot;] = customer_params[:street_type] unless customer_params[:street_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;street_name&quot;] = customer_params[:street_name] unless customer_params[:street_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="58">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;ext_number&quot;] = customer_params[:ext_number] unless customer_params[:ext_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;int_number&quot;] = customer_params[:int_number] unless customer_params[:int_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="60">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;phone&quot;] = customer_params[:phone] unless customer_params[:phone].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;cellphone&quot;] = customer_params[:cellphone] unless customer_params[:cellphone].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;reference&quot;] = customer_params[:reference] unless customer_params[:reference].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;business_name&quot;] = customer_params[:business_name] unless customer_params[:business_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;rfc&quot;] = customer_params[:rfc] unless customer_params[:rfc].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;email_fn&quot;] = customer_params[:email_fn] unless customer_params[:email_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;zipcode_fn&quot;] = customer_params[:zipcode_fn] unless customer_params[:zipcode_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;state_fn&quot;] = customer_params[:state_fn] unless customer_params[:state_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;delegation_fn&quot;] = customer_params[:delegation_fn] unless customer_params[:delegation_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="69">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;colony_fn&quot;] = customer_params[:colony_fn] unless customer_params[:colony_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;street_type_fn&quot;] = customer_params[:street_type_fn] unless customer_params[:street_type_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;street_name_fn&quot;] = customer_params[:street_name_fn] unless customer_params[:street_name_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;ext_number_fn&quot;] = customer_params[:ext_number_fn] unless customer_params[:ext_number_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="73">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;int_number_fn&quot;] = customer_params[:int_number_fn] unless customer_params[:int_number_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;phone_fn&quot;] = customer_params[:phone_fn] unless customer_params[:phone_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;person_type&quot;] = customer_params[:person_type] unless customer_params[:person_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;country_id&quot;] = customer_params[:country] unless customer_params[:country].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;rut&quot;] = customer_params[:rut] unless customer_params[:rut].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;email2&quot;] = customer_params[:email2] unless customer_params[:email2].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="79">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;commercial_business&quot;] = customer_params[:commercial_business] unless customer_params[:commercial_business].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">				body_t[&quot;tradename&quot;] = customer_params[:tradename] unless customer_params[:tradename].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">				</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.update_customer_api(id, customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="97">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;names&quot;] = customer_params[:names] unless customer_params[:names].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;lastname&quot;] = customer_params[:lastname] unless customer_params[:lastname].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;surname&quot;] = customer_params[:surname] unless customer_params[:surname].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;email&quot;] = customer_params[:email] unless customer_params[:email].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;zipcode&quot;] = customer_params[:zipcode] unless customer_params[:zipcode].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;state&quot;] = customer_params[:state] unless customer_params[:state].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="105">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;delegation&quot;] = customer_params[:delegation] unless customer_params[:delegation].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;colony&quot;] = customer_params[:colony] unless customer_params[:colony].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_type&quot;] = customer_params[:street_type] unless customer_params[:street_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_name&quot;] = customer_params[:street_name] unless customer_params[:street_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="109">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;ext_number&quot;] = customer_params[:ext_number] unless customer_params[:ext_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;int_number&quot;] = customer_params[:int_number] unless customer_params[:int_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;phone&quot;] = customer_params[:phone] unless customer_params[:phone].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;cellphone&quot;] = customer_params[:cellphone] unless customer_params[:cellphone].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;reference&quot;] = customer_params[:reference] unless customer_params[:reference].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;business_name&quot;] = customer_params[:business_name] unless customer_params[:business_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;rfc&quot;] = customer_params[:rfc] unless customer_params[:rfc].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;email_fn&quot;] = customer_params[:email_fn] unless customer_params[:email_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;zipcode_fn&quot;] = customer_params[:zipcode_fn] unless customer_params[:zipcode_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;state_fn&quot;] = customer_params[:state_fn] unless customer_params[:state_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="119">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;delegation_fn&quot;] = customer_params[:delegation_fn] unless customer_params[:delegation_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;colony_fn&quot;] = customer_params[:colony_fn] unless customer_params[:colony_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_type_fn&quot;] = customer_params[:street_type_fn] unless customer_params[:street_type_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="122">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_name_fn&quot;] = customer_params[:street_name_fn] unless customer_params[:street_name_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;ext_number_fn&quot;] = customer_params[:ext_number_fn] unless customer_params[:ext_number_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;int_number_fn&quot;] = customer_params[:int_number_fn] unless customer_params[:int_number_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;phone_fn&quot;] = customer_params[:phone_fn] unless customer_params[:phone_fn].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;person_type&quot;] = customer_params[:person_type] unless customer_params[:person_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;country_id&quot;] = customer_params[:country] unless customer_params[:country].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="128">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;rut&quot;] = customer_params[:rut] unless customer_params[:rut].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="129">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;email2&quot;] = customer_params[:email2] unless customer_params[:email2].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="130">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;commercial_business&quot;] = customer_params[:commercial_business] unless customer_params[:commercial_business].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="131">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;tradename&quot;] = customer_params[:tradename] unless customer_params[:tradename].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="132">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">	# CUSTOMER ADDITIONAL</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.create_customer_additional_api(customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="144">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="147">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customersAdditional&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="150">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="152">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;names&quot;] = customer_params[:names]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="153">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;lastname&quot;] = customer_params[:lastname]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="154">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;surname&quot;] = customer_params[:surname]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;email&quot;] = customer_params[:email]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;phone&quot;] = customer_params[:phone]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;cellphone&quot;] = customer_params[:cellphone]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="158">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="161">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="166">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.update_customer_additional_api(id, customer_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="168">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="169">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="171">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customersAdditional/&quot;+id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="173">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="174">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="176">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="177">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;names&quot;] = customer_params[:names]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="178">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;lastname&quot;] = customer_params[:lastname]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;surname&quot;] = customer_params[:surname]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;email&quot;] = customer_params[:email]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="181">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;phone&quot;] = customer_params[:phone]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="182">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;cellphone&quot;] = customer_params[:cellphone]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="183">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="188">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">=begin</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby">	def self.destroy_customer_additional_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customersAdditional/&quot;+id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">=end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">	# CUSTOMER ADDITIONAL ADDRESSS</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="215">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.create_customer_additional_address_api(additional_address_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="216">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="217">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="218">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="220">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customersAdditionalAddress&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="222">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="224">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="225">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = additional_address_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="226">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;name&quot;] = additional_address_params[:name]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="227">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;zipcode&quot;] = additional_address_params[:zipcode]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="228">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;state&quot;] = additional_address_params[:state]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="229">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;delegation&quot;] = additional_address_params[:delegation]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="230">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;colony&quot;] = additional_address_params[:colony]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="231">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_type&quot;] = additional_address_params[:street_type]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="232">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_name&quot;] = additional_address_params[:street_name]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="233">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;ext_number&quot;] = additional_address_params[:ext_number]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="234">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;int_number&quot;] = additional_address_params[:int_number]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;country_id&quot;] = additional_address_params[:country]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="236">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="237">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="239">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.update_customer_additional_address_api(id, additional_address_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="243">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="247">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customersAdditionalAddress/&quot;+id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="249">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="251">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="252">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="253">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = additional_address_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="254">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;name&quot;] = additional_address_params[:name]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="255">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;zipcode&quot;] = additional_address_params[:zipcode]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="256">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;state&quot;] = additional_address_params[:state]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="257">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;delegation&quot;] = additional_address_params[:delegation]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="258">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;colony&quot;] = additional_address_params[:colony]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="259">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_type&quot;] = additional_address_params[:street_type]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="260">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;street_name&quot;] = additional_address_params[:street_name]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="261">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;ext_number&quot;] = additional_address_params[:ext_number]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="262">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;int_number&quot;] = additional_address_params[:int_number]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="263">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;country&quot;] = additional_address_params[:country]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="264">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;administrativeDemarcations&quot;] = additional_address_params[:administrativeDemarcations]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="266">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="267">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="269">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="274">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.destroy_customer_additional_address_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="275">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="276">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="277">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="279">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customersAdditionalAddress/&quot;+id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="281">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="282">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="283">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="284">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="285">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="286">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="288">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">	# CUSTOMER PRODUCTS</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="296">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_customer_products_api(customer_product_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="297">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="298">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="299">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="301">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_product_params[:customer_id]+&quot;/create_product&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="303">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="304">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="305">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="306">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_product_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="307">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;products&quot;] = customer_product_params[:products]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="308">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;dispatchgroup_id&quot;] = customer_product_params[:dispatchgroup_id] unless customer_product_params[:dispatchgroup_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="309">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quotation_id&quot;] = customer_product_params[:quotation_id] unless customer_product_params[:quotation_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="312">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="313">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="314">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="315">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="316">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="317">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="318">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="319">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_customer_products_additional_api(customer_product_additional_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="320">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="321">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="322">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="323">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="324">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_product_additional_params[:customer_id]+&quot;/create_product_additional&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="325">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="326">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="327">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="328">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="329">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_product_additional_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="330">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;business_unit&quot;] = customer_product_additional_params[:business_unit]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="331">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;family&quot;] = customer_product_additional_params[:family]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="332">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subfamily&quot;] = customer_product_additional_params[:subfamily]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="333">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;product_name&quot;] = customer_product_additional_params[:product_name]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="334">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantity&quot;] = customer_product_additional_params[:quantity] unless customer_product_additional_params[:quantity].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="335">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="336">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="337">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="338">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="339">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="340">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="341">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="342">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="343">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="344">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_products_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="345">
            <span class="hits">16</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="346">
            <span class="hits">16</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="347">
            <span class="hits">16</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/customer_products_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="348">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="349">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+id.to_s+&quot;/products&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="350">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="351">
            <span class="hits">16</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="352">
            <span class="hits">16</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="353">
            <span class="hits">16</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="354">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="355">
            <span class="hits">16</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="356">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="357">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="358">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="359">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_customer_products_api(customer_product_update_params, params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="360">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="361">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="362">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="363">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="364">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_product_update_params[:customer_id]+&quot;/update_product&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="365">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="366">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="367">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="368">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="369">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_product_id&quot;] = customer_product_update_params[:customer_product_id] unless customer_product_update_params[:customer_product_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="370">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = customer_product_update_params[:id] unless customer_product_update_params[:id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="371">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;tnr&quot;] = customer_product_update_params[:tnr] unless customer_product_update_params[:tnr].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="372">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_product_update_params[:customer_id] unless customer_product_update_params[:customer_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="373">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;business_unit&quot;] = customer_product_update_params[:business_unit] unless customer_product_update_params[:business_unit].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="374">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;family&quot;] = customer_product_update_params[:family] unless customer_product_update_params[:family].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="375">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subfamily&quot;] = customer_product_update_params[:subfamily] unless customer_product_update_params[:subfamily].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="376">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;specific&quot;] = customer_product_update_params[:specific] unless customer_product_update_params[:specific].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="377">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;product_name&quot;] = customer_product_update_params[:product_name] unless customer_product_update_params[:product_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="378">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;discontinued&quot;] = customer_product_update_params[:discontinued] unless customer_product_update_params[:discontinued].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="379">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;instalation_date&quot;] = customer_product_update_params[:instalation_date] unless customer_product_update_params[:instalation_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="380">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technical_diagnosis&quot;] = customer_product_update_params[:technical_diagnosis] unless customer_product_update_params[:technical_diagnosis].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="381">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;expert_opinion&quot;] = customer_product_update_params[:expert_opinion] unless customer_product_update_params[:expert_opinion].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="382">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;activity_performed&quot;] = customer_product_update_params[:activity_performed] unless customer_product_update_params[:activity_performed].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="383">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;warranty&quot;] = customer_product_update_params[:warranty] unless customer_product_update_params[:warranty].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="384">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = customer_product_update_params[:status] unless customer_product_update_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="385">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;visit_id&quot;] = customer_product_update_params[:visit_id] unless customer_product_update_params[:visit_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="386">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;images&quot;] = params[:images] unless params[:images].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="387">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;dispatchgroup_id&quot;] = customer_product_update_params[:dispatchgroup_id] unless customer_product_update_params[:dispatchgroup_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="388">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quotation_id&quot;] = customer_product_update_params[:quotation_id] unless customer_product_update_params[:quotation_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="389">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="390">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="391">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="392">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="393">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="394">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="395">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="396">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="397">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.destroy_customer_customer_product_api(customer_id, customer_product_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="398">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="399">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="400">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="401">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="402">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/#{customer_id}/customer_product/#{customer_product_id}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="403">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="404">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="405">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="406">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="407">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="408">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="409">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="410">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="411">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="412">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_service_spare_parts(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="413">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="414">
            <span class="hits">2</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="415">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="416">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="417">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="418">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="419">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="420">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="421">
            <span class="hits">2</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="422">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="423">
            <span class="hits">2</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="424">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="425">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="426">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_service_requested_spare_parts(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="427">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="428">
            <span class="hits">2</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="429">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="430">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="431">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/requested_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="432">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="433">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="434">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="435">
            <span class="hits">2</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="436">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="437">
            <span class="hits">2</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="438">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="439">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="440">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="441">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_service_selected_spare_parts(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="442">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="443">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="444">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="445">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="446">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/selected_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="447">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="448">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="449">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="450">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="451">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="452">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="453">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="454">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="455">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="456">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="457">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_service_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="458">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="459">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="460">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="461">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="462">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/create_spare_part&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="463">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="464">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="465">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="466">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;products&quot;] = service_spare_part_params[:products] unless service_spare_part_params[:products].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="467">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="468">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="469">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="470">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="471">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="472">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="473">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="474">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="475">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_service_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="476">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="477">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="478">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="479">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="480">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/spare_parts/#{service_spare_part_params[:service_spare_part_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="481">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="482">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="483">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="484">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantity&quot;] = service_spare_part_params[:quantity] unless service_spare_part_params[:quantity].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="485">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;requested_quantity&quot;] = service_spare_part_params[:requested_quantity] unless service_spare_part_params[:requested_quantity].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="486">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = service_spare_part_params[:status] unless service_spare_part_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="487">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;delivery_status&quot;] = service_spare_part_params[:delivery_status] unless service_spare_part_params[:delivery_status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="488">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;background&quot;] = service_spare_part_params[:background] unless service_spare_part_params[:background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="489">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="490">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="491">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="492">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="493">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="494">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="495">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="496">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="497">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="498">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_assign_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="499">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="500">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="501">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="502">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="503">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/assign_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="504">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="505">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="506">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="507">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_spare_part_ids&quot;] = service_spare_part_params[:service_spare_part_ids] unless service_spare_part_params[:service_spare_part_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="508">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technician_id&quot;] = service_spare_part_params[:technician_id] unless service_spare_part_params[:technician_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="509">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="510">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="511">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="512">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="513">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="514">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="515">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="516">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.reintegrated_spare_parts_api(technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="517">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="518">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="519">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="520">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="521">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services_technician_reintegrated_spare_parts/#{technician_id}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="522">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="523">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="524">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="525">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="526">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="527">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="528">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="529">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="530">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="531">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="532">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_technician_service_products_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="533">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="534">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="535">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="536">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="537">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_spare_part_params[:id]}/technician_spare_parts/#{service_spare_part_params[:technician_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="538">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="539">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="540">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="541">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="542">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="543">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="544">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="545">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="546">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_technician_all_service_products_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="547">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="548">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="549">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="550">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="551">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services_technician_all_spare_parts/#{service_spare_part_params[:technician_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="552">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="553">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="554">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="555">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="556">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="557">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="558">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="559">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="560">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_technician_all_service_used_products_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="561">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="562">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="563">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="564">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="565">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services_technician_all_used_spare_parts/#{service_spare_part_params[:technician_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="566">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="567">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="568">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="569">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="570">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="571">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="572">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="573">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="574">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="575">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="576">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="577">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.destroy_service_spare_part_api(id, service_spare_part_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="578">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="579">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="580">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="581">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="582">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{id}/spare_parts/#{service_spare_part_id}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="583">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="584">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="585">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="586">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="587">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="588">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="589">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="590">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="591">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="592">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_products_assign_product_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="593">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="594">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="595">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="596">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="597">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_products/#{customer_products_service_spare_parts_params[:id]}/assign_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="598">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="599">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="600">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="601">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_spare_part_ids&quot;] = customer_products_service_spare_parts_params[:service_spare_part_ids] unless customer_products_service_spare_parts_params[:service_spare_part_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="602">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantities&quot;] = customer_products_service_spare_parts_params[:quantities] unless customer_products_service_spare_parts_params[:quantities].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="603">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;warranties&quot;] = customer_products_service_spare_parts_params[:warranties] unless customer_products_service_spare_parts_params[:warranties].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="604">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;visit_id&quot;] = customer_products_service_spare_parts_params[:visit_id] unless customer_products_service_spare_parts_params[:visit_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="605">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="606">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="607">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="608">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="609">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="610">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="611">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="612">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="613">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_products_reintegrate_product_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="614">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="615">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="616">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="617">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="618">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_products/#{customer_products_service_spare_parts_params[:id]}/reintegrate_product_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="619">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="620">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="621">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="622">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_product_service_spare_part_ids&quot;] = customer_products_service_spare_parts_params[:customer_product_service_spare_part_ids] unless customer_products_service_spare_parts_params[:customer_product_service_spare_part_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="623">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantities&quot;] = customer_products_service_spare_parts_params[:quantities] unless customer_products_service_spare_parts_params[:quantities].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="624">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technician_id&quot;] = customer_products_service_spare_parts_params[:technician_id] unless customer_products_service_spare_parts_params[:technician_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="625">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="626">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="627">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="628">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="629">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="630">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="631">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="632">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="633">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_products_product_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="634">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="635">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="636">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="637">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="638">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_products/#{customer_products_service_spare_parts_params[:id]}/customer_product_used_spare_parts?service_id=#{customer_products_service_spare_parts_params[:service_id]}&amp;visit_id=#{customer_products_service_spare_parts_params[:visit_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="639">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="640">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="641">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="642">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="643">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="644">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="645">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="646">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="647">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="648">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="649">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_products_product_requested_spare_parts(customer_products_service_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="650">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="651">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="652">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="653">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="654">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_products/#{customer_products_service_spare_parts_params[:customer_product_id]}/customer_product_requested_spare_parts?visit_id=#{customer_products_service_spare_parts_params[:visit_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="655">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="656">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="657">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="658">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="659">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="660">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="661">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="662">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="663">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="664">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="665">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="666">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="667">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_products_getCheckStates(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="668">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="669">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="670">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="671">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="672">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_products/getCheckStates?customer_product_ids=#{params[:customer_product_ids]}&amp;visit_id=#{params[:visit_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="673">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="674">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="675">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="676">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="677">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="678">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="679">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="680">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="681">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="682">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="683">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="684">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="685">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="686">
            
            

            

            <code class="ruby">	# CUSTOMER POLICIES</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="687">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="688">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="689">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="690">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="691">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/policy_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="692">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="693">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_policy_params[:customer_id]+&quot;/create_policy&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="694">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="695">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="696">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="697">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="698">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_policy_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="699">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_products_id&quot;] = customer_policy_params[:customer_products_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="700">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;address_assinged&quot;] = customer_policy_params[:address_assinged]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="701">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;labor_price&quot;] = customer_policy_params[:labor_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="702">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;items_price&quot;] = customer_policy_params[:items_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="703">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;viatic_price&quot;] = customer_policy_params[:viatic_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="704">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;iva_amount&quot;] = customer_policy_params[:iva_amount]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="705">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subtotal_price&quot;] = customer_policy_params[:subtotal_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="706">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;total_price&quot;] = customer_policy_params[:total_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="707">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="708">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="709">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="710">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="711">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="712">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="713">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="714">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="715">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="716">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/policy_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="717">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="718">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_policy_params[:customer_id]+&quot;/policies/&quot;+customer_policy_params[:policy_id]+&quot;/update_policy&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="719">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="720">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="721">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="722">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="723">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;policy_id&quot;] = customer_policy_params[:policy_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="724">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = customer_policy_params[:customer_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="725">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_products_id&quot;] = customer_policy_params[:customer_products_id]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="726">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;address_assinged&quot;] = customer_policy_params[:address_assinged]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="727">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;labor_price&quot;] = customer_policy_params[:labor_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="728">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;items_price&quot;] = customer_policy_params[:items_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="729">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;viatic_price&quot;] = customer_policy_params[:viatic_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="730">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;iva_amount&quot;] = customer_policy_params[:iva_amount]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="731">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subtotal_price&quot;] = customer_policy_params[:subtotal_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="732">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;total_price&quot;] = customer_policy_params[:total_price]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="733">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="734">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="735">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="736">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="737">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="738">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="739">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="740">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="741">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="742">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/policy_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="743">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="744">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_policy_params[:customer_id]+&quot;/policies/&quot;+customer_policy_params[:policy_id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="745">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="746">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="747">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="748">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="749">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="750">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="751">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="752">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="753">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_destroy_customer_policy_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="754">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="755">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="756">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/policy_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="757">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="758">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_policy_params[:customer_id]+&quot;/policies/&quot;+customer_policy_params[:policy_id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="759">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="760">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="761">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="762">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="763">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="764">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="765">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="766">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="767">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="768">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_validate_policy_payment_api(customer_policy_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="769">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="770">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="771">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/policy_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="772">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="773">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+customer_policy_params[:customer_id]+&quot;/policies/&quot;+customer_policy_params[:policy_id]+&quot;/validate_payment&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="774">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="775">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="776">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="777">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="778">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_files&quot;] = customer_policy_params[:payment_files] unless customer_policy_params[:payment_files].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="779">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="780">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="781">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="782">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="783">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="784">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="785">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="786">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="787">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="788">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="789">
            
            

            

            <code class="ruby">	# CUSTOMER SERVICES</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="790">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="791">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_customer_service_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="792">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="793">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="794">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="795">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="796">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+service_params[:customer_id]+&quot;/create_service&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="797">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="798">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="799">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="800">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="801">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = service_params[:customer_id] unless service_params[:customer_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="802">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_id&quot;] = service_params[:service_id] unless service_params[:service_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="803">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;address&quot;] = service_params[:address] unless service_params[:address].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="804">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;address_fn&quot;] = service_params[:address_fn] unless service_params[:address_fn].nil?			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="805">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_type&quot;] = service_params[:service_type] unless service_params[:service_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="806">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subcategory&quot;] = service_params[:subcategory] unless service_params[:subcategory].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="807">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;requested&quot;] = service_params[:requested] unless service_params[:requested].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="808">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;request_channel&quot;] = service_params[:request_channel] unless service_params[:request_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="809">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;distributor_name&quot;] = service_params[:distributor_name] unless service_params[:distributor_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="810">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;distributor_email&quot;] = service_params[:distributor_email] unless service_params[:distributor_email].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="811">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_products_id&quot;] = service_params[:customer_products_id] unless service_params[:customer_products_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="812">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technicians_number&quot;] = service_params[:technicians_number] unless service_params[:technicians_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="813">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;hour_amount&quot;] = service_params[:hour_amount] unless service_params[:hour_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="814">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;labor_amount&quot;] = service_params[:labor_amount] unless service_params[:labor_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="815">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;viatic_amount&quot;] = service_params[:viatic_amount] unless service_params[:viatic_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="816">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="817">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subtotal_amount&quot;] = service_params[:subtotal_amount] unless service_params[:subtotal_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="818">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;iva_amount&quot;] = service_params[:iva_amount] unless service_params[:iva_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="819">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;fee_amount&quot;] = service_params[:fee_amount] unless service_params[:fee_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="820">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;total_hours&quot;] = service_params[:total_hours] unless service_params[:total_hours].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="821">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;total_amount&quot;] = service_params[:total_amount] unless service_params[:total_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="822">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = service_params[:status] unless service_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="823">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;background&quot;] = service_params[:background] unless service_params[:background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="824">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;no_payment&quot;] = service_params[:no_payment] unless service_params[:no_payment].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="825">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_channel&quot;] = service_params[:payment_channel] unless service_params[:payment_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="826">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_date&quot;] = service_params[:payment_date] unless service_params[:payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="827">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;no_payment_reason&quot;] = service_params[:no_payment_reason] unless service_params[:no_payment_reason].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="828">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;invoice&quot;] = service_params[:invoice] unless service_params[:invoice].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="829">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;event_start&quot;] = service_params[:event_start] unless service_params[:event_start].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="830">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;event_end&quot;] = service_params[:event_end] unless service_params[:event_end].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="831">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technicians_ids&quot;] = service_params[:technicians_ids] unless service_params[:technicians_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="832">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;images&quot;] = service_params[:images] unless service_params[:images].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="833">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_state&quot;] = service_params[:payment_state] unless service_params[:payment_state].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="834">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;consumables&quot;] = service_params[:consumables] unless service_params[:consumables].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="835">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_payment_date&quot;] = service_params[:customer_payment_date] unless service_params[:customer_payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="836">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;from&quot;] = service_params[:from] unless service_params[:from].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="837">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;policy_id&quot;] = service_params[:policy_id] unless service_params[:policy_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="838">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="839">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="840">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="841">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="842">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="843">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="844">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="845">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="846">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_customer_service_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="847">
            <span class="hits">6</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="848">
            <span class="hits">6</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="849">
            <span class="hits">6</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="850">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="851">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/&quot;+service_params[:customer_id]+&quot;/services/&quot;+service_params[:service_id]+&quot;/update_service&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="852">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="853">
            <span class="hits">6</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="854">
            <span class="hits">6</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="855">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="856">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = service_params[:customer_id] unless service_params[:customer_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="857">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;service_id&quot;] = service_params[:service_id] unless service_params[:service_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="858">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;address&quot;] = service_params[:address] unless service_params[:address].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="859">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;address_fn&quot;] = service_params[:address_fn] unless service_params[:address_fn].nil?	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="860">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;service_type&quot;] = service_params[:service_type] unless service_params[:service_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="861">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;subcategory&quot;] = service_params[:subcategory] unless service_params[:subcategory].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="862">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;requested&quot;] = service_params[:requested] unless service_params[:requested].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="863">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;request_channel&quot;] = service_params[:request_channel] unless service_params[:request_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="864">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;distributor_name&quot;] = service_params[:distributor_name] unless service_params[:distributor_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="865">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;distributor_email&quot;] = service_params[:distributor_email] unless service_params[:distributor_email].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="866">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;customer_products_id&quot;] = service_params[:customer_products_id] unless service_params[:customer_products_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="867">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;technicians_number&quot;] = service_params[:technicians_number] unless service_params[:technicians_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="868">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;hour_amount&quot;] = service_params[:hour_amount] unless service_params[:hour_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="869">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;labor_amount&quot;] = service_params[:labor_amount] unless service_params[:labor_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="870">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;viatic_amount&quot;] = service_params[:viatic_amount] unless service_params[:viatic_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="871">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;subtotal_amount&quot;] = service_params[:subtotal_amount] unless service_params[:subtotal_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="872">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;iva_amount&quot;] = service_params[:iva_amount] unless service_params[:iva_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="873">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;fee_amount&quot;] = service_params[:fee_amount] unless service_params[:fee_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="874">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;total_hours&quot;] = service_params[:total_hours] unless service_params[:total_hours].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="875">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;total_amount&quot;] = service_params[:total_amount] unless service_params[:total_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="876">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = service_params[:status] unless service_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="877">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;background&quot;] = service_params[:background] unless service_params[:background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="878">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;no_payment&quot;] = service_params[:no_payment] unless service_params[:no_payment].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="879">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;payment_channel&quot;] = service_params[:payment_channel] unless service_params[:payment_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="880">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;payment_date&quot;] = service_params[:payment_date] unless service_params[:payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="881">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;no_payment_reason&quot;] = service_params[:no_payment_reason] unless service_params[:no_payment_reason].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="882">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;invoice&quot;] = service_params[:invoice] unless service_params[:invoice].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="883">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;event_start&quot;] = service_params[:event_start] unless service_params[:event_start].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="884">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;event_end&quot;] = service_params[:event_end] unless service_params[:event_end].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="885">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;technicians_ids&quot;] = service_params[:technicians_ids] unless service_params[:technicians_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="886">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;images&quot;] = service_params[:images] unless service_params[:images].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="887">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;payment_state&quot;] = service_params[:payment_state] unless service_params[:payment_state].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="888">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;consumables&quot;] = service_params[:consumables] unless service_params[:consumables].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="889">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;customer_payment_date&quot;] = service_params[:customer_payment_date] unless service_params[:customer_payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="890">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;ibs_number&quot;] = service_params[:ibs_number] unless service_params[:ibs_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="891">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;spare_part_delivery_date&quot;] = service_params[:spare_part_delivery_date] unless service_params[:spare_part_delivery_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="892">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;principal_technician&quot;] = service_params[:principal_technician] unless service_params[:principal_technician].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="893">
            <span class="hits">6</span>
            

            

            <code class="ruby">			if ActiveRecord::Type::Boolean.new.cast(service_params[:do_cancel_service])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="894">
            
            

            

            <code class="ruby">				body_t[&quot;do_cancel_service&quot;] = service_params[:do_cancel_service] unless service_params[:do_cancel_service].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="895">
            
            

            

            <code class="ruby">				body_t[&quot;background_cancel_service&quot;] = service_params[:background_cancel_service] unless service_params[:background_cancel_service].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="896">
            
            

            

            <code class="ruby">				body_t[&quot;cancel_reason&quot;] = service_params[:cancel_reason] unless service_params[:cancel_reason].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="897">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="898">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;payment_files&quot;] = service_params[:payment_files] unless service_params[:payment_files].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="899">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;requested_spare_parts_ids&quot;] = service_params[:requested_spare_parts_ids] unless service_params[:requested_spare_parts_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="900">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;validated_payment&quot;] = service_params[:validated_payment] unless service_params[:validated_payment].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="901">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;from&quot;] = service_params[:from] unless service_params[:from].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="902">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;policy_id&quot;] = service_params[:policy_id] unless service_params[:policy_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="903">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;background_prediagnosis&quot;] = service_params[:background_prediagnosis] unless service_params[:background_prediagnosis].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="904">
            <span class="hits">6</span>
            

            

            <code class="ruby">			body_t[&quot;submit_type&quot;] = service_params[:submit_type] unless service_params[:submit_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="905">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="906">
            <span class="hits">6</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="907">
            <span class="hits">6</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="908">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="909">
            <span class="hits">6</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="910">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="911">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="912">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="913">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="914">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="915">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="916">
            
            

            

            <code class="ruby">	# CUSTOMER COMPLATAINS</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="917">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="918">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="919">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="920">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.customer_complaints_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="921">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="922">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="923">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="924">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="925">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/customers/#{id}/complaints&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="926">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="927">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="928">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="929">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="930">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="931">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="932">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="933">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="934">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="935">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="936">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="937">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.create_customer_complaint_api(customer_complaints_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="938">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="939">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="940">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="941">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="942">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/#{customer_complaints_params[:id]}/create_complaint&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="943">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="944">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="945">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="946">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="947">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;complaint_id&quot;] = customer_complaints_params[:complaint_id] unless customer_complaints_params[:complaint_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="948">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_id&quot;] = customer_complaints_params[:service_id] unless customer_complaints_params[:service_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="949">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;complaint_type&quot;] = customer_complaints_params[:complaint_type] unless customer_complaints_params[:complaint_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="950">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;channel&quot;] = customer_complaints_params[:channel] unless customer_complaints_params[:channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="951">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;phone&quot;] = customer_complaints_params[:phone] unless customer_complaints_params[:phone].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="952">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;complaint_background&quot;] = customer_complaints_params[:complaint_background] unless customer_complaints_params[:complaint_background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="953">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;compensation_proposal&quot;] = customer_complaints_params[:compensation_proposal] unless customer_complaints_params[:compensation_proposal].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="954">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;closure_details&quot;] = customer_complaints_params[:closure_details] unless customer_complaints_params[:closure_details].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="955">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;compensation_proposal_2&quot;] = customer_complaints_params[:compensation_proposal_2] unless customer_complaints_params[:compensation_proposal_2].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="956">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;closure_details_2&quot;] = customer_complaints_params[:closure_details_2] unless customer_complaints_params[:closure_details_2].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="957">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;stage&quot;] = customer_complaints_params[:stage] unless customer_complaints_params[:stage].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="958">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="959">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="960">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="961">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="962">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="963">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="964">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="965">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="966">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="967">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.update_customer_complaint_api(customer_complaints_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="968">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="969">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="970">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="971">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="972">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customers/#{customer_complaints_params[:id]}/update_complaint&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="973">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="974">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="975">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="976">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="977">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;complaint_id&quot;] = customer_complaints_params[:complaint_id] unless customer_complaints_params[:complaint_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="978">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_id&quot;] = customer_complaints_params[:service_id] unless customer_complaints_params[:service_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="979">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;complaint_type&quot;] = customer_complaints_params[:complaint_type] unless customer_complaints_params[:complaint_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="980">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;channel&quot;] = customer_complaints_params[:channel] unless customer_complaints_params[:channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="981">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;phone&quot;] = customer_complaints_params[:phone] unless customer_complaints_params[:phone].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="982">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;complaint_background&quot;] = customer_complaints_params[:complaint_background] unless customer_complaints_params[:complaint_background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="983">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;compensation_proposal&quot;] = customer_complaints_params[:compensation_proposal] unless customer_complaints_params[:compensation_proposal].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="984">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;closure_details&quot;] = customer_complaints_params[:closure_details] unless customer_complaints_params[:closure_details].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="985">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;compensation_proposal_2&quot;] = customer_complaints_params[:compensation_proposal_2] unless customer_complaints_params[:compensation_proposal_2].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="986">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;closure_details_2&quot;] = customer_complaints_params[:closure_details_2] unless customer_complaints_params[:closure_details_2].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="987">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;stage&quot;] = customer_complaints_params[:stage] unless customer_complaints_params[:stage].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="988">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="989">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="990">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="991">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="992">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="993">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="994">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="995">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="996">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="997">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="998">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="999">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1000">
            
            

            

            <code class="ruby">	# Products</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1001">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1002">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_products_api(page = &quot;1&quot;, per_page = &quot;10&quot;, filterText = &quot;&quot;, spare_parts = nil, countries = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1003">
            <span class="hits">17</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1004">
            <span class="hits">17</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1005">
            <span class="hits">17</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/products_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1006">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1007">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/products?page=&quot;+page.to_s+&quot;&amp;per_page=&quot;+ per_page.to_s+&quot;&amp;keywords=&quot;+filterText)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1008">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1009">
            <span class="hits">17</span>
            

            

            <code class="ruby">			req.params[&#39;spare_parts&#39;] = spare_parts unless spare_parts.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1010">
            <span class="hits">17</span>
            

            

            <code class="ruby">			req.params[&#39;countries&#39;] = countries unless countries.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1011">
            <span class="hits">17</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1012">
            <span class="hits">17</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1013">
            <span class="hits">17</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1014">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="17" data-linenumber="1015">
            <span class="hits">17</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1016">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1017">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1018">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_products_by_tnr_api(tnrs = &quot;&quot;, countries = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1019">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1020">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1021">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/products_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1022">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1023">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/products_by_tnr?tnrs=&quot;+tnrs.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1024">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1025">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.params[&#39;countries&#39;] = countries unless countries.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1026">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1027">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1028">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1029">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1030">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1031">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1032">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1033">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1034">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1035">
            
            

            

            <code class="ruby">	# Taxons</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1036">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1037">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.taxons_api(taxonomy_name = &quot;&quot;, country = &quot;MX&quot;, taxon_ids = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1038">
            <span class="hits">4</span>
            

            

            <code class="ruby">			response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1039">
            <span class="hits">4</span>
            

            

            <code class="ruby">					if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1040">
            <span class="hits">4</span>
            

            

            <code class="ruby">						req.url &quot;http://localhost:3000/taxons_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1041">
            
            

            

            <code class="ruby">					else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1042">
            
            

            

            <code class="ruby">						req.url (&quot;/api/v1/taxons?keywords=&quot;+taxonomy_name+&quot;&amp;country=&quot;+country+&quot;&amp;taxon_ids=&quot;+taxon_ids.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1043">
            
            

            

            <code class="ruby">					end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1044">
            <span class="hits">4</span>
            

            

            <code class="ruby">	                req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1045">
            <span class="hits">4</span>
            

            

            <code class="ruby">                    req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1046">
            <span class="hits">4</span>
            

            

            <code class="ruby">                    puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1047">
            
            

            

            <code class="ruby">	                end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1048">
            <span class="hits">4</span>
            

            

            <code class="ruby">	    return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1049">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1050">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1051">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.taxon_names_api(taxon_ids = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1052">
            <span class="hits">18</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1053">
            <span class="hits">18</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1054">
            <span class="hits">18</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/taxons_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1055">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1056">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/taxon_names?taxon_ids=&quot;+taxon_ids.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1057">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1058">
            <span class="hits">18</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1059">
            <span class="hits">18</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1060">
            <span class="hits">18</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1061">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="18" data-linenumber="1062">
            <span class="hits">18</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1063">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1064">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1065">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1066">
            
            

            

            <code class="ruby">	# Unique IDS USER</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1067">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1068">
            
            

            

            <code class="ruby">  	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1069">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.user_unique_ids_api(filterText = &quot;tickets&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1070">
            <span class="hits">4</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1071">
            <span class="hits">4</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1072">
            <span class="hits">4</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/user_unique_ids_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1073">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1074">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/user_unique_ids?keywords=&quot;+filterText)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1075">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1076">
            <span class="hits">4</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1077">
            <span class="hits">4</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1078">
            <span class="hits">4</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1079">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1080">
            <span class="hits">4</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1081">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1082">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1083">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1084">
            
            

            

            <code class="ruby">	# Cost center user</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1085">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1086">
            
            

            

            <code class="ruby">  	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1087">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1088">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.cost_centers_api</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1089">
            <span class="hits">4</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1090">
            <span class="hits">4</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1091">
            <span class="hits">4</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/cost_centers_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1092">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1093">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/cost_centers&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1094">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1095">
            <span class="hits">4</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1096">
            <span class="hits">4</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1097">
            <span class="hits">4</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1098">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1099">
            <span class="hits">4</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1100">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1101">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1102">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1103">
            
            

            

            <code class="ruby">	# Administrative demarcations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1104">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1105">
            
            

            

            <code class="ruby">  	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1106">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1107">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.administrative_demarcations_api(country_code = &quot;CL&quot;, zipcode = &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1108">
            <span class="hits">24</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1109">
            <span class="hits">24</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1110">
            <span class="hits">24</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/administrative_demarcations_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1111">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1112">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/administrative_demarcations?keywords=&quot;+country_code+&quot;&amp;zipcode=&quot;+zipcode.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1113">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1114">
            <span class="hits">24</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1115">
            <span class="hits">24</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1116">
            <span class="hits">24</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1117">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="24" data-linenumber="1118">
            <span class="hits">24</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1119">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1120">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1121">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1122">
            
            

            

            <code class="ruby">	# Services</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1123">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1124">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.services_api(page = &quot;1&quot;, per_page = &quot;5&quot;, customer_id = &quot;&quot;, country = &quot;&quot;, keywords = &quot;&quot;, only_payed = false)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1125">
            <span class="hits">16</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1126">
            <span class="hits">16</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1127">
            <span class="hits">16</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1128">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1129">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/services?page=&quot;+page.to_s+&quot;&amp;per_page=&quot;+ per_page.to_s+&quot;&amp;customer_id=&quot;+customer_id+&quot;&amp;country=&quot;+country+&quot;&amp;keywords=&quot;+keywords+&quot;&amp;only_payed=&quot;+only_payed.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1130">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1131">
            <span class="hits">16</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1132">
            <span class="hits">16</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1133">
            <span class="hits">16</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1134">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="16" data-linenumber="1135">
            <span class="hits">16</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1136">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1137">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1138">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.services_technician_api(page = &quot;1&quot;, per_page = &quot;10&quot;, technician_id = &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1139">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1140">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1141">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1142">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1143">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/services/&quot;+technician_id+&quot;/technician?page=&quot;+page.to_s+&quot;&amp;per_page=&quot;+ per_page.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1144">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1145">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1146">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1147">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1148">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1149">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1150">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1151">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1152">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1153">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.service_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1154">
            <span class="hits">4</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1155">
            <span class="hits">4</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1156">
            <span class="hits">4</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1157">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1158">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/&quot;+service_params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1159">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1160">
            <span class="hits">4</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1161">
            <span class="hits">4</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1162">
            <span class="hits">4</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1163">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="1164">
            <span class="hits">4</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1165">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1166">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1167">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.service_status_changes_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1168">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1169">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1170">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1171">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1172">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_params[:id]}/status_changes&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1173">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1174">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1175">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1176">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1177">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1178">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1179">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1180">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1181">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.service_status_label_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1182">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1183">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1184">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1185">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1186">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_params[:id]}/status_label&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1187">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1188">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1189">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1190">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1191">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1192">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1193">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1194">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1195">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1196">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1197">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1198">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.service_total_price_api(service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1199">
            <span class="hits">3</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1200">
            <span class="hits">3</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1201">
            <span class="hits">3</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1202">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1203">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{service_params[:id]}/total_price?service_type=#{service_params[:service_type]}&amp;subcategory=#{service_params[:subcategory]}&amp;products_ids=#{service_params[:products_ids]}&amp;zipcode=#{service_params[:zipcode]}&amp;administrative_demarcation_name=#{service_params[:administrative_demarcation_name]}&amp;country=#{service_params[:country]}&amp;time_diff=#{service_params[:time_diff]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1204">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1205">
            <span class="hits">3</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1206">
            <span class="hits">3</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1207">
            <span class="hits">3</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1208">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1209">
            <span class="hits">3</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1210">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1211">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1212">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1213">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_service_visit_api(visit_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1214">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1215">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1216">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1217">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1218">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{visit_params[:id]}/visits/#{visit_params[:visit_id]}/update_visit&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1219">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1220">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1221">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1222">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1223">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technicians_ids&quot;] = visit_params[:technicians_ids] unless visit_params[:technicians_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1224">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;event_start&quot;] = visit_params[:event_start] unless visit_params[:event_start].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1225">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;event_end&quot;] = visit_params[:event_end] unless visit_params[:event_end].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1226">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;confirmed&quot;] = visit_params[:confirmed] unless visit_params[:confirmed].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1227">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = visit_params[:status] unless visit_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1228">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;signature&quot;] = visit_params[:signature] unless visit_params[:signature].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1229">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;person_accountable&quot;] = visit_params[:person_accountable] unless visit_params[:person_accountable].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1230">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_files&quot;] = visit_params[:payment_files] unless visit_params[:payment_files].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1231">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1232">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1233">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1234">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1235">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1236">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1237">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1238">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_cancel_service_visit_api(visit_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1239">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1240">
            <span class="hits">2</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1241">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1242">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1243">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/#{visit_params[:id]}/visits/#{visit_params[:visit_id]}/cancel_visit&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1244">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1245">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1246">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1247">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1248">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1249">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t[&quot;cancel_from&quot;] = visit_params[:cancel_from] unless visit_params[:cancel_from].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1250">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t[&quot;cancel_reason&quot;] = visit_params[:cancel_reason] unless visit_params[:cancel_reason].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1251">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1252">
            <span class="hits">2</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1253">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1254">
            <span class="hits">2</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1255">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1256">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1257">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.services_customer_complaints_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1258">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1259">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1260">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/services_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1261">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1262">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/services/#{id}/customer_complaints&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1263">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1264">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1265">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1266">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1267">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1268">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1269">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1270">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1271">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1272">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1273">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1274">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1275">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1276">
            
            

            

            <code class="ruby">	# Visits</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1277">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1278">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1279">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1280">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1281">
            <span class="hits">3</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1282">
            <span class="hits">3</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1283">
            <span class="hits">3</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/service_with_data_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1284">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1285">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/&quot;+visits_params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1286">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1287">
            <span class="hits">3</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1288">
            <span class="hits">3</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1289">
            <span class="hits">3</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1290">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1291">
            <span class="hits">3</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1292">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1293">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1294">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_customer_visit_api(create_visit_params)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1295">
            
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1296">
            
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1297">
            
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1298">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1299">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/services/&quot;+create_visit_params[:service_id]+&quot;/visits&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1300">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1301">
            
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1302">
            
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1303">
            
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1304">
            
            

            

            <code class="ruby">			body_t[&quot;customer_id&quot;] = create_visit_params[:customer_id] unless create_visit_params[:customer_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1305">
            
            

            

            <code class="ruby">			body_t[&quot;service_id&quot;] = create_visit_params[:service_id] unless create_visit_params[:service_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1306">
            
            

            

            <code class="ruby">			body_t[&quot;visit_id&quot;] = create_visit_params[:visit_id] unless create_visit_params[:visit_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1307">
            
            

            

            <code class="ruby">			body_t[&quot;address&quot;] = create_visit_params[:address] unless create_visit_params[:address].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1308">
            
            

            

            <code class="ruby">			body_t[&quot;address_fn&quot;] = create_visit_params[:address_fn] unless create_visit_params[:address_fn].nil?			</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1309">
            
            

            

            <code class="ruby">			body_t[&quot;service_type&quot;] = create_visit_params[:service_type] unless create_visit_params[:service_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1310">
            
            

            

            <code class="ruby">			body_t[&quot;subcategory&quot;] = create_visit_params[:subcategory] unless create_visit_params[:subcategory].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1311">
            
            

            

            <code class="ruby">			body_t[&quot;requested&quot;] = create_visit_params[:requested] unless create_visit_params[:requested].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1312">
            
            

            

            <code class="ruby">			body_t[&quot;request_channel&quot;] = create_visit_params[:request_channel] unless create_visit_params[:request_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1313">
            
            

            

            <code class="ruby">			body_t[&quot;distributor_name&quot;] = create_visit_params[:distributor_name] unless create_visit_params[:distributor_name].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1314">
            
            

            

            <code class="ruby">			body_t[&quot;distributor_email&quot;] = create_visit_params[:distributor_email] unless create_visit_params[:distributor_email].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1315">
            
            

            

            <code class="ruby">			body_t[&quot;customer_products_id&quot;] = create_visit_params[:customer_products_id] unless create_visit_params[:customer_products_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1316">
            
            

            

            <code class="ruby">			body_t[&quot;technicians_number&quot;] = create_visit_params[:technicians_number] unless create_visit_params[:technicians_number].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1317">
            
            

            

            <code class="ruby">			body_t[&quot;hour_amount&quot;] = create_visit_params[:hour_amount] unless create_visit_params[:hour_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1318">
            
            

            

            <code class="ruby">			body_t[&quot;fee_amount&quot;] = create_visit_params[:fee_amount] unless create_visit_params[:fee_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1319">
            
            

            

            <code class="ruby">			body_t[&quot;labor_amount&quot;] = create_visit_params[:labor_amount] unless create_visit_params[:labor_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1320">
            
            

            

            <code class="ruby">			body_t[&quot;viatic_amount&quot;] = create_visit_params[:viatic_amount] unless create_visit_params[:viatic_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1321">
            
            

            

            <code class="ruby">			body_t[&quot;subtotal_amount&quot;] = create_visit_params[:subtotal_amount] unless create_visit_params[:subtotal_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1322">
            
            

            

            <code class="ruby">			body_t[&quot;iva_amount&quot;] = create_visit_params[:iva_amount] unless create_visit_params[:iva_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1323">
            
            

            

            <code class="ruby">			body_t[&quot;total_hours&quot;] = create_visit_params[:total_hours] unless create_visit_params[:total_hours].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1324">
            
            

            

            <code class="ruby">			body_t[&quot;total_amount&quot;] = create_visit_params[:total_amount] unless create_visit_params[:total_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1325">
            
            

            

            <code class="ruby">						</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1326">
            
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = create_visit_params[:status] unless create_visit_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1327">
            
            

            

            <code class="ruby">			body_t[&quot;background&quot;] = create_visit_params[:background] unless create_visit_params[:background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1328">
            
            

            

            <code class="ruby">			body_t[&quot;no_payment&quot;] = create_visit_params[:no_payment] unless create_visit_params[:no_payment].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1329">
            
            

            

            <code class="ruby">			body_t[&quot;payment_channel&quot;] = create_visit_params[:payment_channel] unless create_visit_params[:payment_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1330">
            
            

            

            <code class="ruby">			body_t[&quot;payment_date&quot;] = create_visit_params[:payment_date] unless create_visit_params[:payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1331">
            
            

            

            <code class="ruby">			body_t[&quot;no_payment_reason&quot;] = create_visit_params[:no_payment_reason] unless create_visit_params[:no_payment_reason].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1332">
            
            

            

            <code class="ruby">			body_t[&quot;invoice&quot;] = create_visit_params[:invoice] unless create_visit_params[:invoice].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1333">
            
            

            

            <code class="ruby">			body_t[&quot;event_start&quot;] = create_visit_params[:event_start] unless create_visit_params[:event_start].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1334">
            
            

            

            <code class="ruby">			body_t[&quot;event_end&quot;] = create_visit_params[:event_end] unless create_visit_params[:event_end].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1335">
            
            

            

            <code class="ruby">			body_t[&quot;technicians_ids&quot;] = create_visit_params[:technicians_ids] unless create_visit_params[:technicians_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1336">
            
            

            

            <code class="ruby">			body_t[&quot;images&quot;] = create_visit_params[:images] unless create_visit_params[:images].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1337">
            
            

            

            <code class="ruby">			body_t[&quot;payment_state&quot;] = create_visit_params[:payment_state] unless create_visit_params[:payment_state].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1338">
            
            

            

            <code class="ruby">			body_t[&quot;consumables&quot;] = create_visit_params[:consumables] unless create_visit_params[:consumables].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1339">
            
            

            

            <code class="ruby">			body_t[&quot;customer_payment_date&quot;] = create_visit_params[:customer_payment_date] unless create_visit_params[:customer_payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1340">
            
            

            

            <code class="ruby">			body_t[&quot;from&quot;] = create_visit_params[:from] unless create_visit_params[:from].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1341">
            
            

            

            <code class="ruby">			body_t[&quot;policy_id&quot;] = create_visit_params[:policy_id] unless create_visit_params[:policy_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1342">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1343">
            
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1344">
            
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1345">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1346">
            
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1347">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1348">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1349">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1350">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_visit_api(update_visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1351">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1352">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1353">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1354">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1355">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/&quot;+update_visits_params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1356">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1357">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1358">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1359">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_channel&quot;] = update_visits_params[:payment_channel] unless update_visits_params[:payment_channel].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1360">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_date&quot;] = update_visits_params[:payment_date] unless update_visits_params[:payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1361">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_payment_date&quot;] = update_visits_params[:customer_payment_date] unless update_visits_params[:customer_payment_date].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1362">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;payment_files&quot;] = update_visits_params[:payment_files] unless update_visits_params[:payment_files].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1363">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1364">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1365">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1366">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1367">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1368">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1369">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1370">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_start_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1371">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1372">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1373">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1374">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1375">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/&quot;+visits_params[:id]+&quot;/start&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1376">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1377">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1378">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1379">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1380">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1381">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1382">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1383">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1384">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_finish_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1385">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1386">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1387">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1388">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1389">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/&quot;+visits_params[:id]+&quot;/finish&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1390">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1391">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1392">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1393">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1394">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1395">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1396">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1397">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1398">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_arrival_visit_api(visits_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1399">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1400">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1401">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1402">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1403">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/&quot;+visits_params[:id]+&quot;/arrival&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1404">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1405">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1406">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1407">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1408">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1409">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1410">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1411">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1412">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1413">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1414">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_assign_visit_spare_parts_api(visit_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1415">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1416">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1417">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1418">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1419">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/#{visit_spare_part_params[:id]}/assign_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1420">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1421">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1422">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1423">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;visit_spare_part_id&quot;] = visit_spare_part_params[:visit_spare_part_id] unless visit_spare_part_params[:visit_spare_part_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1424">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technician_id&quot;] = visit_spare_part_params[:technician_id] unless visit_spare_part_params[:technician_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1425">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantity&quot;] = visit_spare_part_params[:quantity] unless visit_spare_part_params[:quantity].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1426">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1427">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1428">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1429">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1430">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1431">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1432">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1433">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_received_visit_spare_parts_api(visit_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1434">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1435">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1436">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1437">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1438">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/#{visit_spare_part_params[:id]}/received_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1439">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1440">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1441">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1442">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;visit_spare_part_ids&quot;] = visit_spare_part_params[:visit_spare_part_ids] unless visit_spare_part_params[:visit_spare_part_ids].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1443">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technician_id&quot;] = visit_spare_part_params[:technician_id] unless visit_spare_part_params[:technician_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1444">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1445">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1446">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1447">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1448">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1449">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1450">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1451">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1452">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1453">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_technician_visit_products_api(visit_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1454">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1455">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1456">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1457">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1458">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/#{visit_spare_part_params[:id]}/technician_spare_parts/#{visit_spare_part_params[:technician_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1459">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1460">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1461">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1462">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1463">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1464">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1465">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1466">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1467">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_technician_visit_all_products_api(visit_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1468">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1469">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1470">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1471">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1472">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/technician_all_spare_parts/#{visit_spare_part_params[:technician_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1473">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1474">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1475">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1476">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1477">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1478">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1479">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1480">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1481">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1482">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1483">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1484">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_request_spare_parts_visit_api(request_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1485">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1486">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1487">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1488">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1489">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/#{request_spare_parts_params[:id]}/request_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1490">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1491">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1492">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1493">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;products&quot;] = request_spare_parts_params[:products] unless request_spare_parts_params[:products].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1494">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_product_id&quot;] = request_spare_parts_params[:customer_product_id] unless request_spare_parts_params[:customer_product_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1495">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantities&quot;] = request_spare_parts_params[:quantities] unless request_spare_parts_params[:quantities].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1496">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;warranties&quot;] = request_spare_parts_params[:warranties] unless request_spare_parts_params[:warranties].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1497">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1498">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1499">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1500">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1501">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1502">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1503">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1504">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1505">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_requested_visit_spare_parts_api(request_spare_parts_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1506">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1507">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1508">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1509">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1510">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/visits/#{request_spare_parts_params[:id]}/requested_spare_parts&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1511">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1512">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1513">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1514">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1515">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1516">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1517">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1518">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1519">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1520">
            
            

            

            <code class="ruby">	# Quotations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1521">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1522">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1523">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_quotation_api(quotations_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1524">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1525">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1526">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/quotation_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1527">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1528">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/quotations/&quot;+quotations_params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1529">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1530">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1531">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1532">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1533">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1534">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1535">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1536">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1537">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_quotation_api(quotations_params, person_accountable = nil)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1538">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1539">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1540">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1541">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1542">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/quotations/&quot;+quotations_params[:id])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1543">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1544">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1545">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1546">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;save_type&quot;] = quotations_params[:save_type] unless quotations_params[:save_type].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1547">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;tm_background&quot;] = quotations_params[:tm_background] unless quotations_params[:tm_background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1548">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;cs_background&quot;] = quotations_params[:cs_background] unless quotations_params[:cs_background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1549">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_background&quot;] = quotations_params[:customer_background] unless quotations_params[:customer_background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1550">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_product_warranties&quot;] = quotations_params[:customer_product_warranties] unless quotations_params[:customer_product_warranties].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1551">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1552">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;spare_parts_amount&quot;] = quotations_params[:spare_parts_amount] unless quotations_params[:spare_parts_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1553">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;labor_amount&quot;] = quotations_params[:labor_amount] unless quotations_params[:labor_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1554">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;viatic_amount&quot;] = quotations_params[:viatic_amount] unless quotations_params[:viatic_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1555">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;subtotal_amount&quot;] = quotations_params[:subtotal_amount] unless quotations_params[:subtotal_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1556">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;iva_amount&quot;] = quotations_params[:iva_amount] unless quotations_params[:iva_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1557">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;total_amount&quot;] = quotations_params[:total_amount] unless quotations_params[:total_amount].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1558">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;person_accountable&quot;] = person_accountable unless person_accountable.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1559">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1560">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1561">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1562">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1563">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1564">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1565">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1566">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1567">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_validate_payment_quotation_api(quotations_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1568">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1569">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1570">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1571">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1572">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/quotations/&quot;+quotations_params[:id]+&quot;/validate_payment&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1573">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1574">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1575">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1576">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1577">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1578">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1579">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1580">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1581">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1582">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1583">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1584">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1585">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1586">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_create_quotation_spare_parts_api(service_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1587">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1588">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1589">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1590">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1591">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/quotations/#{service_spare_part_params[:id]}/create_spare_part&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1592">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1593">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1594">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1595">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;products&quot;] = service_spare_part_params[:products] unless service_spare_part_params[:products].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1596">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;customer_product_id&quot;] = service_spare_part_params[:customer_product_id] unless service_spare_part_params[:customer_product_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1597">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = service_spare_part_params[:status] unless service_spare_part_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1598">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1599">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1600">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1601">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1602">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1603">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1604">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1605">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_update_quotation_spare_parts_api(quotation_spare_part_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1606">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.patch do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1607">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1608">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1609">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1610">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/quotations/#{quotation_spare_part_params[:id]}/spare_parts/#{quotation_spare_part_params[:quotation_spare_part_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1611">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1612">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1613">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1614">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;quantity&quot;] = quotation_spare_part_params[:quantity] unless quotation_spare_part_params[:quantity].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1615">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;from&quot;] = quotation_spare_part_params[:from] unless quotation_spare_part_params[:from].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1616">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;requested_quantity&quot;] = quotation_spare_part_params[:requested_quantity] unless quotation_spare_part_params[:requested_quantity].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1617">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = quotation_spare_part_params[:status] unless quotation_spare_part_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1618">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;warranty&quot;] = quotation_spare_part_params[:warranty] unless quotation_spare_part_params[:warranty].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1619">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;price&quot;] = quotation_spare_part_params[:price] unless quotation_spare_part_params[:price].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1620">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1621">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1622">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1623">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1624">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1625">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1626">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1627">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1628">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.destroy_quotation_spare_part_api(id, quotation_spare_part_id, from = &quot;&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1629">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1630">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1631">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1632">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1633">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/quotations/#{id}/spare_parts/#{quotation_spare_part_id}?from=#{from}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1634">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1635">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1636">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1637">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1638">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1639">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1640">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1641">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1642">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1643">
            
            

            

            <code class="ruby">	# Calendar Events</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1644">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1645">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1646">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.calendar_events_api(country_code = &quot;CL&quot;, all = &quot;0&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1647">
            <span class="hits">12</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1648">
            <span class="hits">12</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1649">
            <span class="hits">12</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/technician_calendar_events_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1650">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1651">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/calendar_events?country=&quot;+country_code.to_s+&quot;&amp;all=&quot;+all.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1652">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1653">
            <span class="hits">12</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1654">
            <span class="hits">12</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1655">
            <span class="hits">12</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1656">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="1657">
            <span class="hits">12</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1658">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1659">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1660">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.technician_calendar_events_api(technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1661">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1662">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1663">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/technician_calendar_events_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1664">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1665">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/technician_calendar_events?technician_id=&quot;+technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1666">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1667">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1668">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1669">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1670">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1671">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1672">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1673">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1674">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.technician_work_load_api(technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1675">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1676">
            <span class="hits">2</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1677">
            <span class="hits">2</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/technician_calendar_events_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1678">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1679">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/technician_work_load?technician_id=&quot;+technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1680">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1681">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1682">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1683">
            <span class="hits">2</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1684">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1685">
            <span class="hits">2</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1686">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1687">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1688">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.create_technician_events_api(technician_id, technician_country, new_events)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1689">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1690">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1691">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1692">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1693">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/technician_calendar_events&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1694">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1695">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1696">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1697">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1698">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technician_id&quot;] = technician_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1699">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;technician_country&quot;] = technician_country</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1700">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;new_events&quot;] = new_events</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1701">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1702">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1703">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1704">
            
            

            

            <code class="ruby">		#return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1705">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1706">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1707">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.destroy_technician_calendar_events(start_date, finish_date, technician_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1708">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1709">
            <span class="hits">2</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1710">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1711">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1712">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/destroy_technician_calendar_events/&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1713">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1714">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1715">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1716">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1717">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t[&quot;start_date&quot;] = start_date</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1718">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t[&quot;finish_date&quot;] = finish_date</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1719">
            <span class="hits">2</span>
            

            

            <code class="ruby">			body_t[&quot;technician_id&quot;] = technician_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1720">
            <span class="hits">2</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1721">
            <span class="hits">2</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1722">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1723">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1724">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1725">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1726">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1727">
            
            

            

            <code class="ruby">	# Viatic values</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1728">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1729">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1730">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.viatic_values_api(country, zone)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1731">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1732">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1733">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/viatic_values_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1734">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1735">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/viatic_values?country=#{country}&amp;zone=#{zone}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1736">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1737">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1738">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1739">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1740">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1741">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1742">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1743">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1744">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1745">
            
            

            

            <code class="ruby">	# Labor Prices</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1746">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1747">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1748">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.labor_prices_api(country, units)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1749">
            <span class="hits">2</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1750">
            <span class="hits">2</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1751">
            <span class="hits">2</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/labor_prices_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1752">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1753">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/labor_prices?country=#{country}&amp;units=#{units}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1754">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1755">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1756">
            <span class="hits">2</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1757">
            <span class="hits">2</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1758">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="1759">
            <span class="hits">2</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1760">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1761">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1762">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1763">
            
            

            

            <code class="ruby">	# Service Prices</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1764">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1765">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1766">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.service_prices_api(country, products_ids, service_type)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1767">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1768">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1769">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/service_prices_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1770">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1771">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/service_prices?country=#{country}&amp;products_ids=#{products_ids}&amp;service_type=#{service_type}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1772">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1773">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1774">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1775">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1776">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1777">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1778">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1779">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1780">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1781">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1782">
            
            

            

            <code class="ruby">	# Resource Files</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1783">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1784">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1785">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.file_resources_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1786">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1787">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1788">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1789">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1790">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/file_resources/#{id}/visit_customer_products&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1791">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1792">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1793">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1794">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1795">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1796">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1797">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1798">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1799">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.check_list_file_resources_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1800">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1801">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1802">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1803">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1804">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/file_resources/#{id}/checklist_product_images&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1805">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1806">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1807">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1808">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1809">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1810">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1811">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1812">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1813">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.destroy_file_resource_api(id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1814">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.delete do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1815">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1816">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1817">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1818">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/file_resources/&quot;+id.to_s)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1819">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1820">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1821">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1822">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1823">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;id&quot;] = id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1824">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1825">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1826">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1827">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1828">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1829">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1830">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1831">
            
            

            

            <code class="ruby">	# Consumables</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1832">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1833">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.consumables_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1834">
            <span class="hits">3</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1835">
            <span class="hits">3</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1836">
            <span class="hits">3</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/consumables_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1837">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1838">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/consumables?products_ids=#{params[:products_ids]}&amp;country=#{params[:country]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1839">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1840">
            <span class="hits">3</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1841">
            <span class="hits">3</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1842">
            <span class="hits">3</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1843">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="1844">
            <span class="hits">3</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1845">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1846">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1847">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1848">
            
            

            

            <code class="ruby">	# Checklists</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1849">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1850">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.checklists_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1851">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1852">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1853">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/consumables_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1854">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1855">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/checklists&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1856">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1857">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1858">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1859">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1860">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1861">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1862">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1863">
            
            

            

            <code class="ruby">		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1864">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.customer_product_checklists_api(params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1865">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1866">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1867">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/consumables_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1868">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1869">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_product_checklists?customer_product_id=#{params[:customer_product_id]}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1870">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1871">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1872">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1873">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1874">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1875">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1876">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1877">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1878">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1879">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1880">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1881">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.customer_product_get_checklists_answers_api(customer_product_checklist_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1882">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1883">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1884">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/consumables_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1885">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1886">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_product_checklists/#{customer_product_checklist_params[:customer_product_id]}/get_answers&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1887">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1888">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1889">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1890">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1891">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1892">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1893">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1894">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1895">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.customer_product_checklists_answers_api(customer_product_checklist_params, params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1896">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1897">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1898">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1899">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1900">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/customer_product_checklists/#{customer_product_checklist_params[:customer_product_id]}/answers&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1901">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1902">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1903">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1904">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;answers&quot;] = JSON.parse(customer_product_checklist_params[:answers].to_json) unless customer_product_checklist_params[:answers].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1905">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;preVisit&quot;] = customer_product_checklist_params[:preVisit] unless customer_product_checklist_params[:preVisit].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1906">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = customer_product_checklist_params[:status] unless customer_product_checklist_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1907">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;images&quot;] = params[:images] unless params[:images].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1908">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1909">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1910">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1911">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1912">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1913">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1914">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1915">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1916">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1917">
            
            

            

            <code class="ruby">	####################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1918">
            
            

            

            <code class="ruby">	# Surveys</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1919">
            
            

            

            <code class="ruby">	###################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1920">
            
            

            

            <code class="ruby">  	</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1921">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.survey_questions_api()</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1922">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.get do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1923">
            <span class="hits">1</span>
            

            

            <code class="ruby">				if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1924">
            <span class="hits">1</span>
            

            

            <code class="ruby">					req.url &quot;http://localhost:3000/user_unique_ids_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1925">
            
            

            

            <code class="ruby">				else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1926">
            
            

            

            <code class="ruby">					req.url (&quot;/api/v1/survey_questions&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1927">
            
            

            

            <code class="ruby">				end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1928">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1929">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1930">
            <span class="hits">1</span>
            

            

            <code class="ruby">				puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1931">
            
            

            

            <code class="ruby">				end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1932">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1933">
            
            

            

            <code class="ruby">	end  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1934">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1935">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.get_survey_answers_api(survey_questions_params)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1936">
            <span class="hits">1</span>
            

            

            <code class="ruby">		response = api_connection.post do |req|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1937">
            <span class="hits">1</span>
            

            

            <code class="ruby">			if Rails.env.test?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1938">
            <span class="hits">1</span>
            

            

            <code class="ruby">				req.url &quot;http://localhost:3000/api/v1/customer_t.json&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1939">
            
            

            

            <code class="ruby">			else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1940">
            
            

            

            <code class="ruby">				req.url (&quot;/api/v1/survey_questions/answer&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1941">
            
            

            

            <code class="ruby">			end </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1942">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.headers[&quot;Authorization&quot;] = &quot;Token token=#{(Rails.env.development? ? API_TOKEN_DEV : API_TOKEN)}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1943">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t = {}</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1944">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;service_id&quot;] = JSON.parse(survey_questions_params[:service_id].to_json) unless survey_questions_params[:service_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1945">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;survey_id&quot;] = JSON.parse(survey_questions_params[:survey_id].to_json) unless survey_questions_params[:survey_id].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1946">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;answers&quot;] = JSON.parse(survey_questions_params[:answers].to_json) unless survey_questions_params[:answers].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1947">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;status&quot;] = JSON.parse(survey_questions_params[:status].to_json) unless survey_questions_params[:status].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1948">
            <span class="hits">1</span>
            

            

            <code class="ruby">			body_t[&quot;background&quot;] = JSON.parse(survey_questions_params[:background].to_json) unless survey_questions_params[:background].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1949">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1950">
            
            

            

            <code class="ruby">			</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1951">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.body = body_t</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1952">
            <span class="hits">1</span>
            

            

            <code class="ruby">			req.options.timeout = 60</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1953">
            <span class="hits">1</span>
            

            

            <code class="ruby">			puts req</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1954">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1955">
            <span class="hits">1</span>
            

            

            <code class="ruby">		return JSON.parse(response.body)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1956">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1957">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1958">
            <span class="hits">1</span>
            

            

            <code class="ruby">	def self.send_payment_email(service_id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1959">
            
            

            

            <code class="ruby">		#@customer_visit = ApiSingleton.get_visit_api({ id: visit_id.to_s })</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1960">
            
            

            

            <code class="ruby">		emails = &quot;cristian@garagelabs.cl&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1961">
            
            

            

            <code class="ruby">		begin</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1962">
            
            

            

            <code class="ruby">			#NotificationMailer.payment_email(emails, @customer_visit[&quot;data&quot;][&quot;service_id&quot;].to_s, &quot;visit&quot;, @customer_visit[&quot;data&quot;][&quot;id&quot;].to_s).deliver_now</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1963">
            
            

            

            <code class="ruby">			NotificationMailer.payment_email(emails, service_id).deliver_now</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1964">
            
            

            

            <code class="ruby">		rescue</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="1965">
            
            

            

            <code class="ruby">			puts &quot;No se ha podido enviar el email.&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1966">
            
            

            

            <code class="ruby">		end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1967">
            
            

            

            <code class="ruby">	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1968">
            
            

            

            <code class="ruby">	</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1969">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1970">
            <span class="hits">1</span>
            

            

            <code class="ruby">	private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1971">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    def self.connect_to_api</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="351" data-linenumber="1972">
            <span class="hits">351</span>
            

            

            <code class="ruby">	       Faraday.new(Rails.env.development? ? URL_DEV : URL_API) do |c|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="351" data-linenumber="1973">
            <span class="hits">351</span>
            

            

            <code class="ruby">       	   		c.use Faraday::Request::UrlEncoded</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="351" data-linenumber="1974">
            <span class="hits">351</span>
            

            

            <code class="ruby">				c.use Faraday::Adapter::NetHttp</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1975">
            
            

            

            <code class="ruby">			end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1976">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1977">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1978">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    def self.api_connection</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="351" data-linenumber="1979">
            <span class="hits">351</span>
            

            

            <code class="ruby">	      return self.connect_to_api</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1980">
            
            

            

            <code class="ruby">	    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1981">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c9fc1308c5d57b96c85b9f98173480a1ce66c1b6">
  <div class="header">
    <h3>app/models/application_record.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>8</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class ApplicationRecord &lt; ActiveRecord::Base</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  self.abstract_class = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  before_save :check_attributes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def check_attributes</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="560" data-linenumber="7">
            <span class="hits">560</span>
            

            

            <code class="ruby">      self.attributes.each do |attr_name, attr_value|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4757" data-linenumber="8">
            <span class="hits">4757</span>
            

            

            <code class="ruby">        if attr_value == &quot;null&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="9">
            <span class="hits">4</span>
            

            

            <code class="ruby">          self[attr_name] = &quot;&quot;   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5f9889f9b105e1c81df7e3ea4458ba0619b21417">
  <div class="header">
    <h3>app/models/country.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Country &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    has_many :user_countries, dependent: :destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    has_many :users, through: :user_countries</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="5d8de9f6e8692cbb23397ff4fbf2aa1013e08cd5">
  <div class="header">
    <h3>app/models/gateway/webpay_gateway.rb</h3>
    <h4>
      <span class="yellow">
  85.94%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>64</b> relevant lines.
      <span class="green"><b>55</b> lines covered</span> and
      <span class="red"><b>9</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Gateway::WebpayGateway</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def actions</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">        %w{capture void}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def auto_capture?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def source_required?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">        false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def supports?(source)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">        true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def provider_class</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="20">
            <span class="hits">2</span>
            

            

            <code class="ruby">        self.class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def method_type</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">        &#39;webpay&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def can_capture?(payment)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">        [&#39;checkout&#39;, &#39;pending&#39;].include?(payment.status)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def provider</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">        provider_class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.STATE</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">        &#39;webpay&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def purchase(amount, transaction_details, options = {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">        #ActiveMerchant::Billing::Response.new(true, &quot;success&quot;, {}, {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def capture(money_cents, response_code, gateway_options)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">        #ActiveMerchant::Billing::Response.new(true,  &quot;Transacción Aprobada&quot;, {}, {})</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def confirmation token_ws, base_url</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">        webpay_results = Webpay::Functions.get_transaction_result(token_ws, base_url)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">        payload =  Webpay::Payloads.getNormalPayload(webpay_results)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">        accepted = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if(webpay_results[&#39;error_desc&#39;] == &#39;TRX_OK&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="54">
            
            

            

            <code class="ruby">            unless payment_exists?(payload[&quot;transactionDetails&quot;][&quot;buyOrder&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">                accepted = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="56">
            
            

            

            <code class="ruby">                Rails.logger.info &quot;Payment #{ payload[&quot;transactionDetails&quot;][&quot;buyOrder&quot;]} not exists&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="58">
            
            

            

            <code class="ruby">            if payment_paid?(payload[&quot;transactionDetails&quot;][&quot;buyOrder&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="59">
            
            

            

            <code class="ruby">                accepted = false</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">                Rails.logger.info &quot;Payment #{ payload[&quot;transactionDetails&quot;][&quot;buyOrder&quot;]} already paid&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">            accepted =  false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="64">
            <span class="hits">1</span>
            

            

            <code class="ruby">            Rails.logger.info &quot;Invalid response for #{payload[&quot;transactionDetails&quot;][&quot;buyOrder&quot;]}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">            Webpay::Functions.acknowledge_transaction(token_ws, base_url)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">        if accepted</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="69">
            
            

            

            <code class="ruby">            return payload</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">            return nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def perform_payment payment_id, state</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="76">
            <span class="hits">2</span>
            

            

            <code class="ruby">        puts &quot;#{payment_id} - #{state}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="77">
            <span class="hits">2</span>
            

            

            <code class="ruby">        payment = Payment.where(id: payment_id).last</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="78">
            <span class="hits">2</span>
            

            

            <code class="ruby">        return unless payment</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">        begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="81">
            <span class="hits">2</span>
            

            

            <code class="ruby">            if state == &quot;accepted&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payment.update(status: &quot;completed&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">            #    payment.capture!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">            elsif state == &quot;rejected&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">                payment.update(status: &quot;rejected&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">        </code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="88">
            
            

            

            <code class="ruby">        rescue Exception =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="89">
            
            

            

            <code class="ruby">            Rails.logger.error(&quot;Error al procesar pago orden #{payment.number}: E -&gt; #{e.message}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def check_payment(payment_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="94">
            <span class="hits">3</span>
            

            

            <code class="ruby">        unless payment_exists?(payment_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">            accepted = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">            Rails.logger.info &quot;Payment #{ payment_id} not exists&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="98">
            <span class="hits">3</span>
            

            

            <code class="ruby">        if payment_paid?(payment_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">            accepted = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">            Rails.logger.info &quot;Payment #{ payment_id} already paid&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="102">
            <span class="hits">3</span>
            

            

            <code class="ruby">        return accepted</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">   </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="105">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def payment_exists?(object_id)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="107">
            <span class="hits">3</span>
            

            

            <code class="ruby">        payment = Payment.where(object_id: object_id).last</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="108">
            <span class="hits">3</span>
            

            

            <code class="ruby">        if payment.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="109">
            <span class="hits">1</span>
            

            

            <code class="ruby">            return false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">        else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="111">
            <span class="hits">2</span>
            

            

            <code class="ruby">            return true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def payment_paid? object_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="115">
            <span class="hits">3</span>
            

            

            <code class="ruby">        payment = Payment.where(object_id: object_id).last</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="116">
            <span class="hits">3</span>
            

            

            <code class="ruby">        return payment.try(:status) == &quot;paid&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a4f3467c2a81ae3b5a1b9ff72b305ca70bf0eb9d">
  <div class="header">
    <h3>app/models/home.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Home &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="093b9f3eb5b750c8cb2be66707aa1df5157238a9">
  <div class="header">
    <h3>app/models/notification.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>12</b> relevant lines.
      <span class="green"><b>12</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Notification &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  include Noticed::Model</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :recipient, polymorphic: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  alias_method &quot;read&quot;, &quot;read?&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  alias_method &quot;unread&quot;, &quot;unread?&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def created_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="9">
            <span class="hits">2</span>
            

            

            <code class="ruby">    self[:created_at].strftime(&quot;%d/%m/%Y %H:%M:%S&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def days</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">    DateTime.now.mjd - Date.parse(self.created_at).mjd</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class ActiveRecord::Relation </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def search(text)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">      self.where(&quot;unaccent(lower(cast(params -&gt; &#39;data&#39; -&gt; &#39;name&#39; AS TEXT))) LIKE ? OR unaccent(lower(cast(params -&gt; &#39;data&#39; -&gt; &#39;description&#39; AS TEXT))) LIKE ?&quot;,  &quot;%#{ActiveSupport::Inflector.transliterate(text.downcase)}%&quot;,  &quot;%#{ActiveSupport::Inflector.transliterate(text.downcase)}%&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="adef7d52a4edcf3fc027bc6dc17b3267ce8af0c4">
  <div class="header">
    <h3>app/models/payment.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>20</b> relevant lines.
      <span class="green"><b>20</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Payment &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :user, optional: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :payment_method</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  after_save :check_if_paid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  after_update :check_if_paid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  after_initialize :set_transaction_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :payment_method_name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def webpay?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    self.payment_method.try(:type) == Gateway::WebpayGateway.to_s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def payment_method_name</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="13">
            <span class="hits">2</span>
            

            

            <code class="ruby">    self.try(:payment_method).try(:name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def generate_transaction_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="17">
            <span class="hits">6</span>
            

            

            <code class="ruby">    Digest::MD5.hexdigest(&quot;#{self.try(:customer_id)}#{self.try(:object_id)}&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">  private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def check_if_paid</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="11" data-linenumber="23">
            <span class="hits">11</span>
            

            

            <code class="ruby">      if self.status == &#39;completed&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">        update_service_params = {</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="25">
            <span class="hits">5</span>
            

            

            <code class="ruby">          service_id: self.try(:object_id),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">          customer_id: self.try(:customer_id),</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">          payment_state: &#39;paid&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">        }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="29">
            <span class="hits">5</span>
            

            

            <code class="ruby">        ApiSingleton.get_update_customer_service_api(update_service_params)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def set_transaction_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="34">
            <span class="hits">10</span>
            

            

            <code class="ruby">      self.transaction_id ||= self.generate_transaction_id</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a55dee87d97edcb5fda1e8f21a6c52d8ab89478a">
  <div class="header">
    <h3>app/models/payment_method.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>8</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">class PaymentMethod &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">    belongs_to :country, optional: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">    attribute :logo_url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def logo_url</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">        URI.join(Rails.application.config.site_url, ActionController::Base.helpers.asset_url(&quot;logo/payment_methods/#{self.logo}.png&quot;)) rescue &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.search(country)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="11">
            <span class="hits">3</span>
            

            

            <code class="ruby">        country = Country.where(&quot;lower(iso) ilike ? &quot;, &quot;%#{country.try(:downcase)}%&quot;).try(:take)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="12">
            <span class="hits">3</span>
            

            

            <code class="ruby">        payments_methods = PaymentMethod.where(country_id: country.try(:id))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1db04a352f599a885de5b8a2243a79231a6badb5">
  <div class="header">
    <h3>app/models/role.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Role &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    has_many :user_roles</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">	has_many :users, through: :user_roles</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="29f3652c6226bfdcb3e2d41837e3b4beeb5e75b4">
  <div class="header">
    <h3>app/models/service.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Service</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.find(id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1f6f5265e19af326b1793b8cea59ae7b6afc4dc4">
  <div class="header">
    <h3>app/models/technician.rb</h3>
    <h4>
      <span class="yellow">
  80.77%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>78</b> relevant lines.
      <span class="green"><b>63</b> lines covered</span> and
      <span class="red"><b>15</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Technician &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :technician_activities, dependent: :destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :activities, through: :technician_activities</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :technician_zipcodes, dependent: :destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :zipcodes, through: :technician_zipcodes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :technician_taxons, dependent: :destroy</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #attribute :technician_taxons_grouped</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  #attribute :technician_taxons</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :activities</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_one_attached :avatar</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def technician_taxons_grouped</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">    technician_taxons.group_by(&amp;:taxon_type)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.search_by_taxon_id(taxon_ids, taxon_type = &quot;&quot;, country, zone)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="20">
            <span class="hits">3</span>
            

            

            <code class="ruby">    ids = taxon_ids.split(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="21">
            <span class="hits">3</span>
            

            

            <code class="ruby">    query = &#39;technician_taxons.taxon_id IN (?) AND technician_taxons.taxon_type = ?&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="22">
            <span class="hits">3</span>
            

            

            <code class="ruby">    current_technicians = Technician.joins(:technician_taxons).where(query, ids, Technician.taxonTypeName(taxon_type)).distinct</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="23">
            <span class="hits">3</span>
            

            

            <code class="ruby">    unless zone.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="24">
            <span class="hits">3</span>
            

            

            <code class="ruby">      if country == &quot;MX&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="25">
            <span class="hits">2</span>
            

            

            <code class="ruby">        current_technicians = current_technicians.joins(:zipcodes).where(&quot;zipcodes.zip = ?&quot;,zone)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">        current_technicians = current_technicians.joins(:zipcodes).where(&quot;zipcodes.administrative_demarcation_name = ?&quot;, zone)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="30">
            <span class="hits">3</span>
            

            

            <code class="ruby">    others_technicians = Technician.where.not(id: (current_technicians.pluck(:id)))</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="31">
            <span class="hits">3</span>
            

            

            <code class="ruby">    unless country.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="32">
            <span class="hits">3</span>
            

            

            <code class="ruby">			current_technicians = current_technicians.joins(user: :countries).where(&quot;countries.iso = ?&quot;, country)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="33">
            <span class="hits">3</span>
            

            

            <code class="ruby">      others_technicians = others_technicians.joins(user: :countries).where(&quot;countries.iso = ?&quot;, country)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="35">
            <span class="hits">3</span>
            

            

            <code class="ruby">    return current_technicians, others_technicians</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.search_by_taxons_names(taxons_names, taxon_type = &quot;&quot;, country, zone)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="40">
            
            

            

            <code class="ruby">    ids = taxons_names.split(&quot;,&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="41">
            
            

            

            <code class="ruby">    query = &#39;technician_taxons.taxon_name IN (?) AND technician_taxons.taxon_type = ?&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="42">
            
            

            

            <code class="ruby">    current_technicians = Technician.joins(:technician_taxons).where(query, ids, Technician.taxonTypeName(taxon_type)).distinct</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="43">
            
            

            

            <code class="ruby">    unless zone.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="44">
            
            

            

            <code class="ruby">      if country == &quot;MX&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="45">
            
            

            

            <code class="ruby">        current_technicians = current_technicians.joins(:zipcodes).where(&quot;zipcodes.zip = ?&quot;,zone)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      else</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="47">
            
            

            

            <code class="ruby">        current_technicians = current_technicians.joins(:zipcodes).where(&quot;zipcodes.administrative_demarcation_name = ?&quot;, zone)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">    others_technicians = Technician.where.not(id: (current_technicians.pluck(:id)))</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="51">
            
            

            

            <code class="ruby">    unless country.blank?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="52">
            
            

            

            <code class="ruby">			current_technicians = current_technicians.joins(user: :countries).where(&quot;countries.iso = ?&quot;, country)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="53">
            
            

            

            <code class="ruby">      others_technicians = others_technicians.joins(user: :countries).where(&quot;countries.iso = ?&quot;, country)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="55">
            
            

            

            <code class="ruby">    return current_technicians, others_technicians</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def created_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="60">
            <span class="hits">12</span>
            

            

            <code class="ruby">    self[:created_at].strftime(&quot;%d/%m/%Y %H:%M:%S&quot;) unless self[:created_at].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def updated_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="12" data-linenumber="64">
            <span class="hits">12</span>
            

            

            <code class="ruby">    self[:updated_at].strftime(&quot;%d/%m/%Y %H:%M:%S&quot;) unless self[:updated_at].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.search(text)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">    Technician.joins(:user).where(&quot;lower(users.firstname) ilike ? OR lower(users.lastname) ilike ? OR lower(users.email) ilike ?&quot;, &quot;%#{text.try(:downcase)}%&quot;,&quot;%#{text.try(:downcase)}%&quot;, &quot;%#{text.try(:downcase)}%&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="70">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.taxonTypeName(name)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="71">
            <span class="hits">8</span>
            

            

            <code class="ruby">    if name == &#39;Instalación&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">      return &quot;installation&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="73">
            <span class="hits">7</span>
            

            

            <code class="ruby">    elsif name == &#39;Mantenimiento&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return &quot;maintenance&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="75">
            <span class="hits">6</span>
            

            

            <code class="ruby">    elsif name == &#39;Reparación&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="76">
            <span class="hits">2</span>
            

            

            <code class="ruby">        return &quot;repair&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="77">
            <span class="hits">4</span>
            

            

            <code class="ruby">    elsif name == &#39;Diagnóstico en Taller&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return &quot;diagnosis&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="79">
            <span class="hits">3</span>
            

            

            <code class="ruby">    elsif name == &#39;Home Program&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">        return &quot;home_program&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="81">
            <span class="hits">2</span>
            

            

            <code class="ruby">    elsif name == &#39;Entregas/Despachos&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="82">
            
            

            

            <code class="ruby">        return &quot;delivery&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def create_zipcodes(zipcodes, country_iso)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="90">
            <span class="hits">2</span>
            

            

            <code class="ruby">    i = 0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="91">
            <span class="hits">2</span>
            

            

            <code class="ruby">    errors = []</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="92">
            <span class="hits">2</span>
            

            

            <code class="ruby">    zone_value =  (country_iso == &quot;CL&quot; ? &quot;Comunas&quot; : &quot;Código Postal&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="93">
            <span class="hits">2</span>
            

            

            <code class="ruby">    headers = (country_iso == &quot;CL&quot; ? {administrative_demarcation_name: zone_value, delete: &quot;Borrar&quot; } : {zip: zone_value, delete: &quot;Borrar&quot;  })</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="94">
            <span class="hits">2</span>
            

            

            <code class="ruby">    zipcodes.each(headers) do |row|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="95">
            <span class="hits">10</span>
            

            

            <code class="ruby">        if i &gt; 0</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">          begin</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="97">
            <span class="hits">8</span>
            

            

            <code class="ruby">            country = Country.where(iso: country_iso).try(:take)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="8" data-linenumber="99">
            <span class="hits">8</span>
            

            

            <code class="ruby">            unless country.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="100">
            <span class="hits">6</span>
            

            

            <code class="ruby">              zipcode = (country_iso != &quot;CL&quot; ? Zipcode.where(zip: row[:zip]).try(:take) : Zipcode.where(administrative_demarcation_name: row[:administrative_demarcation_name]).try(:take) )</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="101">
            <span class="hits">6</span>
            

            

            <code class="ruby">              unless zipcode.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">                zipcode.update!(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">                  {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">                    administrative_demarcation_name: row[:administrative_demarcation_name], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">                    zip: row[:zip]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">                  }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">                )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">              else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="109">
            <span class="hits">5</span>
            

            

            <code class="ruby">                zipcode = Zipcode.create!(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">                  {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">                    administrative_demarcation_name: row[:administrative_demarcation_name], </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">                    zip: row[:zip]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">                  }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">                )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="117">
            <span class="hits">6</span>
            

            

            <code class="ruby">              tech_zipcode = self.technician_zipcodes.where(zipcode_id: zipcode.id).try(:take)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="118">
            <span class="hits">6</span>
            

            

            <code class="ruby">              if row[:delete].try(:downcase) == &quot;si&quot; &amp;&amp; !tech_zipcode.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="119">
            
            

            

            <code class="ruby">                tech_zipcode.destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="6" data-linenumber="120">
            <span class="hits">6</span>
            

            

            <code class="ruby">              elsif tech_zipcode.nil?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="5" data-linenumber="121">
            <span class="hits">5</span>
            

            

            <code class="ruby">                self.zipcodes &lt;&lt; zipcode</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">              end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">            end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">          rescue Exception =&gt; e</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="126">
            
            

            

            <code class="ruby">              errors &lt;&lt; &quot;Fila: #{(i+1)}. El zipcode (#{row[:zone].to_s.strip} - #{country_iso}) #{e.message}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">          end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="10" data-linenumber="129">
            <span class="hits">10</span>
            

            

            <code class="ruby">        i = i + 1</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby">    end		  		</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="131">
            <span class="hits">2</span>
            

            

            <code class="ruby">    return errors</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d4fda2e3f22e09b105a899b45362703fdca7c9c0">
  <div class="header">
    <h3>app/models/technician_activity.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class TechnicianActivity &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :technician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :activity</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="37447268a280a6e3b8f23a54822033bf44bc9f54">
  <div class="header">
    <h3>app/models/technician_taxon.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class TechnicianTaxon &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :technician</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d882ad7826cd7139fcbeeed94f571f93ca487d6b">
  <div class="header">
    <h3>app/models/technician_zipcode.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class TechnicianZipcode &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :technician</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :zipcode</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="1634bd318b9aaeef8a52b6944c293445bae08789">
  <div class="header">
    <h3>app/models/user.rb</h3>
    <h4>
      <span class="green">
  93.42%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>76</b> relevant lines.
      <span class="green"><b>71</b> lines covered</span> and
      <span class="red"><b>5</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class User &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  # Include default devise modules. Others available are:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">  # :confirmable, :lockable, :timeoutable, :trackable and :omniauthable :registerable</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :user_roles, dependent: :destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :roles, through: :user_roles</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :user_countries, dependent: :destroy</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :countries, through: :user_countries</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_one :technician</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  has_many :notifications, as: :recipient</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">  after_find :get_role_data</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :country</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :get_roles_names</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="16">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :countries</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :fullname</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :technician_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="19">
            <span class="hits">1</span>
            

            

            <code class="ruby">  attribute :notifcations_number</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">  devise :database_authenticatable,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">         :recoverable, :rememberable, :validatable</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">    after_create :send_welcome_email</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">    validates :lastname, presence: true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">    validates :surname, presence: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">    #validates :phone, presence: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">    #validates :role_id, presence: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="29">
            <span class="hits">1</span>
            

            

            <code class="ruby">  validate :check_if_customer_exists, on: :create</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def ability</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="33">
            <span class="hits">3</span>
            

            

            <code class="ruby">    @ability ||= Ability.new(self)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">  delegate :can?, :cannot?, :to =&gt; :ability</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def notifcations_number</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="324" data-linenumber="39">
            <span class="hits">324</span>
            

            

            <code class="ruby">    self.notifications.unread.size</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def technician_id</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="324" data-linenumber="43">
            <span class="hits">324</span>
            

            

            <code class="ruby">    self.technician.try(:id)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def check_if_customer_exists</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="82" data-linenumber="47">
            <span class="hits">82</span>
            

            

            <code class="ruby">    @customer = ApiSingleton.customers_api(&quot;1&quot;, &quot;10&quot;, email)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="82" data-linenumber="48">
            <span class="hits">82</span>
            

            

            <code class="ruby">    if @customer[&quot;data&quot;].any? &amp;&amp; @customer[&quot;data&quot;][0][&quot;email&quot;] == email</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="49">
            
            

            

            <code class="ruby">      if customer_id.to_s != @customer[&quot;data&quot;][0][&quot;id&quot;].to_s</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="50">
            
            

            

            <code class="ruby">        errors.add(:email, &quot;ya en uso por cliente.&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def country</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="324" data-linenumber="56">
            <span class="hits">324</span>
            

            

            <code class="ruby">    return self.countries[0].try(:iso) rescue nil</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="59">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def generate_api_key</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="60">
            <span class="hits">3</span>
            

            

            <code class="ruby">      token = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="61">
            <span class="hits">3</span>
            

            

            <code class="ruby">      loop do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="62">
            <span class="hits">3</span>
            

            

            <code class="ruby">        token = SecureRandom.base64.tr(&#39;+/=&#39;, &#39;Qrt&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="63">
            <span class="hits">3</span>
            

            

            <code class="ruby">        break token unless User.exists?(api_key: token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="65">
            <span class="hits">3</span>
            

            

            <code class="ruby">      self.update(api_key: token)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="68">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def created_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="327" data-linenumber="69">
            <span class="hits">327</span>
            

            

            <code class="ruby">      self[:created_at].strftime(&quot;%d/%m/%Y %H:%M:%S&quot;) unless self[:created_at].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="72">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def updated_at</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="327" data-linenumber="73">
            <span class="hits">327</span>
            

            

            <code class="ruby">      self[:updated_at].strftime(&quot;%d/%m/%Y %H:%M:%S&quot;) unless self[:updated_at].nil?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def admin?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="218" data-linenumber="77">
            <span class="hits">218</span>
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Administrador&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def field_service?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Field Service&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def tech_managment?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="85">
            
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Technical Management&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def contact_center?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="7" data-linenumber="89">
            <span class="hits">7</span>
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Contact Center&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def technician?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="93">
            
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Técnico&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def customer?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="97">
            <span class="hits">81</span>
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Cliente&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="100">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def delivery?</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="102">
            
            

            

            <code class="ruby">	    return self.roles.include?(Role.find_or_create_by(name: &quot;Entregas/Despacho&quot;))</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">  	end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def role</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="33" data-linenumber="108">
            <span class="hits">33</span>
            

            

            <code class="ruby">      return &quot;admin&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def self.default_pass</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="112">
            <span class="hits">81</span>
            

            

            <code class="ruby">      &quot;mielePartner&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def fullname_raw_json</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="916" data-linenumber="117">
            <span class="hits">916</span>
            

            

            <code class="ruby">      self.try(:firstname).to_s + &#39; &#39; + self.try(:lastname).to_s </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="120">
            <span class="hits">1</span>
            

            

            <code class="ruby">  	def self.search(text)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="121">
            <span class="hits">1</span>
            

            

            <code class="ruby">      User.includes(:roles).joins(:countries).where(&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">        lower(users.firstname) ilike ? OR</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">        lower(users.lastname) ilike ? OR</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">        lower(users.email) ilike ? OR</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">        lower(users.phone) ilike ? OR</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">        unaccent(lower(countries.name)) ilike ?&quot;, &quot;%#{text.try(:downcase)}%&quot;,&quot;%#{text.try(:downcase)}%&quot;, &quot;%#{text.try(:downcase)}%&quot;, &quot;%#{text.try(:downcase)}%&quot;, &quot;%#{text.try(:downcase)}%&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="129">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_roles_names_raw_json</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="916" data-linenumber="130">
            <span class="hits">916</span>
            

            

            <code class="ruby">      return self.roles.first.try(:name)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">    def get_role_data</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">      # define instance variable to validate new data</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="916" data-linenumber="135">
            <span class="hits">916</span>
            

            

            <code class="ruby">      @get_roles_names = self.get_roles_names_raw_json</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="916" data-linenumber="136">
            <span class="hits">916</span>
            

            

            <code class="ruby">      @fullname = self.fullname_raw_json</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="916" data-linenumber="137">
            <span class="hits">916</span>
            

            

            <code class="ruby">      self.get_roles_names = (@get_roles_names)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="916" data-linenumber="138">
            <span class="hits">916</span>
            

            

            <code class="ruby">      self.fullname = @fullname</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="141">
            <span class="hits">1</span>
            

            

            <code class="ruby">    private</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">      def send_welcome_email</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="144">
            <span class="hits">81</span>
            

            

            <code class="ruby">        puts self.inspect</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="81" data-linenumber="145">
            <span class="hits">81</span>
            

            

            <code class="ruby">        DeviseMailer.welcome_email(self).deliver_now if !self.customer?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4bcd727b3a2cf0f78605e11b301e5c8a04b60d65">
  <div class="header">
    <h3>app/models/user_country.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class UserCountry &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :country</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="8e4705e73bb1979708560725f8cd1f6f32d986b3">
  <div class="header">
    <h3>app/models/user_role.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class UserRole &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :user</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  belongs_to :role</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a7ba92a3a6fd045d45bb73ca6ee552d8e2276088">
  <div class="header">
    <h3>app/models/zipcode.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">class Zipcode &lt; ApplicationRecord</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="15c8c293a166deaee3827f56a59711060e62a99a">
  <div class="header">
    <h3>app/notifications/user_notification.rb</h3>
    <h4>
      <span class="yellow">
  89.74%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>39</b> relevant lines.
      <span class="green"><b>35</b> lines covered</span> and
      <span class="red"><b>4</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># To deliver this notification:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># UserNotification.with(post: @post).deliver_later(current_user)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># UserNotification.with(post: @post).deliver(current_user)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">class UserNotification &lt; Noticed::Base</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # Add your delivery methods</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">  #@notification.mark_as_read!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">  #@notification.mark_as_unread!</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">  deliver_by :database</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  # deliver_by :email, mailer: &quot;UserMailer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # deliver_by :slack</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  # deliver_by :custom, class: &quot;MyDeliveryMethod&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  # Add required params</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  # param :post</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  # Define helper methods to make rendering easier.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  # def message</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  #   t(&quot;.message&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  # def url</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  #   post_path(params[:post])</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.notify_service_visit_prescheduled(notification_object, notification_type)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="33">
            <span class="hits">3</span>
            

            

            <code class="ruby">    if notification_type == &quot;service&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="34">
            <span class="hits">2</span>
            

            

            <code class="ruby">      users = User.joins(:roles).where(&quot;roles.name = &#39;Field Service&#39; OR roles.name = &#39;Technical Management&#39; OR roles.name = &#39;Contact Center&#39; OR roles.name = &#39;Administrador&#39; &quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="35">
            <span class="hits">2</span>
            

            

            <code class="ruby">      customer_id = notification_object[&quot;customer_id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="36">
            <span class="hits">2</span>
            

            

            <code class="ruby">      service_id = notification_object[&quot;id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="37">
            <span class="hits">2</span>
            

            

            <code class="ruby">      service_number = notification_object[&quot;number&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="38">
            <span class="hits">2</span>
            

            

            <code class="ruby">      notification_check = notification_object[&quot;is_presheduled&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    else</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">      users = User.joins(:roles).where(&quot;roles.name = ? OR roles.name = &#39;Administrador&#39;&quot;, &quot;Field Service&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">      customer_id = notification_object[&quot;customer_id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">      service_id = notification_object[&quot;service_id&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">      service_number = notification_object[&quot;service_number&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">      notification_check = (notification_object[&quot;status&quot;] != &quot;new&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="3" data-linenumber="46">
            <span class="hits">3</span>
            

            

            <code class="ruby">    if notification_check</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="47">
            <span class="hits">1</span>
            

            

            <code class="ruby">      notification = UserNotification.with(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">        data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">            id: &quot;service_visit_#{service_id}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">            name: &quot;#{service_number} - Ingreso de nuevo servicio/visita&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">            description: &quot;Revisión requerida por Technical Management o Field Service&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">            link: &quot;/customers/#{customer_id}/services/#{service_id}/edit_service&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">            }   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        ) </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">      users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="56">
            <span class="hits">1</span>
            

            

            <code class="ruby">        notification.deliver_later(user)   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.notify_service_prediagnosis_submit(customer_service)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">    notification = UserNotification.with(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">          id: &quot;service_prediagnosis_#{customer_service[&quot;id&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">          name: &quot;#{customer_service[&quot;number&quot;]} - Pre-Diagnóstico completado por Technical Management&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">          description: &quot;Revisión requerida por Field Service&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">          link: &quot;/customers/#{customer_service[&quot;customer_id&quot;]}/services/#{customer_service[&quot;id&quot;]}/edit_service&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="72">
            
            

            

            <code class="ruby">      users = User.joins(:roles).where(&quot;roles.name = ? OR roles.name = &#39;Administrador&#39;&quot;, &quot;Field Service&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="73">
            
            

            

            <code class="ruby">      users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="74">
            
            

            

            <code class="ruby">        notification.deliver_later(user)   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.notify_complaint_create(complaint)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">    notification = UserNotification.with(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">      data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby">          id: &quot;complaint_#{complaint[&quot;id&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">          name: &quot;#{complaint[&quot;number&quot;]} - Queja de servicio pendiente&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">          description: &quot;Revisión requerida por #{complaint[&quot;channel&quot;]}, Servicio: #{complaint[&quot;service&quot;][&quot;number&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">          link: &quot;/customers/#{complaint[&quot;customer_id&quot;]}/show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">          }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">      )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">      users = User.joins(:roles).where(&quot;roles.name = ? OR roles.name = &#39;Administrador&#39;&quot;, complaint[&quot;channel&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">      users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">        notification.deliver_later(user)   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="98">
            <span class="hits">1</span>
            

            

            <code class="ruby">  def self.notify_complaint_update(complaint)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="99">
            <span class="hits">2</span>
            

            

            <code class="ruby">    if(complaint[&quot;stage&quot;] == &quot;first_proposal&quot; || complaint[&quot;stage&quot;] == &quot;second_proposal&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">      notification = UserNotification.with(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby">        data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">            id: &quot;complaint_first_proposal_#{complaint[&quot;id&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">            name: &quot;#{complaint[&quot;number&quot;]} - Ingreso de propuesta de compensación de una Queja&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">            description: &quot;Revisión requerida por Contact Center, Servicio: #{complaint[&quot;service&quot;][&quot;number&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">            link: &quot;/customers/#{complaint[&quot;customer_id&quot;]}/show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="109">
            <span class="hits">1</span>
            

            

            <code class="ruby">      users = User.joins(:roles).where(&quot;roles.name = ? OR roles.name = &#39;Administrador&#39;&quot;, &quot;Contact Center&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            <span class="hits">1</span>
            

            

            <code class="ruby">      users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">        notification.deliver_later(user)   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">    elsif(complaint[&quot;stage&quot;] == &quot;scale_complaint&quot; || complaint[&quot;stage&quot;] == &quot;close_complaint&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">      notification = UserNotification.with(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">        data: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">            id: &quot;complaint_#{complaint[&quot;id&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">            name: &quot;#{complaint[&quot;number&quot;]} - Queja de servicio pendiente&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">            description: &quot;Revisión requerida por #{complaint[&quot;channel&quot;]}, Servicio: #{complaint[&quot;service&quot;][&quot;number&quot;]}&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">            link: &quot;/customers/#{complaint[&quot;customer_id&quot;]}/show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">            }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">        )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">        users = User.joins(:roles).where(&quot;roles.name = ? OR roles.name = &#39;Administrador&#39;&quot;, complaint[&quot;channel&quot;])</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">        users.each do |user|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            <span class="hits">1</span>
            

            

            <code class="ruby">          notification.deliver_later(user)   </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="126">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="6b872d6db24b441d69930f8b5eab9c89e8e05c6a">
  <div class="header">
    <h3>config/application.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>26</b> relevant lines.
      <span class="green"><b>26</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;boot&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;rails&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Pick the frameworks you want:</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_model/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_job/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_record/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;active_storage/engine&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_controller/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_mailer/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_mailbox/engine&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="12">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_text/engine&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="13">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_view/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;action_cable/engine&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &quot;sprockets/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"># require &quot;rails/test_unit/railtie&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"># Require the gems listed in Gemfile, including any gems</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"># you&#39;ve limited to :test, :development, or :production.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="20">
            <span class="hits">1</span>
            

            

            <code class="ruby">Bundler.require(*Rails.groups)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">module BoilerplateRails6React</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">  class Application &lt; Rails::Application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">    # Initialize configuration defaults for originally generated Rails version.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.load_defaults 6.0</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="26">
            <span class="hits">1</span>
            

            

            <code class="ruby">    I18n.config.enforce_available_locales = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.i18n.available_locales = [&quot;es&quot;,&quot;en&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.i18n.default_locale = &quot;es&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">    # Settings in config/environments/* take precedence over those specified here.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    # Application configuration can go into files in config/initializers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">    # -- all .rb files in that directory are automatically loaded after loading</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">    # the framework and any gems in your application.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="35">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.time_zone = &#39;Mexico City&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.active_record.default_timezone = :local</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">    # Settings in config/environments/* take precedence over those specified here.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">    # Application configuration can go into files in config/initializers</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">    # -- all .rb files in that directory are automatically loaded after loading</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">    # the framework and any gems in your application.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">    # Don&#39;t generate system test files.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="43">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.generators.system_tests = nil</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.action_mailer.delivery_method = :smtp</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.assets.version = &quot;3.7&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="46">
            <span class="hits">1</span>
            

            

            <code class="ruby">    config.action_mailer.smtp_settings = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">        tls: true,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">        address:              &#39;smtp.gmail.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">        port:                 465,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">        domain:               &#39;gmail.com&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">        user_name:            Rails.application.secrets.mail_admin,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">        password:             Rails.application.secrets.pass_admin,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">        authentication:       :plain,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">        enable_starttls_auto: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">    }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d08fccc68083b029149da4ced2c62802787efdca">
  <div class="header">
    <h3>config/boot.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">ENV[&#39;BUNDLE_GEMFILE&#39;] ||= File.expand_path(&#39;../Gemfile&#39;, __dir__)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;bundler/setup&#39; # Set up gems listed in the Gemfile.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">require &#39;bootsnap/setup&#39; # Speed up boot time by caching expensive operations.</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="66a5b566890d975656e157edfcd9af51ac7754da">
  <div class="header">
    <h3>config/environment.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Load the Rails application.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">require_relative &#39;application&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Initialize the Rails application.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.initialize!</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="732a8da13881daded5a6ca9ebfeda3bdf1cca6b9">
  <div class="header">
    <h3>config/environments/test.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>22</b> relevant lines.
      <span class="green"><b>22</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># The test environment is used exclusively to run your application&#39;s</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"># test suite. You never need to work with it otherwise. Remember that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># your test database is &quot;scratch space&quot; for the test suite and is wiped</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># and recreated between test runs. Don&#39;t rely on the data there!</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.configure do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">  # Settings specified here will take precedence over those in config/application.rb.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.cache_classes = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  # Do not eager load code on boot. This avoids loading your whole application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  # just for the purpose of running a single test. If you are using a tool that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # preloads Rails for running tests, you may have to set it to true.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.eager_load = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  # Configure public file server for tests with Cache-Control for performance.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="17">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.public_file_server.enabled = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="18">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.public_file_server.headers = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    &#39;Cache-Control&#39; =&gt; &quot;public, max-age=#{1.hour.to_i}&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  # Show full error reports and disable caching.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.consider_all_requests_local       = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="24">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_controller.perform_caching = false</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="25">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.cache_store = :null_store</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  # Raise exceptions instead of rendering exception templates.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_dispatch.show_exceptions = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">  # Disable request forgery protection in test environment.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="31">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_controller.allow_forgery_protection = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  # Store uploaded files on the local file system in a temporary directory.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="34">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.active_storage.service = :test</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="36">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_mailer.perform_caching = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  # Tell Action Mailer not to deliver emails to the real world.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">  # The :test delivery method accumulates sent emails in the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">  # ActionMailer::Base.deliveries array.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_mailer.delivery_method = :test</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  # Print deprecation notices to the stderr.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="44">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.active_support.deprecation = :stderr</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  # Raises error for missing translations.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  # config.action_view.raise_on_missing_translations = true</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="48">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.file_watcher = ActiveSupport::EventedFileUpdateChecker</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="49">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_mailer.preview_path = &quot;#{Rails.root}/spec/mailers/previews&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="50">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_mailer.default_url_options = { :host =&gt; &#39;localhost:3000&#39; } </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_mailer.default :charset =&gt; &quot;utf-8&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="52">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.action_mailer.asset_host = &#39;http://localhost:3000&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="53">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.site_url = &#39;http://localhost:3000&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="54">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.official_site_url_CL = &#39;www.miele.cl&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="55">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.official_site_url_MX = &#39;www.miele.com.mx&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="30afd6df43275b89045e70c4cb42f40fbc81177f">
  <div class="header">
    <h3>config/initializers/apipie.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>8</b> relevant lines.
      <span class="green"><b>8</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">Apipie.configure do |config|</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.app_name                = &quot;Miele Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.app_info                = &quot;API para apps de clientes y técnicos de Miele Tickets&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.api_base_url            = &quot;&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.doc_base_url            = &quot;/docs/api&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">  # where is your API defined?</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.api_controllers_matcher = &quot;#{Rails.root}/app/controllers/api/**/*.rb&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.languages               = [&quot;es&quot;]</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.default_locale          = &quot;es&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f041566d86c4cb9ccb3b68a97327b5b33a4d7834">
  <div class="header">
    <h3>config/initializers/application_controller_renderer.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>0</b> relevant lines.
      <span class="green"><b>0</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># ActiveSupport::Reloader.to_prepare do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">#   ApplicationController.renderer.defaults.merge!(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">#     http_host: &#39;example.org&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">#     https: false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">#   )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"># end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="7243638b7c4798ca522c6a650b2787d5c7c0c446">
  <div class="header">
    <h3>config/initializers/asset_sync.rb</h3>
    <h4>
      <span class="red">
  7.14%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>14</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>13</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">if defined?(AssetSync)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="2">
            
            

            

            <code class="ruby">    AssetSync.configure do |config|</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="3">
            
            

            

            <code class="ruby">        config.fog_provider = &#39;AWS&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="4">
            
            

            

            <code class="ruby">        config.aws_access_key_id = &#39;AKIAQKX5DXSEQSB7NQ5C&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="5">
            
            

            

            <code class="ruby">        config.aws_secret_access_key = &#39;V5pLEdC7yKg580JHGjUgIGaFkVKzChwNNZ9tVdPw&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="6">
            
            

            

            <code class="ruby">        config.fog_directory = &#39;mieletickets&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="7">
            
            

            

            <code class="ruby">        config.fog_region = &#39;us-east-1&#39; # To use AWS reduced redundancy storage.</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="8">
            
            

            

            <code class="ruby">        config.gzip_compression = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">      # config.aws_reduced_redundancy = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">      # Change AWS signature version. Default is 4</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">      # config.aws_signature_version = 4</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">      # Change host option in fog (only if you need to)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">      # config.fog_host = &quot;s3.amazonaws.com&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">      # Use http instead of https. Default should be &quot;https&quot; (at least for fog-aws)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">      # config.fog_scheme = &quot;http&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">      # Invalidate a file on a cdn after uploading files</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">      # config.cdn_distribution_id = &quot;12345&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">      # config.invalidate = [&#39;file1.js&#39;]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">      # Increase upload performance by configuring your region</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">      # config.fog_region = &#39;eu-west-1&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">      # Set `public` option when uploading file depending on value,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby">      # Setting to &quot;default&quot; makes asset sync skip setting the option</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">      # Possible values: true, false, &quot;default&quot; (default: true)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby">      # config.fog_public = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">      # Don&#39;t delete files from the store</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">      # config.existing_remote_files = &quot;keep&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">      # Automatically replace files with their equivalent gzip compressed version</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">      # config.gzip_compression = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">      # Use the Rails generated &#39;manifest.yml&#39; file to produce the list of files to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="39">
            
            

            

            <code class="ruby">      # upload instead of searching the assets directory.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby">      # config.manifest = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">      # Upload the manifest file also.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">      # config.include_manifest = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">      # Fail silently.  Useful for environments such as Heroku</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">      # config.fail_silently = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">      # Log silently. Default is `true`. But you can set it to false if more logging message are preferred.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">      # Logging messages are sent to `STDOUT` when `log_silently` is falsy</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">      # config.log_silently = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">      #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">      # Allow custom assets to be cacheable. Note: The base filename will be matched</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">      # If you have an asset with name `app.0ba4d3.js`, only `app.0ba4d3` will need to be matched</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">      # config.cache_asset_regexps = [ /\.[a-f0-9]{8}$/i, /\.[a-f0-9]{20}$/i ]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">      # config.cache_asset_regexp = /\.[a-f0-9]{8}$/i</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby">      # Disable automatic run on precompile in order to attach to webpacker rake task</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="58">
            
            

            

            <code class="ruby">      config.run_on_precompile = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">      # The block should return an array of file paths</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="60">
            
            

            

            <code class="ruby">      config.add_local_file_paths do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">        # Support webpacker assets</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="62">
            
            

            

            <code class="ruby">        public_root = Rails.root.join(&quot;public&quot;)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="63">
            
            

            

            <code class="ruby">        Dir.chdir(public_root) do</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="64">
            
            

            

            <code class="ruby">          packs_dir = Webpacker.config.public_output_path.relative_path_from(public_root)</code>
          </li>
        </div>
      
        <div>
          <li class="missed" data-hits="0" data-linenumber="65">
            
            

            

            <code class="ruby">          Dir[File.join(packs_dir, &#39;/**/**&#39;)]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="66">
            
            

            

            <code class="ruby">        end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="af88668c16ca0933b5746b038b4a6c4dd4fb47f3">
  <div class="header">
    <h3>config/initializers/assets.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Version of your assets, change this if you want to expire all your assets.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.config.assets.version = &#39;1.0&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># Add additional assets to the asset load path.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"># Rails.application.config.assets.paths &lt;&lt; Emoji.images_path</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby"># Add Yarn node_modules folder to the asset load path.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.config.assets.paths &lt;&lt; Rails.root.join(&#39;node_modules&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"># Precompile additional assets.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"># application.js, application.css, and all non-JS/CSS in the app/assets</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"># folder are already added.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"># Rails.application.config.assets.precompile += %w( admin.js admin.css )</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="23084b230a35fed1e2e7ba63dde55ba3bb0da05f">
  <div class="header">
    <h3>config/initializers/backtrace_silencers.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>0</b> relevant lines.
      <span class="green"><b>0</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># You can add backtrace silencers for libraries that you&#39;re using but don&#39;t wish to see in your backtraces.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Rails.backtrace_cleaner.add_silencer { |line| line =~ /my_noisy_library/ }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># You can also remove all the silencers if you&#39;re trying to debug a problem that might stem from framework code.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"># Rails.backtrace_cleaner.remove_silencers!</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="bc3d4ed5af87190087f447572ef86fff193b0260">
  <div class="header">
    <h3>config/initializers/content_security_policy.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>0</b> relevant lines.
      <span class="green"><b>0</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Define an application-wide content security policy</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># For further information see the following documentation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"># https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"># Rails.application.config.content_security_policy do |policy|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">#   policy.default_src :self, :https</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">#   policy.font_src    :self, :https, :data</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">#   policy.img_src     :self, :https, :data</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">#   policy.object_src  :none</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">#   policy.script_src  :self, :https</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">#   policy.style_src   :self, :https</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">#   # If you are using webpack-dev-server then specify webpack-dev-server host</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">#   policy.connect_src :self, :https, &quot;http://localhost:3035&quot;, &quot;ws://localhost:3035&quot; if Rails.env.development?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">#   # Specify URI for violation reports</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">#   # policy.report_uri &quot;/csp-violation-report-endpoint&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby"># end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby"># If you are using UJS then enable automatic nonce generation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"># Rails.application.config.content_security_policy_nonce_generator = -&gt; request { SecureRandom.base64(16) }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby"># Set the nonce only to specific directives</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"># Rails.application.config.content_security_policy_nonce_directives = %w(script-src)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby"># Report CSP violations to a specified URI</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"># For further information see the following documentation:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby"># https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="30">
            
            

            

            <code class="ruby"># Rails.application.config.content_security_policy_report_only = true</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="d6ed8e99d18a9c55b121e0d90912a2837d9ebef4">
  <div class="header">
    <h3>config/initializers/cookies_serializer.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Specify a serializer for the signed and encrypted cookie jars.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Valid options are :json, :marshal, and :hybrid.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.config.action_dispatch.cookies_serializer = :json</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="a2c95fdf69e77b81a520a9f64678e71265e67705">
  <div class="header">
    <h3>config/initializers/date_time.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>3</b> relevant lines.
      <span class="green"><b>3</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">Date::DATE_FORMATS[:default] = &quot;%d/%m/%Y&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Time</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">Time::DATE_FORMATS[:default] = &quot;%d/%m/%Y %H:%M:%S&quot; </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">DateTime::DATE_FORMATS[:default] = &quot;%d/%m/%Y %H:%M:%S&quot; </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="323ecaf96189bebc0b3e433dc2f9d1a840e2cb40">
  <div class="header">
    <h3>config/initializers/devise.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>14</b> relevant lines.
      <span class="green"><b>14</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># frozen_string_literal: true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Assuming you have not yet modified this file, each configuration option below</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># is set to its default value. Note that some are commented out while others</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"># are not: uncommented lines are intended to protect your configuration from</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># breaking changes in upgrades (i.e., in the event that future versions of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"># Devise change the default values for those options).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"># Use this hook to configure devise mailer, warden hooks and so forth.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"># Many of these configuration options can be set straight in your model.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">Devise.setup do |config|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  # The secret key used by Devise. Devise uses this key to generate</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # random tokens. Changing this key will render invalid all existing</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">  # confirmation, reset password and unlock tokens in the database.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">  # Devise will use the `secret_key_base` as its `secret_key`</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  # by default. You can change it below and use your own secret key.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  # config.secret_key = &#39;deed48a3d0c8757181675c5e87ab68c822137420e09c19bd939ce9f78d5938c87d9b409558d464761de6ab01be788353c423d51f60d7a82cd268e069b72bbca3&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  # ==&gt; Controller configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">  # Configure the parent class to the devise controllers.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  # config.parent_controller = &#39;DeviseController&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="23">
            
            

            

            <code class="ruby">  # ==&gt; Mailer Configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  # Configure the e-mail address which will be shown in Devise::Mailer,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby">  # note that it will be overwritten if you use your own mailer class</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  # with default &quot;from&quot; parameter.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="27">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.mailer_sender = &#39;please-change-me-at-config-initializers-devise@example.com&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="28">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  # Configure the class responsible to send e-mails.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.mailer = &#39;DeviseMailer&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="32">
            
            

            

            <code class="ruby">  # Configure the parent class responsible to send e-mails.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="33">
            
            

            

            <code class="ruby">  # config.parent_mailer = &#39;ActionMailer::Base&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  # ==&gt; ORM configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  # Load and configure the ORM. Supports :active_record (default) and</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  # :mongoid (bson_ext recommended) by default. Other ORMs may be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="38">
            
            

            

            <code class="ruby">  # available as additional gems.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">  require &#39;devise/orm/active_record&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="40">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="41">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for any authentication mechanism</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="42">
            
            

            

            <code class="ruby">  # Configure which keys are used when authenticating a user. The default is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  # just :email. You can configure it to use [:username, :subdomain], so for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  # authenticating a user, both parameters are required. Remember that those</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="45">
            
            

            

            <code class="ruby">  # parameters are used only when authenticating and not when retrieving from</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby">  # session. If you need permissions, you should implement that in a before filter.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby">  # You can also supply a hash where the value is a boolean determining whether</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  # or not authentication should be aborted when the value is not present.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">  # config.authentication_keys = [:email]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="51">
            
            

            

            <code class="ruby">  # Configure parameters from the request object used for authentication. Each entry</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby">  # given should be a request method and it will automatically be passed to the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby">  # find_for_authentication method and considered in your model lookup. For instance,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby">  # if you set :request_keys to [:subdomain], :subdomain will be used on authentication.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  # The same considerations mentioned for authentication_keys also apply to request_keys.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  # config.request_keys = []</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="57">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby">  # Configure which authentication keys should be case-insensitive.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby">  # These keys will be downcased upon creating or modifying a user and when used</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby">  # to authenticate or find a user. Default is :email.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="61">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.case_insensitive_keys = [:email]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="62">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="63">
            
            

            

            <code class="ruby">  # Configure which authentication keys should have whitespace stripped.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">  # These keys will have whitespace before and after removed upon creating or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="65">
            
            

            

            <code class="ruby">  # modifying a user and when used to authenticate or find a user. Default is :email.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.strip_whitespace_keys = [:email]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="67">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">  # Tell if authentication through request.params is enabled. True by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby">  # It can be set to an array that will enable params authentication only for the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">  # given strategies, for example, `config.params_authenticatable = [:database]` will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="71">
            
            

            

            <code class="ruby">  # enable it only for database (email + password) authentication.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">  # config.params_authenticatable = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="74">
            
            

            

            <code class="ruby">  # Tell if authentication through HTTP Auth is enabled. False by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="75">
            
            

            

            <code class="ruby">  # It can be set to an array that will enable http authentication only for the</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="76">
            
            

            

            <code class="ruby">  # given strategies, for example, `config.http_authenticatable = [:database]` will</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="77">
            
            

            

            <code class="ruby">  # enable it only for database authentication.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="78">
            
            

            

            <code class="ruby">  # For API-only applications to support authentication &quot;out-of-the-box&quot;, you will likely want to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">  # enable this with :database unless you are using a custom strategy.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="80">
            
            

            

            <code class="ruby">  # The supported strategies are:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="81">
            
            

            

            <code class="ruby">  # :database      = Support basic authentication with authentication key + password</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="82">
            
            

            

            <code class="ruby">  # config.http_authenticatable = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="83">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="84">
            
            

            

            <code class="ruby">  # If 401 status code should be returned for AJAX requests. True by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="85">
            
            

            

            <code class="ruby">  # config.http_authenticatable_on_xhr = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">  # The realm used in Http Basic Authentication. &#39;Application&#39; by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="88">
            
            

            

            <code class="ruby">  # config.http_authentication_realm = &#39;Application&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="89">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="90">
            
            

            

            <code class="ruby">  # It will change confirmation, password recovery and other workflows</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="91">
            
            

            

            <code class="ruby">  # to behave the same regardless if the e-mail provided was right or wrong.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="92">
            
            

            

            <code class="ruby">  # Does not affect registerable.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="93">
            
            

            

            <code class="ruby">  # config.paranoid = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="94">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="95">
            
            

            

            <code class="ruby">  # By default Devise will store the user in session. You can skip storage for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="96">
            
            

            

            <code class="ruby">  # particular strategies by setting this option.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby">  # Notice that if you are skipping storage for all authentication paths, you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">  # may want to disable generating routes to Devise&#39;s sessions controller by</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="99">
            
            

            

            <code class="ruby">  # passing skip: :sessions to `devise_for` in your config/routes.rb</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.skip_session_storage = [:http_auth]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="101">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="102">
            
            

            

            <code class="ruby">  # By default, Devise cleans up the CSRF token on authentication to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="103">
            
            

            

            <code class="ruby">  # avoid CSRF token fixation attacks. This means that, when using AJAX</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="104">
            
            

            

            <code class="ruby">  # requests for sign in and sign up, you need to get a new CSRF token</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="105">
            
            

            

            <code class="ruby">  # from the server. You can disable this option at your own risk.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="106">
            
            

            

            <code class="ruby">  # config.clean_up_csrf_token_on_authentication = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="107">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="108">
            
            

            

            <code class="ruby">  # When false, Devise will not attempt to reload routes on eager load.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">  # This can reduce the time taken to boot the app but if your application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="110">
            
            

            

            <code class="ruby">  # requires the Devise mappings to be loaded during boot time the application</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="111">
            
            

            

            <code class="ruby">  # won&#39;t boot properly.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="112">
            
            

            

            <code class="ruby">  # config.reload_routes = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="113">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="114">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :database_authenticatable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="115">
            
            

            

            <code class="ruby">  # For bcrypt, this is the cost for hashing the password and defaults to 12. If</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="116">
            
            

            

            <code class="ruby">  # using other algorithms, it sets how many times you want the password to be hashed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="117">
            
            

            

            <code class="ruby">  # The number of stretches used for generating the hashed password are stored</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="118">
            
            

            

            <code class="ruby">  # with the hashed password. This allows you to change the stretches without</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">  # invalidating existing passwords.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">  # Limiting the stretches to just one in testing will increase the performance of</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">  # your test suite dramatically. However, it is STRONGLY RECOMMENDED to not use</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="123">
            
            

            

            <code class="ruby">  # a value less than 10 in other environments. Note that, for bcrypt (the default</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="124">
            
            

            

            <code class="ruby">  # algorithm), the cost increases exponentially with the number of stretches (e.g.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="125">
            
            

            

            <code class="ruby">  # a value of 20 is already extremely slow: approx. 60 seconds for 1 calculation).</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.stretches = Rails.env.test? ? 1 : 12</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="127">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="128">
            
            

            

            <code class="ruby">  # Set up a pepper to generate the hashed password.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="129">
            
            

            

            <code class="ruby">  # config.pepper = &#39;cf7b354bf40cb3a3393d9868f38eaa3dacb7845597d3fcdc3c732fc2eb9078bb44e6d9b962f50f0dbca06db712f74b9dd39d8074a35729fe2c6b22f4946b92ed&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby">  # Send a notification to the original email when the user&#39;s email is changed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">  # config.send_email_changed_notification = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="133">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="134">
            
            

            

            <code class="ruby">  # Send a notification email when the user&#39;s password is changed.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="135">
            
            

            

            <code class="ruby">  # config.send_password_change_notification = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :confirmable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">  # A period that the user is allowed to access the website even without</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="139">
            
            

            

            <code class="ruby">  # confirming their account. For instance, if set to 2.days, the user will be</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="140">
            
            

            

            <code class="ruby">  # able to access the website for two days without confirming their account,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">  # access will be blocked just in the third day.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="142">
            
            

            

            <code class="ruby">  # You can also set it to nil, which will allow the user to access the website</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="143">
            
            

            

            <code class="ruby">  # without confirming their account.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="144">
            
            

            

            <code class="ruby">  # Default is 0.days, meaning the user cannot access the website without</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="145">
            
            

            

            <code class="ruby">  # confirming their account.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="146">
            
            

            

            <code class="ruby">  # config.allow_unconfirmed_access_for = 2.days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="147">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="148">
            
            

            

            <code class="ruby">  # A period that the user is allowed to confirm their account before their</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="149">
            
            

            

            <code class="ruby">  # token becomes invalid. For example, if set to 3.days, the user can confirm</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="150">
            
            

            

            <code class="ruby">  # their account within 3 days after the mail was sent, but on the fourth day</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="151">
            
            

            

            <code class="ruby">  # their account can&#39;t be confirmed with the token any more.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby">  # Default is nil, meaning there is no restriction on how long a user can take</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">  # before confirming their account.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="154">
            
            

            

            <code class="ruby">  # config.confirm_within = 3.days</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="155">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="156">
            
            

            

            <code class="ruby">  # If true, requires any email changes to be confirmed (exactly the same way as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="157">
            
            

            

            <code class="ruby">  # initial account confirmation) to be applied. Requires additional unconfirmed_email</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="158">
            
            

            

            <code class="ruby">  # db field (see migrations). Until confirmed, new email is stored in</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="159">
            
            

            

            <code class="ruby">  # unconfirmed_email column, and copied to email column on successful confirmation.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="160">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.reconfirmable = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="162">
            
            

            

            <code class="ruby">  # Defines which key will be used when confirming an account</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="163">
            
            

            

            <code class="ruby">  # config.confirmation_keys = [:email]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="164">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :rememberable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">  # The time the user will be remembered without asking for credentials again.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="167">
            
            

            

            <code class="ruby">  # config.remember_for = 2.weeks</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="168">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby">  # Invalidates all the remember me tokens when the user signs out.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="170">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.expire_all_remember_me_on_sign_out = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="171">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">  # If true, extends the user&#39;s remember period when remembered via cookie.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">  # config.extend_remember_period = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="174">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="175">
            
            

            

            <code class="ruby">  # Options to be passed to the created cookie. For instance, you can set</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby">  # secure: true in order to force SSL only cookies.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">  # config.rememberable_options = {}</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="178">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="179">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :validatable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="180">
            
            

            

            <code class="ruby">  # Range for password length.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="181">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.password_length = 6..128</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="183">
            
            

            

            <code class="ruby">  # Email regex used to validate email formats. It simply asserts that</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="184">
            
            

            

            <code class="ruby">  # one (and only one) @ exists in the given string. This is mainly</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="185">
            
            

            

            <code class="ruby">  # to give user feedback and not to assert the e-mail validity.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.email_regexp = /\A[^@\s]+@[^@\s]+\z/</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="187">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="188">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :timeoutable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="189">
            
            

            

            <code class="ruby">  # The time you want to timeout the user session without activity. After this</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="190">
            
            

            

            <code class="ruby">  # time the user will be asked for credentials again. Default is 30 minutes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="191">
            
            

            

            <code class="ruby">  # config.timeout_in = 30.minutes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="192">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :lockable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="194">
            
            

            

            <code class="ruby">  # Defines which strategy will be used to lock an account.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="195">
            
            

            

            <code class="ruby">  # :failed_attempts = Locks an account after a number of failed attempts to sign in.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="196">
            
            

            

            <code class="ruby">  # :none            = No lock strategy. You should handle locking by yourself.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">  # config.lock_strategy = :failed_attempts</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="199">
            
            

            

            <code class="ruby">  # Defines which key will be used when locking and unlocking an account</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="200">
            
            

            

            <code class="ruby">  # config.unlock_keys = [:email]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="201">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby">  # Defines which strategy will be used to unlock an account.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">  # :email = Sends an unlock link to the user email</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="204">
            
            

            

            <code class="ruby">  # :time  = Re-enables login after a certain amount of time (see :unlock_in below)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="205">
            
            

            

            <code class="ruby">  # :both  = Enables both strategies</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="206">
            
            

            

            <code class="ruby">  # :none  = No unlock strategy. You should handle unlocking by yourself.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="207">
            
            

            

            <code class="ruby">  # config.unlock_strategy = :both</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">  # Number of authentication tries before locking an account if lock_strategy</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="210">
            
            

            

            <code class="ruby">  # is failed attempts.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby">  # config.maximum_attempts = 20</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="213">
            
            

            

            <code class="ruby">  # Time interval to unlock the account if :time is enabled as unlock_strategy.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">  # config.unlock_in = 1.hour</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="216">
            
            

            

            <code class="ruby">  # Warn on the last attempt before the account is locked.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby">  # config.last_attempt_warning = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="219">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :recoverable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="220">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">  # Defines which key will be used when recovering the password for an account</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">  # config.reset_password_keys = [:email]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="223">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">  # Time interval you can reset your password with a reset password key.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">  # Don&#39;t put a too small interval or your users won&#39;t have the time to</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="226">
            
            

            

            <code class="ruby">  # change their passwords.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="227">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.reset_password_within = 6.hours</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="228">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">  # When set to false, does not sign a user in automatically after their password is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">  # reset. Defaults to true, so a user is signed in automatically after a reset.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="231">
            
            

            

            <code class="ruby">  # config.sign_in_after_reset_password = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :encryptable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="234">
            
            

            

            <code class="ruby">  # Allow you to use another hashing or encryption algorithm besides bcrypt (default).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="235">
            
            

            

            <code class="ruby">  # You can use :sha1, :sha512 or algorithms from others authentication tools as</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="236">
            
            

            

            <code class="ruby">  # :clearance_sha1, :authlogic_sha512 (then you should set stretches above to 20</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="237">
            
            

            

            <code class="ruby">  # for default behavior) and :restful_authentication_sha1 (then you should set</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">  # stretches to 10, and copy REST_AUTH_SITE_KEY to pepper).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">  # Require the `devise-encryptable` gem when using anything other than bcrypt</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="241">
            
            

            

            <code class="ruby">  # config.encryptor = :sha512</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="242">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">  # ==&gt; Scopes configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="244">
            
            

            

            <code class="ruby">  # Turn scoped views on. Before rendering &quot;sessions/new&quot;, it will first check for</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="245">
            
            

            

            <code class="ruby">  # &quot;users/sessions/new&quot;. It&#39;s turned off by default because it&#39;s slower if you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="246">
            
            

            

            <code class="ruby">  # are using only default views.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="247">
            
            

            

            <code class="ruby">  # config.scoped_views = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="248">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="249">
            
            

            

            <code class="ruby">  # Configure the default scope given to Warden. By default it&#39;s the first</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="250">
            
            

            

            <code class="ruby">  # devise role declared in your routes (usually :user).</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">  # config.default_scope = :user</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">  # Set this configuration to false if you want /users/sign_out to sign out</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby">  # only the current scope. By default, Devise signs out all scopes.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="255">
            
            

            

            <code class="ruby">  # config.sign_out_all_scopes = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="256">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">  # ==&gt; Navigation configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">  # Lists the formats that should be treated as navigational. Formats like</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="259">
            
            

            

            <code class="ruby">  # :html, should redirect to the sign in page when the user does not have</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="260">
            
            

            

            <code class="ruby">  # access, but formats like :xml or :json, should return 401.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="261">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="262">
            
            

            

            <code class="ruby">  # If you have any extra navigational formats, like :iphone or :mobile, you</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="263">
            
            

            

            <code class="ruby">  # should add them to the navigational formats lists.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="264">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="265">
            
            

            

            <code class="ruby">  # The &quot;*/*&quot; below is required to match Internet Explorer requests.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="266">
            
            

            

            <code class="ruby">  # config.navigational_formats = [&#39;*/*&#39;, :html]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="267">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="268">
            
            

            

            <code class="ruby">  # The default HTTP method used to sign out a resource. Default is :delete.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="269">
            <span class="hits">1</span>
            

            

            <code class="ruby">  config.sign_out_via = :delete</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="270">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="271">
            
            

            

            <code class="ruby">  # ==&gt; OmniAuth</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="272">
            
            

            

            <code class="ruby">  # Add a new OmniAuth provider. Check the wiki for more information on setting</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="273">
            
            

            

            <code class="ruby">  # up on your models and hooks.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="274">
            
            

            

            <code class="ruby">  # config.omniauth :github, &#39;APP_ID&#39;, &#39;APP_SECRET&#39;, scope: &#39;user,public_repo&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="275">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="276">
            
            

            

            <code class="ruby">  # ==&gt; Warden configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="277">
            
            

            

            <code class="ruby">  # If you want to use other strategies, that are not supported by Devise, or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="278">
            
            

            

            <code class="ruby">  # change the failure app, you can configure them inside the config.warden block.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="279">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="280">
            
            

            

            <code class="ruby">  # config.warden do |manager|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="281">
            
            

            

            <code class="ruby">  #   manager.intercept_401 = false</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="282">
            
            

            

            <code class="ruby">  #   manager.default_strategies(scope: :user).unshift :some_external_strategy</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="283">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="284">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="285">
            
            

            

            <code class="ruby">  # ==&gt; Mountable engine configurations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="286">
            
            

            

            <code class="ruby">  # When using Devise inside an engine, let&#39;s call it `MyEngine`, and this engine</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="287">
            
            

            

            <code class="ruby">  # is mountable, there are some extra configurations to be taken into account.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="288">
            
            

            

            <code class="ruby">  # The following options are available, assuming the engine is mounted as:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="289">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="290">
            
            

            

            <code class="ruby">  #     mount MyEngine, at: &#39;/my_engine&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="291">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="292">
            
            

            

            <code class="ruby">  # The router that invoked `devise_for`, in the example above, would be:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="293">
            
            

            

            <code class="ruby">  # config.router_name = :my_engine</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="294">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="295">
            
            

            

            <code class="ruby">  # When using OmniAuth, Devise cannot automatically set OmniAuth path,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="296">
            
            

            

            <code class="ruby">  # so you need to do it manually. For the users scope, it would be:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="297">
            
            

            

            <code class="ruby">  # config.omniauth_path_prefix = &#39;/my_engine/users/auth&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="298">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="299">
            
            

            

            <code class="ruby">  # ==&gt; Turbolinks configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="300">
            
            

            

            <code class="ruby">  # If your app is using Turbolinks, Turbolinks::Controller needs to be included to make redirection work correctly:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="301">
            
            

            

            <code class="ruby">  #</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="302">
            
            

            

            <code class="ruby">  # ActiveSupport.on_load(:devise_failure_app) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="303">
            
            

            

            <code class="ruby">  #   include Turbolinks::Controller</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="304">
            
            

            

            <code class="ruby">  # end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="305">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="306">
            
            

            

            <code class="ruby">  # ==&gt; Configuration for :registerable</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="307">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="308">
            
            

            

            <code class="ruby">  # When set to false, does not sign a user in automatically after their password is</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="309">
            
            

            

            <code class="ruby">  # changed. Defaults to true, so a user is signed in automatically after changing a password.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="310">
            
            

            

            <code class="ruby">  # config.sign_in_after_change_password = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="311">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="e9e15341a2058fe44b22549479935ee505683e25">
  <div class="header">
    <h3>config/initializers/filter_parameter_logging.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Configure sensitive parameters which will be filtered from the log file.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="4">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.config.filter_parameters += [:password]</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="4070c85b5bb4cbe653871c4acf5ceae26e6636e8">
  <div class="header">
    <h3>config/initializers/inflections.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>0</b> relevant lines.
      <span class="green"><b>0</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Add new inflection rules using the following format. Inflections</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># are locale specific, and you may define rules for as many different</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"># locales as you wish. All of these examples are active by default:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># ActiveSupport::Inflector.inflections(:en) do |inflect|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby">#   inflect.plural /^(ox)$/i, &#39;\1en&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">#   inflect.singular /^(ox)en/i, &#39;\1&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">#   inflect.irregular &#39;person&#39;, &#39;people&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby">#   inflect.uncountable %w( fish sheep )</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"># end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby"># These inflection rules are supported but not enabled by default:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"># ActiveSupport::Inflector.inflections(:en) do |inflect|</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">#   inflect.acronym &#39;RESTful&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby"># end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="70995a6eb10ce5e725ee22692fc93e42aa4f4114">
  <div class="header">
    <h3>config/initializers/mime_types.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Add new mime types for use in respond_to blocks:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Mime::Type.register &quot;text/richtext&quot;, :rtf</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="5">
            <span class="hits">1</span>
            

            

            <code class="ruby">Mime::Type.register &quot;application/pdf&quot;, :pdf</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="9d42e23ece2bb52e1004b95cda3c1a2d1feba46a">
  <div class="header">
    <h3>config/initializers/premailer_rails.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">Premailer::Rails.config.merge!(preserve_styles: true, remove_ids: true)</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="0b907dc98e64e110357f2eba5417b68a7a4fb7a1">
  <div class="header">
    <h3>config/initializers/wicked_pdf.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># WickedPDF Global Configuration</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># Use this to set up shared configuration options for your entire application.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># Any of the configuration options shown here can also be applied to single</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"># models by passing arguments to the `render :pdf` call.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="7">
            
            

            

            <code class="ruby"># To learn more, check out the README:</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="8">
            
            

            

            <code class="ruby">#</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby"># https://github.com/mileszs/wicked_pdf/blob/master/README.md</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="11">
            <span class="hits">1</span>
            

            

            <code class="ruby">WickedPdf.config = {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">    # Path to the wkhtmltopdf executable: This usually isn&#39;t needed if using</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">    # one of the wkhtmltopdf-binary family of gems.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby">    # exe_path: &#39;/usr/local/bin/wkhtmltopdf&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="15">
            
            

            

            <code class="ruby">    #   or</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">    # exe_path: Gem.bin_path(&#39;wkhtmltopdf-binary&#39;, &#39;wkhtmltopdf&#39;)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">    # Layout file to be used for all PDFs</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">    # (but can be overridden in `render :pdf` calls)</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby">    # layout: &#39;pdf.html&#39;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  }</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="22">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="f3a7bac3eb987c7dd26ccbec0ed7357fb3918f25">
  <div class="header">
    <h3>config/initializers/wrap_parameters.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>2</b> relevant lines.
      <span class="green"><b>2</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="never" data-hits="" data-linenumber="1">
            
            

            

            <code class="ruby"># Be sure to restart your server when you modify this file.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby"># This file contains settings for ActionController::ParamsWrapper which</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby"># is enabled by default.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby"># Enable parameter wrapping for JSON. You can disable this by setting :format to an empty array.</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">ActiveSupport.on_load(:action_controller) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="2" data-linenumber="8">
            <span class="hits">2</span>
            

            

            <code class="ruby">  wrap_parameters format: [:json]</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="9">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="10">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby"># To enable root element in JSON for ActiveRecord objects.</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby"># ActiveSupport.on_load(:active_record) do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">#   self.include_root_in_json = true</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="14">
            
            

            

            <code class="ruby"># end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="c0d2c18de8d9cd0936d89fd038432d91027a0794">
  <div class="header">
    <h3>config/routes.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>154</b> relevant lines.
      <span class="green"><b>154</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">Rails.application.routes.draw do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="2">
            <span class="hits">1</span>
            

            

            <code class="ruby">  apipie</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="3">
            <span class="hits">1</span>
            

            

            <code class="ruby">  devise_for :users, controllers: {</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">    passwords: &#39;users/passwords&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  }</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="6">
            <span class="hits">1</span>
            

            

            <code class="ruby">  devise_scope :user do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="7">
            <span class="hits">1</span>
            

            

            <code class="ruby">    root to: &quot;devise/sessions#new&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="8">
            <span class="hits">1</span>
            

            

            <code class="ruby">    get &#39;login&#39;, to: &#39;devise/sessions#new&#39;, as: :login</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="9">
            <span class="hits">1</span>
            

            

            <code class="ruby">    delete &#39;logout&#39;, to: &#39;devise/sessions#destroy&#39;, as: :logout</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="10">
            <span class="hits">1</span>
            

            

            <code class="ruby">    get &#39;thanks&#39;, to: &#39;users/passwords#thanks&#39;, as: :thanks</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="11">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="12">
            
            

            

            <code class="ruby">  #resources :users</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="13">
            
            

            

            <code class="ruby">  # For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="14">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;/home&#39;, to: &#39;home#index&#39;, as: :home</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="15">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;/denied&#39;, to: &#39;home#denied&#39;, as: :denied</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="16">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="17">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="18">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="19">
            
            

            

            <code class="ruby">  ## Payments  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="20">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="21">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="22">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;/payments&#39;, to: &#39;payments#index&#39;, as: :payments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="23">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;/payments/:id/thanks&#39;, to: &#39;payments#thanks&#39;, as: :payments_thanks</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="24">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="25">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="26">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="27">
            
            

            

            <code class="ruby">  ## WebPay Gateway</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="28">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;webpay&#39;, to: &#39;webpay#pay&#39;, as:  :webpay</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="29">
            
            

            

            <code class="ruby">  # The return URL for confirm transaction</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="30">
            <span class="hits">1</span>
            

            

            <code class="ruby">  post &#39;webpay/confirmation&#39;, to: &#39;webpay#confirmation&#39;, as:  :webpay_confirmation</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="31">
            
            

            

            <code class="ruby">    # The success URL</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="32">
            <span class="hits">1</span>
            

            

            <code class="ruby">  post &#39;webpay/success&#39;, to: &#39;webpay#success&#39;,  as:  :webpay_success</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="33">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;webpay/failure&#39;, to: &#39;webpay#failure&#39;,  as:  :webpay_failure</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="34">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="35">
            
            

            

            <code class="ruby">  </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="36">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="37">
            
            

            

            <code class="ruby">  ## MasterCard Gateway</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="38">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;mastercard_lightbox/:provider/:object_id&#39;, to: &#39;mastercard#mastercard_lightbox&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="39">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;mastercard_script/:provider&#39;, to: &#39;mastercard#load_mastercard_script&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="40">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;mastercard/cancelCallback&#39;, to: &#39;mastercard#cancelCallback&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="41">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;mastercard/errorCallback&#39;, to: &#39;mastercard#errorCallback&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="42">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;mastercard/completeCallback&#39;, to: &#39;mastercard#completeCallback&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="43">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="44">
            
            

            

            <code class="ruby">  # Data Download</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="45">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;/download_zipcodes&#39;, to: &#39;data_download#download_zipcodes&#39;, as: :download_zipcodes</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="46">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="47">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="48">
            
            

            

            <code class="ruby">  #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="49">
            
            

            

            <code class="ruby">  #Services</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="50">
            
            

            

            <code class="ruby">  ################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="51">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;services/:id/report_pdf&#39;, :to =&gt; &#39;services#report_pdf&#39; , :as =&gt; :report_pdf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="52">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="53">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="54">
            
            

            

            <code class="ruby"> #################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="55">
            
            

            

            <code class="ruby">  #Quotations</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="56">
            
            

            

            <code class="ruby">  ################################################################################</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="57">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;quotations/:id/show&#39;, :to =&gt; &#39;quotations#show&#39; , :as =&gt; :quotation_pdf</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="58">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="59">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="60">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="61">
            
            

            

            <code class="ruby">  #API ROUTES</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="62">
            <span class="hits">1</span>
            

            

            <code class="ruby">  namespace :api do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="63">
            <span class="hits">1</span>
            

            

            <code class="ruby">    namespace :v1, defaults: {format: :json} do</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="64">
            
            

            

            <code class="ruby">      # AUTHENTICATION</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="65">
            <span class="hits">1</span>
            

            

            <code class="ruby">      devise_scope :user do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="66">
            <span class="hits">1</span>
            

            

            <code class="ruby">        post &quot;sign_in&quot;, to: &quot;sessions#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="67">
            <span class="hits">1</span>
            

            

            <code class="ruby">        post &quot;password&quot;, to: &quot;passwords#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="68">
            
            

            

            <code class="ruby">      end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="69">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="70">
            
            

            

            <code class="ruby">      # ABILITY</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="71">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;abilities/check&#39;, to: &quot;abilities#check&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="72">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="73">
            
            

            

            <code class="ruby">      # USERS</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="74">
            <span class="hits">1</span>
            

            

            <code class="ruby">    	get &#39;users&#39;, to: &quot;users#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="75">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;users/:id&#39;, to: &quot;users#show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="76">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;users/:id/notifications&#39;, to: &quot;users#notifications&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="77">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;users/:id/notifications/:notification_id/read&#39;, to: &quot;users#notification_read&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="78">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;users/:id/notifications_unread&#39;, to: &quot;users#notifications_unread&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="79">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="80">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;users/:id/edit&#39;, to: &quot;users#edit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="81">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;users&#39;, to: &quot;users#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="82">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;users/:id&#39;, to: &quot;users#update&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="83">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;users/:id&#39;, to: &quot;users#destroy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="84">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;user_unique_ids&#39;, to: &quot;users#user_unique_ids&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="85">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;cost_centers&#39;, to: &quot;users#cost_centers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="86">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="87">
            
            

            

            <code class="ruby">      # Technicians</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="88">
            <span class="hits">1</span>
            

            

            <code class="ruby">    	get &#39;technicians&#39;, to: &quot;technicians#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="89">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;technicians/:id/reintegrated_spare_parts&#39;, to: &quot;technicians#reintegrated_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="90">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;get_technicians&#39;, to: &quot;technicians#get_technicians&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="91">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;get_technicians_by_taxon&#39;, to: &quot;technicians#get_technicians_by_taxon&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="92">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;technicians/:id&#39;, to: &quot;technicians#show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="93">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;technicians/:id/edit&#39;, to: &quot;technicians#edit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="94">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;technicians&#39;, to: &quot;technicians#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="95">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;technicians/:id&#39;, to: &quot;technicians#update&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="96">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;technicians/:id&#39;, to: &quot;technicians#destroy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="97">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="98">
            
            

            

            <code class="ruby">      # Customers</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="99">
            <span class="hits">1</span>
            

            

            <code class="ruby">    	get &#39;customers&#39;, to: &quot;customers#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="100">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customers/:id&#39;, to: &quot;customers#show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="101">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customers/:id/edit&#39;, to: &quot;customers#edit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="102">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customers/:id/products&#39;, to: &quot;customers#products&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="103">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers&#39;, to: &quot;customers#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="104">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customersAdditional&#39;, to: &quot;customers#createAdditional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="105">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;customers/:id&#39;, to: &quot;customers#update&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="106">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;customersAdditional/:id&#39;, to: &quot;customers#updateAdditional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="107">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;customers/:id&#39;, to: &quot;customers#destroy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="108">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;customersAdditional/:id&#39;, to: &quot;customers#destroyAdditional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="109">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="110">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers/:customer_id/create_product&#39;, to: &quot;customers#create_product&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="111">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;customers/:customer_id/update_product&#39;, to: &quot;customers#update_product&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="112">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers/:customer_id/create_product_additional&#39;, to: &quot;customers#create_product_additional&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="113">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;customers/:customer_id/customer_product/:customer_product_id&#39;, to: &quot;customers#delete_product&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="114">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customer_products/:id/assign_spare_parts&#39;, to: &quot;customers#assign_product_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="115">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customer_products/:id/reintegrate_product_spare_parts&#39;, to: &quot;customers#reintegrate_product_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="116">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customer_products/:id/customer_product_used_spare_parts&#39;, to: &quot;customers#customer_product_used_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="117">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customer_products/:customer_product_id/customer_product_requested_spare_parts&#39;, to: &quot;customers#customer_product_requested_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="118">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customer_products/getCheckStates&#39;, to: &quot;customers#getCheckStates&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="119">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="120">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="121">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="122">
            
            

            

            <code class="ruby">      #Customer Policies</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="123">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers/:customer_id/create_policy&#39;, to: &quot;customers#create_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="124">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;customers/:customer_id/policies/:policy_id/update_policy&#39;, to: &quot;customers#update_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="125">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers/:customer_id/create_service&#39;, to: &quot;customers#create_service&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="126">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;customers/:customer_id/services/:service_id/update_service&#39;, to: &quot;customers#update_service&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="127">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customers/:customer_id/policies/:policy_id&#39;, to: &quot;customers#show_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="128">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;customers/:customer_id/policies/:policy_id&#39;, to: &quot;customers#destroy_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="129">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers/:customer_id/policies/:policy_id/validate_payment&#39;, to: &quot;customers#validate_policy_payment&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="130">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="131">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="132">
            
            

            

            <code class="ruby">      #Customer Complaints</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="133">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customers/:id/complaints&#39;, to: &quot;customers#complaints&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="134">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customers/:id/create_complaint&#39;, to: &quot;customers#create_complaint&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="135">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;customers/:id/update_complaint&#39;, to: &quot;customers#update_complaint&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="136">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="137">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="138">
            
            

            

            <code class="ruby">      # Visits</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="139">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;visits/:id&#39;, to: &quot;visits#show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="140">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;visits/:id/technicians&#39;, to: &quot;visits#technicians&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="141">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="142">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;visits/:id&#39;, to: &quot;visits#update&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="143">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;visits/:id/start&#39;, to: &quot;visits#start_visit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="144">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;visits/:id/finish&#39;, to: &quot;visits#finish_visit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="145">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;visits/:id/arrival&#39;, to: &quot;visits#arrival_visit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="146">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;visits/:id/received_spare_parts&#39;, to: &quot;visits#received_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="147">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;visits/:id/assign_spare_parts&#39;, to: &quot;visits#assign_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="148">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;visits/:id/technician_spare_parts/:technician_id&#39;, to: &quot;visits#technician_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="149">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;technician_all_spare_parts/:technician_id&#39;, to: &quot;visits#technician_all_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="150">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;visits/:id/request_spare_parts&#39;, to: &quot;visits#request_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="151">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;visits/:id/requested_spare_parts&#39;, to: &quot;visits#requested_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="152">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="153">
            
            

            

            <code class="ruby">      # Quotations</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="154">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;quotations/:id&#39;, to: &quot;quotations#show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="155">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;quotations/:id&#39;, to: &quot;quotations#update&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="156">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;quotations/:id/validate_payment&#39;, to: &quot;quotations#validate_payment&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="157">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;quotations/:id/create_spare_part&#39;, to: &quot;quotations#create_spare_part&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="158">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;quotations/:id/spare_parts/:quotation_spare_part_id&#39;, to: &quot;quotations#update_spare_part&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="159">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;quotations/:id/spare_parts/:quotation_spare_part_id&#39;, to: &quot;quotations#delete_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="160">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="161">
            
            

            

            <code class="ruby">      # Additional Address</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="162">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customersAdditionalAddress&#39;, to: &quot;customers#createAdditionalAddress&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="163">
            <span class="hits">1</span>
            

            

            <code class="ruby">    	patch &#39;customersAdditionalAddress/:id&#39;, to: &quot;customers#updateAdditionalAddress&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="164">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;customersAdditionalAddress/:id&#39;, to: &quot;customers#destroyAdditionalAddress&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="165">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="166">
            
            

            

            <code class="ruby">      # Taxons</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="167">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;taxons&#39;, to: &quot;taxons#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="168">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;taxon_names&#39;, to: &quot;taxons#index_names&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="169">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="170">
            
            

            

            <code class="ruby">      # Country Administrative demarcations</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="171">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;administrative_demarcations&#39;, to: &quot;administrative_demarcations#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="172">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="173">
            
            

            

            <code class="ruby">      # Products</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="174">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;products&#39;, to: &quot;products#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="175">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;products_by_tnr&#39;, to: &quot;products#index_by_tnr&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="176">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="177">
            
            

            

            <code class="ruby">      # Services</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="178">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services&#39;, to: &quot;services#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="179">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:technician_id/technician&#39;, to: &quot;services#index_by_techinician&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="180">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id&#39;, to: &quot;services#show&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="181">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/status_changes&#39;, to: &quot;services#status_changes&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="182">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="183">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/status_label&#39;, to: &quot;services#status_label&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="184">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/total_price&#39;, to: &quot;services#total_price&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="185">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/spare_parts&#39;, to: &quot;services#spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="186">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/requested_spare_parts&#39;, to: &quot;services#requested_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="187">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/selected_spare_parts&#39;, to: &quot;services#selected_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="188">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;services/:id/create_spare_part&#39;, to: &quot;services#create_spare_part&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="189">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;services/:id/assign_spare_parts&#39;, to: &quot;services#assign_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="190">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/technician_spare_parts/:technician_id&#39;, to: &quot;services#technician_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="191">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services_technician_all_spare_parts/:technician_id&#39;, to: &quot;services#technician_all_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="192">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services_technician_all_used_spare_parts/:technician_id&#39;, to: &quot;services#technician_all_used_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="193">
            
            

            

            <code class="ruby">    </code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="194">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;services/:id/spare_parts/:service_spare_part_id&#39;, to: &quot;services#update_spare_part&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="195">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;services/:id/spare_parts/:service_spare_part_id&#39;, to: &quot;services#delete_spare_parts&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="196">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;services/:id/customer_complaints&#39;, to: &quot;services#customer_complaints&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="197">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="198">
            
            

            

            <code class="ruby">      # Service Visits</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="199">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;services/:id/visits&#39;, to: &quot;services#create_visit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="200">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &#39;services/:id/visits/:visit_id/update_visit&#39;, to: &quot;services#update_visit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="201">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;services/:id/visits/:visit_id/cancel_visit&#39;, to: &quot;services#cancel_visit&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="202">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="203">
            
            

            

            <code class="ruby">      # Calendar Events</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="204">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;calendar_events&#39;, to: &quot;calendar_events#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="205">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;technician_calendar_events&#39;, to: &quot;calendar_events#index_technician_calendar_events&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="206">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;calendar_events&#39;, to: &quot;calendar_events#create&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="207">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;calendar_events/destroy_event&#39;, to: &quot;calendar_events#destroy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="208">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="209">
            
            

            

            <code class="ruby">      # Viatic values</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="210">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;viatic_values&#39;, to: &quot;viatic_values#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="211">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="212">
            
            

            

            <code class="ruby">      # Labor Prices</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="213">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;labor_prices&#39;, to: &quot;labor_prices#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="214">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="215">
            
            

            

            <code class="ruby">      # Service Prices</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="216">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;service_prices&#39;, to: &quot;service_prices#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="217">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="218">
            
            

            

            <code class="ruby">      # Payments</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="219">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;payments&#39;, to: &quot;payments#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="220">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;payments/save_data&#39;, :to =&gt; &#39;payments#save_payment_data&#39;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="221">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="222">
            
            

            

            <code class="ruby">      # Payments methods</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="223">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;payment_methods&#39;, to: &quot;payment_methods#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="224">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="225">
            
            

            

            <code class="ruby">      # File Resources</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="226">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &#39;file_resources/:id&#39;, to: &quot;file_resources#destroy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="227">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;file_resources/:id/visit_customer_products&#39;, to: &quot;file_resources#visit_product_images&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="228">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;file_resources/:id/checklist_product_images&#39;, to: &quot;file_resources#checklist_product_images&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="229">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="230">
            
            

            

            <code class="ruby">      # Consumabless</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="231">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;consumables&#39;, to: &quot;consumables#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="232">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="233">
            
            

            

            <code class="ruby">      # Cchecklists</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="234">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;checklists&#39;, to: &quot;checklists#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="235">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customer_product_checklists&#39;, to: &quot;checklists#customer_product_checklists&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="236">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;customer_product_checklists/:customer_product_id/get_answers&#39;, to: &quot;checklists#get_answers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="237">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;customer_product_checklists/:customer_product_id/answers&#39;, to: &quot;checklists#answers&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="238">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="239">
            
            

            

            <code class="ruby">      </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="240">
            
            

            

            <code class="ruby">      # Surveys</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="241">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &#39;survey_questions&#39;, to: &quot;survey_questions#index&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="242">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &#39;survey_questions/answer&#39;, to: &quot;survey_questions#answer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="243">
            
            

            

            <code class="ruby">      #MOCK</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="244">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &quot;/customer_t.json&quot;, to: &quot;customers#mock_customer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="245">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &quot;/customer_t.json&quot;, to: &quot;customers#mock_customer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="246">
            <span class="hits">1</span>
            

            

            <code class="ruby">      get &quot;/customer_t.json&quot;, to: &quot;customers#mock_customer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="247">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &quot;/customer_t.json&quot;, to: &quot;customers#mock_customer&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="248">
            <span class="hits">1</span>
            

            

            <code class="ruby">      post &quot;/policy_t.json&quot;, to: &quot;customers#mock_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="249">
            <span class="hits">1</span>
            

            

            <code class="ruby">      patch &quot;/policy_t.json&quot;, to: &quot;customers#mock_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="250">
            <span class="hits">1</span>
            

            

            <code class="ruby">      delete &quot;/policy_t.json&quot;, to: &quot;customers#mock_policy&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="251">
            
            

            

            <code class="ruby">       </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="252">
            
            

            

            <code class="ruby">    end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="253">
            
            

            

            <code class="ruby">  end </code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="254">
            
            

            

            <code class="ruby"></code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="255">
            <span class="hits">1</span>
            

            

            <code class="ruby">  get &#39;*page&#39;, to: &quot;home#index&quot;, constraints: -&gt; (req) do</code>
          </li>
        </div>
      
        <div>
          <li class="covered" data-hits="4" data-linenumber="256">
            <span class="hits">4</span>
            

            

            <code class="ruby">  	!req.xhr? &amp;&amp; req.format.html?</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="257">
            
            

            

            <code class="ruby">  end</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="258">
            
            

            

            <code class="ruby">end</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
        <div class="source_table" id="3ef4fa41c95d00236038d7daa53fa71235f9311d">
  <div class="header">
    <h3>config/spring.rb</h3>
    <h4>
      <span class="green">
  100.0%
</span>

      lines covered
    </h4>

    

    <div class="t-line-summary">
      <b>1</b> relevant lines.
      <span class="green"><b>1</b> lines covered</span> and
      <span class="red"><b>0</b> lines missed.</span>
    </div>

    

  </div>

  <pre>
    <ol>
      
        <div>
          <li class="covered" data-hits="1" data-linenumber="1">
            <span class="hits">1</span>
            

            

            <code class="ruby">Spring.watch(</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="2">
            
            

            

            <code class="ruby">  &quot;.ruby-version&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="3">
            
            

            

            <code class="ruby">  &quot;.rbenv-vars&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="4">
            
            

            

            <code class="ruby">  &quot;tmp/restart.txt&quot;,</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="5">
            
            

            

            <code class="ruby">  &quot;tmp/caching-dev.txt&quot;</code>
          </li>
        </div>
      
        <div>
          <li class="never" data-hits="" data-linenumber="6">
            
            

            

            <code class="ruby">)</code>
          </li>
        </div>
      
    </ol>
  </pre>
</div>

      
      </div>
    </div>
  </body>
</html>
