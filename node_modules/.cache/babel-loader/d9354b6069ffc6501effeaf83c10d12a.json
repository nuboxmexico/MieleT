{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/surveys/SurveyQuestionValue.jsx\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { flash_alert } from 'components/App';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nfunction SurveyQuestionValue(props) {\n  var _this = this;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  useEffect(function () {\n    props.handleQuestionAnswer(props.survey_question.id, value);\n  }, [value]);\n  useEffect(function () {\n    if (props.survey && props.survey.survey_answers && props.survey.survey_answers.length > 0) {\n      var answered = props.survey.survey_answers.find(function (answer) {\n        return answer.survey_question_id == props.survey_question.id;\n      });\n\n      if (answered) {\n        setValue(answered.answer);\n      }\n    }\n  }, [props.survey]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: \"MuiFormControl-fullWidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"survey_status-simple-select-outlined-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"survey_status-simple-select-outlined-label\",\n    id: \"survey_status-simple-select-outlined\",\n    value: value,\n    onChange: function onChange(e) {\n      return setValue(e.target.value);\n    },\n    label: \"-\",\n    name: \"survey_status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, _toConsumableArray(Array(props.survey_question.scale_max).keys()).map(function (value) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: props.survey_question.id + \"-survey_status-\" + value + 1,\n      value: value + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, value + 1);\n  }))));\n}\n\nvar structuredSelector = createStructuredSelector({});\nvar mapDispatchToProps = {};\nexport default connect(structuredSelector, mapDispatchToProps)(SurveyQuestionValue);","map":{"version":3,"sources":["/usr/src/app/javascript/components/surveys/SurveyQuestionValue.jsx"],"names":["React","useState","useEffect","axios","connect","createStructuredSelector","flash_alert","InputLabel","FormControl","MenuItem","Select","SurveyQuestionValue","props","value","setValue","handleQuestionAnswer","survey_question","id","survey","survey_answers","length","answered","find","answer","survey_question_id","e","target","Array","scale_max","keys","map","structuredSelector","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\"\nimport { createStructuredSelector } from \"reselect\";\nimport { flash_alert } from 'components/App';\n\n\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\n\nfunction SurveyQuestionValue(props){\n    \n    const [value, setValue] = useState(\"\");\n\n\n    useEffect(() => {\n        props.handleQuestionAnswer(props.survey_question.id, value)\n    }, [value]);\n    \n    useEffect(() => {\n        if(props.survey && props.survey.survey_answers && props.survey.survey_answers.length > 0){\n            let answered = props.survey.survey_answers.find(answer => answer.survey_question_id == props.survey_question.id)\n            if(answered){\n                setValue(answered.answer)\n            }\n        }\n    }, [props.survey]);\n    \n    \n\treturn (\n\t\t<React.Fragment>\n           <FormControl variant=\"outlined\" className=\"MuiFormControl-fullWidth\">\n                <InputLabel id=\"survey_status-simple-select-outlined-label\">-</InputLabel>\n                <Select\n                    labelId=\"survey_status-simple-select-outlined-label\"\n                    id=\"survey_status-simple-select-outlined\"\n                    value={value}\n                    onChange={(e) => setValue(e.target.value)}\n                    label=\"-\"\n                    name=\"survey_status\"\n                >\n                { [...Array(props.survey_question.scale_max).keys()].map((value) => (\n                    <MenuItem key={props.survey_question.id+\"-survey_status-\"+value+1} value={value+1}>{value+1}</MenuItem>\n                ))}\n            </Select>\n        </FormControl>\n\t\t</React.Fragment>\n\t);\n  \n}\n\nconst structuredSelector = createStructuredSelector({\n});\nconst mapDispatchToProps = {};\n\nexport default connect(structuredSelector, mapDispatchToProps)(SurveyQuestionValue)\n\n"]},"metadata":{},"sourceType":"module"}