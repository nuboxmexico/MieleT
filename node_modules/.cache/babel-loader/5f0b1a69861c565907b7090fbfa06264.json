{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/services/quotations/QuotationsList.jsx\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport Grid from '@material-ui/core/Grid';\nimport { flash_alert } from 'components/App';\nimport { csrf, headers, money_format, date_format, date_event_format, date_difference_in_hours } from \"constants/csrf\";\nimport pluralize from 'pluralize';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport QuotationTabs from \"components/services/quotations/QuotationTabs\";\nimport QuotationVersions from \"components/services/quotations/QuotationVersions\";\nimport { useTranslation } from \"react-i18next\";\nvar useStyles = makeStyles(function (theme) {\n  var _heading;\n\n  return {\n    root: {\n      '& > *': {\n        margin: theme.spacing(1)\n      }\n    },\n    heading: (_heading = {\n      fontSize: theme.typography.pxToRem(15),\n      flexBasis: '33.33%',\n      flexShrink: 0\n    }, _defineProperty(_heading, '@media (min-width:1100px)', {\n      // eslint-disable-line no-useless-computed-key\n      flexBasis: 'auto'\n    }), _defineProperty(_heading, '@media (max-width:545px)', {\n      // eslint-disable-line no-useless-computed-key\n      flexBasis: '100%'\n    }), _defineProperty(_heading, \"p\", {\n      display: \"inline-block\"\n    }), _heading),\n    heading_last: {\n      flexBasis: '33.33%'\n    },\n    secondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary\n    }\n  };\n});\n\nfunction QuotationsList(props) {\n  var _this = this;\n\n  var _useTranslation = useTranslation('translation', {\n    keyPrefix: 'services.quotes'\n  }),\n      t = _useTranslation.t;\n\n  var classes = useStyles();\n\n  var handleQuotationChange = function handleQuotationChange(panel) {\n    return function (event, newExpanded) {};\n  };\n\n  function downloadQuotation(quotation_id) {\n    window.open(\"/quotations/\".concat(quotation_id, \"/show\"), '_newtab');\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Accordion, {\n    defaultExpanded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }),\n    \"aria-controls\": \"panel2a-content\",\n    id: \"paneladditional-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"panel-custom-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, t('title'))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, props.quotations && props.quotations.map(function (quotation, index) {\n    var labelId = \"accordeon-quotation-\".concat(quotation.id, \"-\").concat(index);\n    return /*#__PURE__*/React.createElement(Accordion, {\n      onChange: handleQuotationChange(labelId),\n      key: labelId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(AccordionSummary, {\n      className: 'summary-container quotation-container',\n      expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 61\n        }\n      }),\n      \"aria-controls\": \"\".concat(labelId, \"-content\"),\n      id: \"\".concat(labelId, \"-header\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      className: classes.heading,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"visit-summary-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 53\n      }\n    }, t('rowQuote')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 109\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"visit-summary-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 87\n      }\n    }, \"N\\xB0 \", props.quotations.length - index))), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.heading,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"visit-summary-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 53\n      }\n    }, t('rowDate')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 108\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"visit-summary-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 53\n      }\n    }, date_format(quotation.created_at))), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.heading,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"visit-summary-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 53\n      }\n    }, t('rowUntil')), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 109\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"visit-summary-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 53\n      }\n    }, date_format(quotation.valid_until))), /*#__PURE__*/React.createElement(Typography, {\n      className: classes.heading_last,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: props.btn_classname + \"customers-scheddule-visit-link\",\n      color: \"primary\",\n      onClick: function onClick() {\n        return downloadQuotation(quotation.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(Tooltip, {\n      title: /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"service-tooltip\",\n        dangerouslySetInnerHTML: {\n          __html: \"<span className=\\\"visit-summary-2\\\">Descargar cotizaci\\xF3n</span>\" || \"\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 69\n        }\n      })),\n      arrow: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 63\n      }\n    }, \"download\"))), /*#__PURE__*/React.createElement(QuotationVersions, {\n      quotation: quotation,\n      btn_classname: props.btn_classname,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(AccordionDetails, {\n      className: \"visit-accordeon-details\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(QuotationTabs, {\n      index: index,\n      customerPaymentDate: props.customerPaymentDate,\n      selectedPaymentDate: props.selectedPaymentDate,\n      invoiceCheck: props.invoiceCheck,\n      validated_payment: props.validated_payment,\n      noPaymentCheck: props.noPaymentCheck,\n      totalAmount: props.totalAmount,\n      paymentChannel: props.paymentChannel,\n      serviceID: props.serviceID,\n      current_user: props.current_user,\n      quotation: quotation,\n      service_type: props.service_type,\n      country: props.country,\n      countryIVA: props.countryIVA,\n      zipcode: props.zipcode,\n      administrative_demarcation: props.administrative_demarcation,\n      customer_products: props.selectedProductRows,\n      callbacks: props.callbacks,\n      setLoading: props.setLoading,\n      email: props.email,\n      email2: props.email2,\n      serviceStatusLabel: props.serviceStatusLabel // ADD SPARE PARTS\n      ,\n      userLoading: props.userLoading,\n      canAddSparePart: props.canAddSparePart,\n      displayProducTable: props.displayProducTable,\n      classes: props.classes,\n      filterText: props.filterText,\n      changeFilterText: props.changeFilterText,\n      handleClear: props.handleClear,\n      handleAddSparePart: props.handleAddSparePart,\n      products_columns: props.products_columns,\n      products: props.products,\n      total: props.total,\n      handleProductsPerRowsChange: props.handleProductsPerRowsChange,\n      handleProductsPageChange: props.handleProductsPageChange,\n      handleProductRowChange: props.handleProductRowChange,\n      selectedSparePartsRows: props.selectedSparePartsRows // Viatic amount\n      ,\n      viaticAmout: quotation.viatic_amount > 0 && quotation.viatic_amount || props.viaticAmout,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 57\n      }\n    })))));\n  }))))));\n}\n\nvar structuredSelector = createStructuredSelector({});\nvar mapDispatchToProps = {};\nexport default connect(structuredSelector, mapDispatchToProps)(QuotationsList);","map":{"version":3,"sources":["/usr/src/app/javascript/components/services/quotations/QuotationsList.jsx"],"names":["React","useState","useEffect","axios","connect","createStructuredSelector","Grid","flash_alert","csrf","headers","money_format","date_format","date_event_format","date_difference_in_hours","pluralize","Accordion","AccordionSummary","AccordionDetails","Typography","ExpandMoreIcon","makeStyles","Link","Button","Tooltip","QuotationTabs","QuotationVersions","useTranslation","useStyles","theme","root","margin","spacing","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","display","heading_last","secondaryHeading","color","palette","text","secondary","QuotationsList","props","keyPrefix","t","classes","handleQuotationChange","panel","event","newExpanded","downloadQuotation","quotation_id","window","open","quotations","map","quotation","index","labelId","id","length","created_at","valid_until","btn_classname","__html","customerPaymentDate","selectedPaymentDate","invoiceCheck","validated_payment","noPaymentCheck","totalAmount","paymentChannel","serviceID","current_user","service_type","country","countryIVA","zipcode","administrative_demarcation","selectedProductRows","callbacks","setLoading","email","email2","serviceStatusLabel","userLoading","canAddSparePart","displayProducTable","filterText","changeFilterText","handleClear","handleAddSparePart","products_columns","products","total","handleProductsPerRowsChange","handleProductsPageChange","handleProductRowChange","selectedSparePartsRows","viatic_amount","viaticAmout","structuredSelector","mapDispatchToProps"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAAQC,IAAR,EAAcC,OAAd,EAAuBC,YAAvB,EAAqCC,WAArC,EAAiDC,iBAAjD,EAAoEC,wBAApE,QAAmG,gBAAnG;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AAEA,OAAOC,iBAAP,MAA8B,kDAA9B;AACA,SAAQC,cAAR,QAA6B,eAA7B;AAGA,IAAMC,SAAS,GAAGP,UAAU,CAAC,UAACQ,KAAD;AAAA;;AAAA,SAAY;AACrCC,IAAAA,IAAI,EAAE;AACJ,eAAS;AACPC,QAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AADD;AADL,KAD+B;AAMrCC,IAAAA,OAAO;AACHC,MAAAA,QAAQ,EAAEL,KAAK,CAACM,UAAN,CAAiBC,OAAjB,CAAyB,EAAzB,CADP;AAEHC,MAAAA,SAAS,EAAE,QAFR;AAGHC,MAAAA,UAAU,EAAE;AAHT,iCAIF,2BAJE,EAI4B;AAAE;AAC7BD,MAAAA,SAAS,EAAE;AADgB,KAJ5B,6BAOF,0BAPE,EAO2B;AAAE;AAC5BA,MAAAA,SAAS,EAAE;AADe,KAP3B,kCAUD;AACEE,MAAAA,OAAO,EAAE;AADX,KAVC,YAN8B;AAoBrCC,IAAAA,YAAY,EAAE;AACVH,MAAAA,SAAS,EAAE;AADD,KApBuB;AAuBrCI,IAAAA,gBAAgB,EAAE;AAClBP,MAAAA,QAAQ,EAAEL,KAAK,CAACM,UAAN,CAAiBC,OAAjB,CAAyB,EAAzB,CADQ;AAElBM,MAAAA,KAAK,EAAEb,KAAK,CAACc,OAAN,CAAcC,IAAd,CAAmBC;AAFR;AAvBmB,GAAZ;AAAA,CAAD,CAA5B;;AAgCA,SAASC,cAAT,CAAwBC,KAAxB,EAA8B;AAAA;;AAC1B,wBAAcpB,cAAc,CAAC,aAAD,EAAgB;AAAEqB,IAAAA,SAAS,EAAE;AAAb,GAAhB,CAA5B;AAAA,MAAQC,CAAR,mBAAQA,CAAR;;AACA,MAAMC,OAAO,GAAGtB,SAAS,EAAzB;;AACA,MAAMuB,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,KAAD;AAAA,WAAW,UAACC,KAAD,EAAQC,WAAR,EAAwB,CAChE,CAD6B;AAAA,GAA9B;;AAGA,WAASC,iBAAT,CAA2BC,YAA3B,EAAwC;AACpCC,IAAAA,MAAM,CAACC,IAAP,uBAA2BF,YAA3B,YAA+C,SAA/C;AACH;;AAGJ,sBACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEU,oBAAC,SAAD;AAAW,IAAA,eAAe,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,gBAAD;AACA,IAAA,UAAU,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADZ;AAEA,qBAAc,iBAFd;AAGA,IAAA,EAAE,EAAC,wBAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKA;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCP,CAAC,CAAC,OAAD,CAArC,CALA,CADJ,eAQI,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,KAAK,CAACY,UAAN,IAAoBZ,KAAK,CAACY,UAAN,CAAiBC,GAAjB,CAAqB,UAACC,SAAD,EAAYC,KAAZ,EAAsB;AAC5D,QAAMC,OAAO,iCAA0BF,SAAS,CAACG,EAApC,cAA0CF,KAA1C,CAAb;AACA,wBACQ,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAEX,qBAAqB,CAACY,OAAD,CAA1C;AAAqD,MAAA,GAAG,EAAEA,OAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,gBAAD;AACI,MAAA,SAAS,EAAE,uCADf;AAEI,MAAA,UAAU,eAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFhB;AAGI,iCAAkBA,OAAlB,aAHJ;AAII,MAAA,EAAE,YAAKA,OAAL,YAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAEb,OAAO,CAACjB,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCgB,CAAC,CAAC,UAAD,CAApC,CAFJ,eAE4D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF5D,eAGI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAYF,KAAK,CAACY,UAAN,CAAiBM,MAAjB,GAA0BH,KAAtC,CAAlC,CAHJ,CALJ,eAUI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAEZ,OAAO,CAACjB,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCgB,CAAC,CAAC,SAAD,CAApC,CADJ,eAC2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD3D,eAEI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCrC,WAAW,CAACiD,SAAS,CAACK,UAAX,CAA9C,CAFJ,CAVJ,eAcI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAEhB,OAAO,CAACjB,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCgB,CAAC,CAAC,UAAD,CAApC,CADJ,eAC4D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD5D,eAEI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCrC,WAAW,CAACiD,SAAS,CAACM,WAAX,CAA9C,CAFJ,CAdJ,eAkBI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAEjB,OAAO,CAACV,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAEO,KAAK,CAACqB,aAAN,GAAsB,gCAAzC;AAA2E,MAAA,KAAK,EAAC,SAAjF;AAA2F,MAAA,OAAO,EAAE;AAAA,eAAMb,iBAAiB,CAACM,SAAS,CAACG,EAAX,CAAvB;AAAA,OAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,KAAK,eACN,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAiC,QAAA,uBAAuB,EAAE;AAACK,UAAAA,MAAM,EAAG,wEAAmE;AAA7E,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADR;AAG2B,MAAA,KAAK,MAHhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIM;AAAG,MAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJN,CADJ,CADJ,eASI,oBAAC,iBAAD;AACI,MAAA,SAAS,EAAER,SADf;AAEI,MAAA,aAAa,EAAEd,KAAK,CAACqB,aAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,CAlBJ,CADJ,eAkCI,oBAAC,gBAAD;AAAkB,MAAA,SAAS,EAAC,yBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,IAAI,MAAV;AAAW,MAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,aAAD;AACI,MAAA,KAAK,EAAGN,KADZ;AAEI,MAAA,mBAAmB,EAAEf,KAAK,CAACuB,mBAF/B;AAGI,MAAA,mBAAmB,EAAEvB,KAAK,CAACwB,mBAH/B;AAII,MAAA,YAAY,EAAExB,KAAK,CAACyB,YAJxB;AAKI,MAAA,iBAAiB,EAAEzB,KAAK,CAAC0B,iBAL7B;AAMI,MAAA,cAAc,EAAE1B,KAAK,CAAC2B,cAN1B;AAOI,MAAA,WAAW,EAAE3B,KAAK,CAAC4B,WAPvB;AAQI,MAAA,cAAc,EAAE5B,KAAK,CAAC6B,cAR1B;AASI,MAAA,SAAS,EAAE7B,KAAK,CAAC8B,SATrB;AAUI,MAAA,YAAY,EAAE9B,KAAK,CAAC+B,YAVxB;AAWI,MAAA,SAAS,EAAEjB,SAXf;AAYI,MAAA,YAAY,EAAEd,KAAK,CAACgC,YAZxB;AAaI,MAAA,OAAO,EAAEhC,KAAK,CAACiC,OAbnB;AAcI,MAAA,UAAU,EAAEjC,KAAK,CAACkC,UAdtB;AAeI,MAAA,OAAO,EAAElC,KAAK,CAACmC,OAfnB;AAgBI,MAAA,0BAA0B,EAAEnC,KAAK,CAACoC,0BAhBtC;AAkBI,MAAA,iBAAiB,EAAEpC,KAAK,CAACqC,mBAlB7B;AAmBI,MAAA,SAAS,EAAErC,KAAK,CAACsC,SAnBrB;AAoBI,MAAA,UAAU,EAAEtC,KAAK,CAACuC,UApBtB;AAqBI,MAAA,KAAK,EAAEvC,KAAK,CAACwC,KArBjB;AAsBI,MAAA,MAAM,EAAExC,KAAK,CAACyC,MAtBlB;AAuBI,MAAA,kBAAkB,EAAEzC,KAAK,CAAC0C,kBAvB9B,CAwBI;AAxBJ;AA0BI,MAAA,WAAW,EAAE1C,KAAK,CAAC2C,WA1BvB;AA2BI,MAAA,eAAe,EAAE3C,KAAK,CAAC4C,eA3B3B;AA4BI,MAAA,kBAAkB,EAAE5C,KAAK,CAAC6C,kBA5B9B;AA6BI,MAAA,OAAO,EAAE7C,KAAK,CAACG,OA7BnB;AA8BI,MAAA,UAAU,EAAEH,KAAK,CAAC8C,UA9BtB;AA+BI,MAAA,gBAAgB,EAAE9C,KAAK,CAAC+C,gBA/B5B;AAgCI,MAAA,WAAW,EAAE/C,KAAK,CAACgD,WAhCvB;AAiCI,MAAA,kBAAkB,EAAEhD,KAAK,CAACiD,kBAjC9B;AAkCI,MAAA,gBAAgB,EAAEjD,KAAK,CAACkD,gBAlC5B;AAmCI,MAAA,QAAQ,EAAElD,KAAK,CAACmD,QAnCpB;AAoCI,MAAA,KAAK,EAAEnD,KAAK,CAACoD,KApCjB;AAqCI,MAAA,2BAA2B,EAAEpD,KAAK,CAACqD,2BArCvC;AAsCI,MAAA,wBAAwB,EAAErD,KAAK,CAACsD,wBAtCpC;AAuCI,MAAA,sBAAsB,EAAEtD,KAAK,CAACuD,sBAvClC;AAwCI,MAAA,sBAAsB,EAAEvD,KAAK,CAACwD,sBAxClC,CA0CI;AA1CJ;AA2CI,MAAA,WAAW,EAAE1C,SAAS,CAAC2C,aAAV,GAA0B,CAA1B,IAA+B3C,SAAS,CAAC2C,aAAzC,IAA0DzD,KAAK,CAAC0D,WA3CjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,CADJ,CAlCJ,CADR;AAwFH,GA1FoB,CADzB,CAFJ,CADJ,CARJ,CAFV,CADD;AAoHA;;AAED,IAAMC,kBAAkB,GAAGpG,wBAAwB,CAAC,EAAD,CAAnD;AAEA,IAAMqG,kBAAkB,GAAG,EAA3B;AAEA,eAAetG,OAAO,CAACqG,kBAAD,EAAqBC,kBAArB,CAAP,CAAgD7D,cAAhD,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport axios from 'axios';\nimport { connect } from \"react-redux\"\nimport { createStructuredSelector } from \"reselect\"\nimport Grid from '@material-ui/core/Grid';\nimport { flash_alert } from 'components/App';\nimport {csrf, headers, money_format, date_format,date_event_format, date_difference_in_hours} from \"constants/csrf\"\nimport pluralize from 'pluralize';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport QuotationTabs from \"components/services/quotations/QuotationTabs\";\n\nimport QuotationVersions from \"components/services/quotations/QuotationVersions\";\nimport {useTranslation} from \"react-i18next\"\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > *': {\n        margin: theme.spacing(1),\n      },\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n        ['@media (min-width:1100px)']: { // eslint-disable-line no-useless-computed-key\n            flexBasis: 'auto',\n        },\n        ['@media (max-width:545px)']: { // eslint-disable-line no-useless-computed-key\n            flexBasis: '100%',\n        },\n        p:{\n            display: \"inline-block\",\n        }\n      },\n    heading_last: {\n        flexBasis: '33.33%',\n    },\n    secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n    },\n}));\n\n\n  \n\nfunction QuotationsList(props){\n    const { t } = useTranslation('translation', { keyPrefix: 'services.quotes' });\n    const classes = useStyles();\n    const handleQuotationChange = (panel) => (event, newExpanded) => {\n    };\n\n    function downloadQuotation(quotation_id){\n        window.open(`/quotations/${quotation_id}/show`,'_newtab');\n    }\n\n    \n\treturn (\n\t\t<React.Fragment>\n\n            <Accordion defaultExpanded>\n                <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel2a-content\"\n                id=\"paneladditional-header\"\n                >\n                <h1 className=\"panel-custom-title\">{t('title')}</h1>\n                </AccordionSummary>\n                <AccordionDetails>\n                    <Grid container spacing={1}>\n                    \n                        <Grid item xs={12}>       \n                            {props.quotations && props.quotations.map((quotation, index) => {\n                                const labelId = `accordeon-quotation-${quotation.id}-${index}`;\n                                return (\n                                        <Accordion onChange={handleQuotationChange(labelId)} key={labelId}>\n                                            <AccordionSummary \n                                                className={'summary-container quotation-container'}\n                                                expandIcon={<ExpandMoreIcon />}\n                                                aria-controls={`${labelId}-content`}\n                                                id={`${labelId}-header`} >\n                                                <Typography className={classes.heading}>\n                                                    \n                                                    <span className=\"visit-summary-1\">{t('rowQuote')}</span><br/>\n                                                    <span className=\"visit-summary-2\"><strong>N° {props.quotations.length - index}</strong></span>\n                                                </Typography>\n                                                <Typography className={classes.heading}>\n                                                    <span className=\"visit-summary-1\">{t('rowDate')}</span><br/>\n                                                    <span className=\"visit-summary-2\">{date_format(quotation.created_at)}</span>\n                                                </Typography>\n                                                <Typography className={classes.heading}>\n                                                    <span className=\"visit-summary-1\">{t('rowUntil')}</span><br/>\n                                                    <span className=\"visit-summary-2\">{date_format(quotation.valid_until)}</span>\n                                                </Typography>\n                                                <Typography className={classes.heading_last}>\n                                                    <Button className={props.btn_classname + \"customers-scheddule-visit-link\"} color=\"primary\" onClick={() => downloadQuotation(quotation.id) }>\n                                                        <Tooltip title={\n                                                                <React.Fragment>\n                                                                    <div className=\"service-tooltip\" dangerouslySetInnerHTML={{__html: (`<span className=\"visit-summary-2\">Descargar cotización</span>` || \"\")}} /> \n                                                                </React.Fragment>} arrow>\n                                                            { <i className=\"material-icons\">download</i> }\n                                                        </Tooltip>\n                                                    </Button>\n                                                    <QuotationVersions \n                                                        quotation={quotation}\n                                                        btn_classname={props.btn_classname}\n                                                    />\n                                                </Typography>\n                                            </AccordionSummary>\n                                            <AccordionDetails className=\"visit-accordeon-details\">\n                                                <Grid container spacing={1}>\n                                                    <Grid item xs={12}>\n                                                        <QuotationTabs\n                                                            index ={index}\n                                                            customerPaymentDate={props.customerPaymentDate}\n                                                            selectedPaymentDate={props.selectedPaymentDate}\n                                                            invoiceCheck={props.invoiceCheck}\n                                                            validated_payment={props.validated_payment}\n                                                            noPaymentCheck={props.noPaymentCheck}\n                                                            totalAmount={props.totalAmount}\n                                                            paymentChannel={props.paymentChannel}\n                                                            serviceID={props.serviceID}\n                                                            current_user={props.current_user}\n                                                            quotation={quotation}\n                                                            service_type={props.service_type}\n                                                            country={props.country}\n                                                            countryIVA={props.countryIVA}\n                                                            zipcode={props.zipcode}\n                                                            administrative_demarcation={props.administrative_demarcation}\n                                                            \n                                                            customer_products={props.selectedProductRows}\n                                                            callbacks={props.callbacks}\n                                                            setLoading={props.setLoading}\n                                                            email={props.email}\n                                                            email2={props.email2}\n                                                            serviceStatusLabel={props.serviceStatusLabel}\n                                                            // ADD SPARE PARTS\n                                                            \n                                                            userLoading={props.userLoading}\n                                                            canAddSparePart={props.canAddSparePart}\n                                                            displayProducTable={props.displayProducTable}\n                                                            classes={props.classes}\n                                                            filterText={props.filterText}\n                                                            changeFilterText={props.changeFilterText}\n                                                            handleClear={props.handleClear}\n                                                            handleAddSparePart={props.handleAddSparePart}\n                                                            products_columns={props.products_columns}\n                                                            products={props.products}\n                                                            total={props.total}\n                                                            handleProductsPerRowsChange={props.handleProductsPerRowsChange}\n                                                            handleProductsPageChange={props.handleProductsPageChange}\n                                                            handleProductRowChange={props.handleProductRowChange}\n                                                            selectedSparePartsRows={props.selectedSparePartsRows}\n\n                                                            // Viatic amount\n                                                            viaticAmout={quotation.viatic_amount > 0 && quotation.viatic_amount || props.viaticAmout}\n                                                        />\n                                                    </Grid>\n                                                </Grid>\n                                            </AccordionDetails>\n                                        </Accordion>\n                                );\n                            })}\n                        </Grid>\n                    </Grid>\n                </AccordionDetails>\n            </Accordion>\n                \n\n\t\t   \n\t\t</React.Fragment>\n\t);\n  \n}\n\nconst structuredSelector = createStructuredSelector({\n});\nconst mapDispatchToProps = {};\n\nexport default connect(structuredSelector, mapDispatchToProps)(QuotationsList)\n\n"]},"metadata":{},"sourceType":"module"}