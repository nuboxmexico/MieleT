{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/javascript/components/finance/FinanceFilter/filters/RequestedFilter.jsx\",\n    _this = this;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport { FormControl, InputLabel, MenuItem, Select, ListItemText, Checkbox } from '@material-ui/core';\nimport { invoiceStatus } from 'constants/visitService';\nimport { createStructuredSelector } from \"reselect\";\nimport { connect } from \"react-redux\";\nimport { toQueryParams, modifyFilter } from '../../utils';\nimport { useTranslation } from 'react-i18next';\n\nvar InvoicedFilter = function InvoicedFilter(props) {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var page = props.page,\n      perPage = props.perPage,\n      getServices = props.getServices,\n      setServicesLoading = props.setServicesLoading,\n      options = props.options,\n      modifyFilter = props.modifyFilter,\n      selectedOptions = props.selectedOptions;\n  var requested = selectedOptions.requested;\n\n  function handleChange(event) {\n    var value = event.target.value;\n\n    if (value[value.length - 1] === \"all\") {\n      var newRequested = requested.length === options.length ? [] : options;\n      modifyFilter(_objectSpread(_objectSpread({}, selectedOptions), {}, {\n        requested: newRequested\n      }));\n      return;\n    }\n\n    modifyFilter(_objectSpread(_objectSpread({}, selectedOptions), {}, {\n      requested: event.target.value\n    }));\n  }\n\n  function handleOnClose() {\n    console.log('Me cerre!');\n    setServicesLoading(true);\n    getServices(page, perPage, '', setServicesLoading, toQueryParams(selectedOptions));\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    size: \"small\",\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"requested-filter-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, t('globalTables.serviceColumns.requested')), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"requested-filter-label\",\n    multiple: true,\n    id: \"requested-filter\",\n    value: requested,\n    label: t('globalTables.serviceColumns.requested'),\n    onChange: handleChange,\n    onClose: handleOnClose,\n    renderValue: function renderValue() {\n      return requested.map(function (option) {\n        return capitalizeFirstLetter(option);\n      }).join(', ');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"all\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    color: \"primary\",\n    checked: requested.length == options.length,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: t('finance.input.all'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), options.map(function (option) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: option,\n      value: option,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      color: \"primary\",\n      checked: requested.indexOf(option) > -1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: capitalizeFirstLetter(option),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }));\n  }))));\n};\n\nvar structuredSelector = createStructuredSelector({\n  selectedOptions: function selectedOptions(state) {\n    return state.finance_selected_options;\n  },\n  page: function page(state) {\n    return state.services_page;\n  },\n  perPage: function perPage(state) {\n    return state.services_per_page;\n  }\n});\nvar mapDispatchToProps = {\n  modifyFilter: modifyFilter\n};\nexport default connect(structuredSelector, mapDispatchToProps)(InvoicedFilter);","map":{"version":3,"sources":["/usr/src/app/javascript/components/finance/FinanceFilter/filters/RequestedFilter.jsx"],"names":["React","FormControl","InputLabel","MenuItem","Select","ListItemText","Checkbox","invoiceStatus","createStructuredSelector","connect","toQueryParams","modifyFilter","useTranslation","InvoicedFilter","props","t","page","perPage","getServices","setServicesLoading","options","selectedOptions","requested","handleChange","event","value","target","length","newRequested","handleOnClose","console","log","capitalizeFirstLetter","string","charAt","toUpperCase","slice","map","option","join","indexOf","structuredSelector","state","finance_selected_options","services_page","services_per_page","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { FormControl, InputLabel, MenuItem, Select, ListItemText, Checkbox } from '@material-ui/core';\nimport { invoiceStatus } from 'constants/visitService'\nimport { createStructuredSelector } from \"reselect\"\nimport { connect } from \"react-redux\"\nimport { toQueryParams, modifyFilter } from '../../utils'\nimport { useTranslation } from 'react-i18next';\n\nconst InvoicedFilter = (props) => {\n  const {t} = useTranslation();\n  const { page, perPage, getServices, setServicesLoading, options, modifyFilter, selectedOptions } = props;\n  const { requested } = selectedOptions;\n\n  function handleChange(event) {\n    const { target: { value } } = event;\n    if (value[value.length - 1] === \"all\") {\n      const newRequested = requested.length === options.length ? [] : options\n      modifyFilter({ ...selectedOptions, requested: newRequested });\n      return;\n    }\n    modifyFilter({ ...selectedOptions, requested: event.target.value })\n  }\n\n  function handleOnClose() {\n    console.log('Me cerre!');\n    setServicesLoading(true);\n    getServices(page, perPage, '', setServicesLoading, toQueryParams(selectedOptions));\n  }\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  return (\n    <>\n      <FormControl variant='outlined' size='small' fullWidth>\n        <InputLabel id=\"requested-filter-label\">{t('globalTables.serviceColumns.requested')}</InputLabel>\n        <Select\n          labelId=\"requested-filter-label\"\n          multiple\n          id=\"requested-filter\"\n          value={requested}\n          label={t('globalTables.serviceColumns.requested')}\n          onChange={handleChange}\n          onClose={handleOnClose}\n          renderValue={() => requested.map(option => capitalizeFirstLetter(option)).join(', ')}\n        >\n          <MenuItem value=\"all\" >\n            <Checkbox color=\"primary\" checked={requested.length == options.length} />\n            <ListItemText primary={t('finance.input.all')}/>\n          </MenuItem>\n          {\n            options.map(option => (\n              <MenuItem key={option} value={option}>\n                <Checkbox color='primary' checked={requested.indexOf(option) > -1} />\n                <ListItemText primary={capitalizeFirstLetter(option)} />\n              </MenuItem>\n            ))\n          }\n\n        </Select>\n      </FormControl>\n    </>\n  );\n};\n\nconst structuredSelector = createStructuredSelector({\n  selectedOptions: state => state.finance_selected_options,\n  page: state => state.services_page,\n  perPage: state => state.services_per_page,\n});\n\nconst mapDispatchToProps = { modifyFilter }\n\nexport default connect(structuredSelector, mapDispatchToProps)(InvoicedFilter);\n"]},"metadata":{},"sourceType":"module"}